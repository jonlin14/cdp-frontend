var o$=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var lke=o$((cs,us)=>{const a$=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}};a$();var zo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function s$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pT(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),e}var $={exports:{}},Zt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var a5=Object.getOwnPropertySymbols,l$=Object.prototype.hasOwnProperty,c$=Object.prototype.propertyIsEnumerable;function u$(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function d$(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(o){r[o]=o}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var cO=d$()?Object.assign:function(t,e){for(var i,n=u$(t),r,o=1;o<arguments.length;o++){i=Object(arguments[o]);for(var a in i)l$.call(i,a)&&(n[a]=i[a]);if(a5){r=a5(i);for(var s=0;s<r.length;s++)c$.call(i,r[s])&&(n[r[s]]=i[r[s]])}}return n};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT=cO,No=typeof Symbol=="function"&&Symbol.for,og=No?Symbol.for("react.element"):60103,f$=No?Symbol.for("react.portal"):60106,p$=No?Symbol.for("react.fragment"):60107,h$=No?Symbol.for("react.strict_mode"):60108,m$=No?Symbol.for("react.profiler"):60114,g$=No?Symbol.for("react.provider"):60109,b$=No?Symbol.for("react.context"):60110,v$=No?Symbol.for("react.forward_ref"):60112,y$=No?Symbol.for("react.suspense"):60113,w$=No?Symbol.for("react.memo"):60115,A$=No?Symbol.for("react.lazy"):60116,s5=typeof Symbol=="function"&&Symbol.iterator;function ag(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dO={};function If(t,e,i){this.props=t,this.context=e,this.refs=dO,this.updater=i||uO}If.prototype.isReactComponent={};If.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(ag(85));this.updater.enqueueSetState(this,t,e,"setState")};If.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fO(){}fO.prototype=If.prototype;function mT(t,e,i){this.props=t,this.context=e,this.refs=dO,this.updater=i||uO}var gT=mT.prototype=new fO;gT.constructor=mT;hT(gT,If.prototype);gT.isPureReactComponent=!0;var bT={current:null},pO=Object.prototype.hasOwnProperty,hO={key:!0,ref:!0,__self:!0,__source:!0};function mO(t,e,i){var n,r={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)pO.call(e,n)&&!hO.hasOwnProperty(n)&&(r[n]=e[n]);var s=arguments.length-2;if(s===1)r.children=i;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)r[n]===void 0&&(r[n]=s[n]);return{$$typeof:og,type:t,key:o,ref:a,props:r,_owner:bT.current}}function x$(t,e){return{$$typeof:og,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vT(t){return typeof t=="object"&&t!==null&&t.$$typeof===og}function k$(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(i){return e[i]})}var gO=/\/+/g,Iv=[];function bO(t,e,i,n){if(Iv.length){var r=Iv.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function vO(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>Iv.length&&Iv.push(t)}function Qk(t,e,i,n){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case og:case f$:o=!0}}if(o)return i(n,t,e===""?"."+w1(t,0):e),1;if(o=0,e=e===""?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){r=t[a];var s=e+w1(r,a);o+=Qk(r,s,i,n)}else if(t===null||typeof t!="object"?s=null:(s=s5&&t[s5]||t["@@iterator"],s=typeof s=="function"?s:null),typeof s=="function")for(t=s.call(t),a=0;!(r=t.next()).done;)r=r.value,s=e+w1(r,a++),o+=Qk(r,s,i,n);else if(r==="object")throw i=""+t,Error(ag(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return o}function qk(t,e,i){return t==null?0:Qk(t,"",e,i)}function w1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k$(t.key):e.toString(36)}function _$(t,e){t.func.call(t.context,e,t.count++)}function T$(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?Kk(t,n,i,function(o){return o}):t!=null&&(vT(t)&&(t=x$(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(gO,"$&/")+"/")+i)),n.push(t))}function Kk(t,e,i,n,r){var o="";i!=null&&(o=(""+i).replace(gO,"$&/")+"/"),e=bO(e,o,n,r),qk(t,T$,e),vO(e)}var yO={current:null};function Is(){var t=yO.current;if(t===null)throw Error(ag(321));return t}var S$={ReactCurrentDispatcher:yO,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:bT,IsSomeRendererActing:{current:!1},assign:hT};Zt.Children={map:function(t,e,i){if(t==null)return t;var n=[];return Kk(t,n,null,e,i),n},forEach:function(t,e,i){if(t==null)return t;e=bO(null,null,e,i),qk(t,_$,e),vO(e)},count:function(t){return qk(t,function(){return null},null)},toArray:function(t){var e=[];return Kk(t,e,null,function(i){return i}),e},only:function(t){if(!vT(t))throw Error(ag(143));return t}};Zt.Component=If;Zt.Fragment=p$;Zt.Profiler=m$;Zt.PureComponent=mT;Zt.StrictMode=h$;Zt.Suspense=y$;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S$;Zt.cloneElement=function(t,e,i){if(t==null)throw Error(ag(267,t));var n=hT({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=bT.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)pO.call(e,l)&&!hO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:og,type:t.type,key:r,ref:o,props:n,_owner:a}};Zt.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:b$,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:g$,_context:t},t.Consumer=t};Zt.createElement=mO;Zt.createFactory=function(t){var e=mO.bind(null,t);return e.type=t,e};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(t){return{$$typeof:v$,render:t}};Zt.isValidElement=vT;Zt.lazy=function(t){return{$$typeof:A$,_ctor:t,_status:-1,_result:null}};Zt.memo=function(t,e){return{$$typeof:w$,type:t,compare:e===void 0?null:e}};Zt.useCallback=function(t,e){return Is().useCallback(t,e)};Zt.useContext=function(t,e){return Is().useContext(t,e)};Zt.useDebugValue=function(){};Zt.useEffect=function(t,e){return Is().useEffect(t,e)};Zt.useImperativeHandle=function(t,e,i){return Is().useImperativeHandle(t,e,i)};Zt.useLayoutEffect=function(t,e){return Is().useLayoutEffect(t,e)};Zt.useMemo=function(t,e){return Is().useMemo(t,e)};Zt.useReducer=function(t,e,i){return Is().useReducer(t,e,i)};Zt.useRef=function(t){return Is().useRef(t)};Zt.useState=function(t){return Is().useState(t)};Zt.version="16.14.0";$.exports=Zt;var ze=$.exports,yl={exports:{}},yo={},wO={exports:{}},AO={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,i,n,r,o;if(typeof window=="undefined"||typeof MessageChannel!="function"){var a=null,s=null,l=function(){if(a!==null)try{var te=t.unstable_now();a(!0,te),a=null}catch(ae){throw setTimeout(l,0),ae}},c=Date.now();t.unstable_now=function(){return Date.now()-c},e=function(te){a!==null?setTimeout(e,0,te):(a=te,setTimeout(l,0))},i=function(te,ae){s=setTimeout(te,ae)},n=function(){clearTimeout(s)},r=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,h=window.setTimeout,m=window.clearTimeout;if(typeof console!="undefined"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof d=="object"&&typeof d.now=="function")t.unstable_now=function(){return d.now()};else{var w=f.now();t.unstable_now=function(){return f.now()-w}}var g=!1,A=null,x=-1,T=5,E=0;r=function(){return t.unstable_now()>=E},o=function(){},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<te?Math.floor(1e3/te):5};var z=new MessageChannel,L=z.port2;z.port1.onmessage=function(){if(A!==null){var te=t.unstable_now();E=te+T;try{A(!0,te)?L.postMessage(null):(g=!1,A=null)}catch(ae){throw L.postMessage(null),ae}}else g=!1},e=function(te){A=te,g||(g=!0,L.postMessage(null))},i=function(te,ae){x=h(function(){te(t.unstable_now())},ae)},n=function(){m(x),x=-1}}function B(te,ae){var fe=te.length;te.push(ae);e:for(;;){var ve=fe-1>>>1,be=te[ve];if(be!==void 0&&0<H(be,ae))te[ve]=ae,te[fe]=be,fe=ve;else break e}}function O(te){return te=te[0],te===void 0?null:te}function F(te){var ae=te[0];if(ae!==void 0){var fe=te.pop();if(fe!==ae){te[0]=fe;e:for(var ve=0,be=te.length;ve<be;){var Ie=2*(ve+1)-1,Ye=te[Ie],$e=Ie+1,tt=te[$e];if(Ye!==void 0&&0>H(Ye,fe))tt!==void 0&&0>H(tt,Ye)?(te[ve]=tt,te[$e]=fe,ve=$e):(te[ve]=Ye,te[Ie]=fe,ve=Ie);else if(tt!==void 0&&0>H(tt,fe))te[ve]=tt,te[$e]=fe,ve=$e;else break e}}return ae}return null}function H(te,ae){var fe=te.sortIndex-ae.sortIndex;return fe!==0?fe:te.id-ae.id}var X=[],de=[],we=1,Ee=null,_e=3,Ne=!1,Be=!1,Ve=!1;function Pe(te){for(var ae=O(de);ae!==null;){if(ae.callback===null)F(de);else if(ae.startTime<=te)F(de),ae.sortIndex=ae.expirationTime,B(X,ae);else break;ae=O(de)}}function De(te){if(Ve=!1,Pe(te),!Be)if(O(X)!==null)Be=!0,e(se);else{var ae=O(de);ae!==null&&i(De,ae.startTime-te)}}function se(te,ae){Be=!1,Ve&&(Ve=!1,n()),Ne=!0;var fe=_e;try{for(Pe(ae),Ee=O(X);Ee!==null&&(!(Ee.expirationTime>ae)||te&&!r());){var ve=Ee.callback;if(ve!==null){Ee.callback=null,_e=Ee.priorityLevel;var be=ve(Ee.expirationTime<=ae);ae=t.unstable_now(),typeof be=="function"?Ee.callback=be:Ee===O(X)&&F(X),Pe(ae)}else F(X);Ee=O(X)}if(Ee!==null)var Ie=!0;else{var Ye=O(de);Ye!==null&&i(De,Ye.startTime-ae),Ie=!1}return Ie}finally{Ee=null,_e=fe,Ne=!1}}function Z(te){switch(te){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var ce=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){Be||Ne||(Be=!0,e(se))},t.unstable_getCurrentPriorityLevel=function(){return _e},t.unstable_getFirstCallbackNode=function(){return O(X)},t.unstable_next=function(te){switch(_e){case 1:case 2:case 3:var ae=3;break;default:ae=_e}var fe=_e;_e=ae;try{return te()}finally{_e=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ce,t.unstable_runWithPriority=function(te,ae){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var fe=_e;_e=te;try{return ae()}finally{_e=fe}},t.unstable_scheduleCallback=function(te,ae,fe){var ve=t.unstable_now();if(typeof fe=="object"&&fe!==null){var be=fe.delay;be=typeof be=="number"&&0<be?ve+be:ve,fe=typeof fe.timeout=="number"?fe.timeout:Z(te)}else fe=Z(te),be=ve;return fe=be+fe,te={id:we++,callback:ae,priorityLevel:te,startTime:be,expirationTime:fe,sortIndex:-1},be>ve?(te.sortIndex=be,B(de,te),O(X)===null&&te===O(de)&&(Ve?n():Ve=!0,i(De,be-ve))):(te.sortIndex=fe,B(X,te),Be||Ne||(Be=!0,e(se))),te},t.unstable_shouldYield=function(){var te=t.unstable_now();Pe(te);var ae=O(X);return ae!==Ee&&Ee!==null&&ae!==null&&ae.callback!==null&&ae.startTime<=te&&ae.expirationTime<Ee.expirationTime||r()},t.unstable_wrapCallback=function(te){var ae=_e;return function(){var fe=_e;_e=ae;try{return te.apply(this,arguments)}finally{_e=fe}}}})(AO);wO.exports=AO;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=$.exports,rr=cO,An=wO.exports;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!lw)throw Error(Re(227));function C$(t,e,i,n,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(d){this.onError(d)}}var Rh=!1,Rv=null,Pv=!1,Xk=null,E$={onError:function(t){Rh=!0,Rv=t}};function z$(t,e,i,n,r,o,a,s,l){Rh=!1,Rv=null,C$.apply(E$,arguments)}function I$(t,e,i,n,r,o,a,s,l){if(z$.apply(this,arguments),Rh){if(Rh){var c=Rv;Rh=!1,Rv=null}else throw Error(Re(198));Pv||(Pv=!0,Xk=c)}}var yT=null,xO=null,kO=null;function l5(t,e,i){var n=t.type||"unknown-event";t.currentTarget=kO(i),I$(n,e,void 0,t),t.currentTarget=null}var Lv=null,cd={};function _O(){if(Lv)for(var t in cd){var e=cd[t],i=Lv.indexOf(t);if(!(-1<i))throw Error(Re(96,t));if(!Ov[i]){if(!e.extractEvents)throw Error(Re(97,t));Ov[i]=e,i=e.eventTypes;for(var n in i){var r=void 0,o=i[n],a=e,s=n;if(Jk.hasOwnProperty(s))throw Error(Re(99,s));Jk[s]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&c5(l[r],a,s);r=!0}else o.registrationName?(c5(o.registrationName,a,s),r=!0):r=!1;if(!r)throw Error(Re(98,n,t))}}}}function c5(t,e,i){if(jd[t])throw Error(Re(100,t));jd[t]=e,wT[t]=e.eventTypes[i].dependencies}var Ov=[],Jk={},jd={},wT={};function TO(t){var e=!1,i;for(i in t)if(t.hasOwnProperty(i)){var n=t[i];if(!cd.hasOwnProperty(i)||cd[i]!==n){if(cd[i])throw Error(Re(102,i));cd[i]=n,e=!0}}e&&_O()}var Ul=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Zk=null,_d=null,Td=null;function u5(t){if(t=xO(t)){if(typeof Zk!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=yT(e),Zk(t.stateNode,t.type,e))}}function SO(t){_d?Td?Td.push(t):Td=[t]:_d=t}function CO(){if(_d){var t=_d,e=Td;if(Td=_d=null,u5(t),e)for(t=0;t<e.length;t++)u5(e[t])}}function AT(t,e){return t(e)}function EO(t,e,i,n,r){return t(e,i,n,r)}function xT(){}var zO=AT,kc=!1,A1=!1;function kT(){(_d!==null||Td!==null)&&(xT(),CO())}function IO(t,e,i){if(A1)return t(e,i);A1=!0;try{return zO(t,e,i)}finally{A1=!1,kT()}}var R$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d5=Object.prototype.hasOwnProperty,f5={},p5={};function P$(t){return d5.call(p5,t)?!0:d5.call(f5,t)?!1:R$.test(t)?p5[t]=!0:(f5[t]=!0,!1)}function L$(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function O$(t,e,i,n){if(e===null||typeof e=="undefined"||L$(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,i,n,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new ar(t,0,!1,t,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new ar(e,1,!1,t[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new ar(t,2,!1,t.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new ar(t,2,!1,t,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new ar(t,3,!1,t.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new ar(t,3,!0,t,null,!1)});["capture","download"].forEach(function(t){xn[t]=new ar(t,4,!1,t,null,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new ar(t,6,!1,t,null,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new ar(t,5,!1,t.toLowerCase(),null,!1)});var _T=/[\-:]([a-z])/g;function TT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_T,TT);xn[e]=new ar(e,1,!1,t,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_T,TT);xn[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_T,TT);xn[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new ar(t,1,!1,t.toLowerCase(),null,!1)});xn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(t){xn[t]=new ar(t,1,!1,t.toLowerCase(),null,!0)});var Do=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Do.hasOwnProperty("ReactCurrentDispatcher")||(Do.ReactCurrentDispatcher={current:null});Do.hasOwnProperty("ReactCurrentBatchConfig")||(Do.ReactCurrentBatchConfig={suspense:null});function ST(t,e,i,n){var r=xn.hasOwnProperty(e)?xn[e]:null,o=r!==null?r.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(O$(e,i,r,n)&&(i=null),n||r===null?P$(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=i===null?r.type===3?!1:"":i:(e=r.attributeName,n=r.attributeNamespace,i===null?t.removeAttribute(e):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var D$=/^(.*)[\\\/]/,Cr=typeof Symbol=="function"&&Symbol.for,m0=Cr?Symbol.for("react.element"):60103,ud=Cr?Symbol.for("react.portal"):60106,Ac=Cr?Symbol.for("react.fragment"):60107,RO=Cr?Symbol.for("react.strict_mode"):60108,Z0=Cr?Symbol.for("react.profiler"):60114,PO=Cr?Symbol.for("react.provider"):60109,LO=Cr?Symbol.for("react.context"):60110,M$=Cr?Symbol.for("react.concurrent_mode"):60111,CT=Cr?Symbol.for("react.forward_ref"):60112,ev=Cr?Symbol.for("react.suspense"):60113,e_=Cr?Symbol.for("react.suspense_list"):60120,ET=Cr?Symbol.for("react.memo"):60115,OO=Cr?Symbol.for("react.lazy"):60116,DO=Cr?Symbol.for("react.block"):60121,h5=typeof Symbol=="function"&&Symbol.iterator;function Qp(t){return t===null||typeof t!="object"?null:(t=h5&&t[h5]||t["@@iterator"],typeof t=="function"?t:null)}function B$(t){if(t._status===-1){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(i){t._status===0&&(i=i.default,t._status=1,t._result=i)},function(i){t._status===0&&(t._status=2,t._result=i)})}}function ds(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ac:return"Fragment";case ud:return"Portal";case Z0:return"Profiler";case RO:return"StrictMode";case ev:return"Suspense";case e_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LO:return"Context.Consumer";case PO:return"Context.Provider";case CT:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ET:return ds(t.type);case DO:return ds(t.render);case OO:if(t=t._status===1?t._result:null)return ds(t)}return null}function zT(t){var e="";do{e:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break e;default:var n=t._debugOwner,r=t._debugSource,o=ds(t.type);i=null,n&&(i=ds(n.type)),n=o,o="",r?o=" (at "+r.fileName.replace(D$,"")+":"+r.lineNumber+")":i&&(o=" (created by "+i+")"),i=`
    in `+(n||"Unknown")+o}e+=i,t=t.return}while(t);return e}function wl(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function MO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F$(t){var e=MO(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i!="undefined"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function g0(t){t._valueTracker||(t._valueTracker=F$(t))}function BO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=MO(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function t_(t,e){var i=e.checked;return rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i!=null?i:t._wrapperState.initialChecked})}function m5(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=wl(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FO(t,e){e=e.checked,e!=null&&ST(t,"checked",e,!1)}function i_(t,e){FO(t,e);var i=wl(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?n_(t,e.type,i):e.hasOwnProperty("defaultValue")&&n_(t,e.type,wl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g5(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function n_(t,e,i){(e!=="number"||t.ownerDocument.activeElement!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function N$(t){var e="";return lw.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function r_(t,e){return t=rr({children:void 0},e),(e=N$(e.children))&&(t.children=e),t}function Sd(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+wl(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function o_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function b5(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(Re(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(Re(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:wl(i)}}function NO(t,e){var i=wl(e.value),n=wl(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function v5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var jO={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function UO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var b0,GO=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,r)})}:t}(function(t,e){if(t.namespaceURI!==jO.svg||"innerHTML"in t)t.innerHTML=e;else{for(b0=b0||document.createElement("div"),b0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=b0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function em(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}function v0(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var dd={animationend:v0("Animation","AnimationEnd"),animationiteration:v0("Animation","AnimationIteration"),animationstart:v0("Animation","AnimationStart"),transitionend:v0("Transition","TransitionEnd")},x1={},HO={};Ul&&(HO=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function cw(t){if(x1[t])return x1[t];if(!dd[t])return t;var e=dd[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in HO)return x1[t]=e[i];return t}var WO=cw("animationend"),YO=cw("animationiteration"),VO=cw("animationstart"),$O=cw("transitionend"),mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y5=new(typeof WeakMap=="function"?WeakMap:Map);function IT(t){var e=y5.get(t);return e===void 0&&(e=new Map,y5.set(t,e)),e}function fu(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.effectTag&1026)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function QO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w5(t){if(fu(t)!==t)throw Error(Re(188))}function j$(t){var e=t.alternate;if(!e){if(e=fu(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(r===null)break;var o=r.alternate;if(o===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return w5(r),t;if(o===n)return w5(r),e;o=o.sibling}throw Error(Re(188))}if(i.return!==n.return)i=r,n=o;else{for(var a=!1,s=r.child;s;){if(s===i){a=!0,i=r,n=o;break}if(s===n){a=!0,n=r,i=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===i){a=!0,i=o,n=r;break}if(s===n){a=!0,n=o,i=r;break}s=s.sibling}if(!a)throw Error(Re(189))}}if(i.alternate!==n)throw Error(Re(190))}if(i.tag!==3)throw Error(Re(188));return i.stateNode.current===i?t:e}function qO(t){if(t=j$(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ud(t,e){if(e==null)throw Error(Re(30));return t==null?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function RT(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var qp=null;function U$(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)l5(t,e[n],i[n]);else e&&l5(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function uw(t){if(t!==null&&(qp=Ud(qp,t)),t=qp,qp=null,t){if(RT(t,U$),qp)throw Error(Re(95));if(Pv)throw t=Xk,Pv=!1,Xk=null,t}}function PT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}function KO(t){if(!Ul)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e=typeof e[t]=="function"),e}var Dv=[];function XO(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Dv.length&&Dv.push(t)}function JO(t,e,i,n){if(Dv.length){var r=Dv.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function ZO(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(n.tag===3)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=n.tag!==3?null:n.stateNode.containerInfo}if(!n)break;e=i.tag,e!==5&&e!==6||t.ancestors.push(i),i=lg(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=PT(t.nativeEvent);n=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;i===0&&(a|=64);for(var s=null,l=0;l<Ov.length;l++){var c=Ov[l];c&&(c=c.extractEvents(n,e,o,r,a))&&(s=Ud(s,c))}uw(s)}}function s_(t,e,i){if(!i.has(t)){switch(t){case"scroll":gh(e,"scroll",!0);break;case"focus":case"blur":gh(e,"focus",!0),gh(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":KO(t)&&gh(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:mh.indexOf(t)===-1&&mi(t,e)}i.set(t,null)}}var eD,LT,tD,l_=!1,na=[],al=null,sl=null,ll=null,tm=new Map,im=new Map,Kp=[],c_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),G$="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function H$(t,e){var i=IT(e);c_.forEach(function(n){s_(n,e,i)}),G$.forEach(function(n){s_(n,e,i)})}function u_(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:i|32,nativeEvent:r,container:n}}function A5(t,e){switch(t){case"focus":case"blur":al=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":tm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":im.delete(e.pointerId)}}function Xp(t,e,i,n,r,o){return t===null||t.nativeEvent!==o?(t=u_(e,i,n,r,o),e!==null&&(e=cg(e),e!==null&&LT(e)),t):(t.eventSystemFlags|=n,t)}function W$(t,e,i,n,r){switch(e){case"focus":return al=Xp(al,t,e,i,n,r),!0;case"dragenter":return sl=Xp(sl,t,e,i,n,r),!0;case"mouseover":return ll=Xp(ll,t,e,i,n,r),!0;case"pointerover":var o=r.pointerId;return tm.set(o,Xp(tm.get(o)||null,t,e,i,n,r)),!0;case"gotpointercapture":return o=r.pointerId,im.set(o,Xp(im.get(o)||null,t,e,i,n,r)),!0}return!1}function Y$(t){var e=lg(t.target);if(e!==null){var i=fu(e);if(i!==null){if(e=i.tag,e===13){if(e=QO(i),e!==null){t.blockedOn=e,An.unstable_runWithPriority(t.priority,function(){tD(i)});return}}else if(e===3&&i.stateNode.hydrate){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tv(t){if(t.blockedOn!==null)return!1;var e=MT(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(e!==null){var i=cg(e);return i!==null&&LT(i),t.blockedOn=e,!1}return!0}function x5(t,e,i){tv(t)&&i.delete(e)}function V$(){for(l_=!1;0<na.length;){var t=na[0];if(t.blockedOn!==null){t=cg(t.blockedOn),t!==null&&eD(t);break}var e=MT(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);e!==null?t.blockedOn=e:na.shift()}al!==null&&tv(al)&&(al=null),sl!==null&&tv(sl)&&(sl=null),ll!==null&&tv(ll)&&(ll=null),tm.forEach(x5),im.forEach(x5)}function Jp(t,e){t.blockedOn===e&&(t.blockedOn=null,l_||(l_=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,V$)))}function iD(t){function e(r){return Jp(r,t)}if(0<na.length){Jp(na[0],t);for(var i=1;i<na.length;i++){var n=na[i];n.blockedOn===t&&(n.blockedOn=null)}}for(al!==null&&Jp(al,t),sl!==null&&Jp(sl,t),ll!==null&&Jp(ll,t),tm.forEach(e),im.forEach(e),i=0;i<Kp.length;i++)n=Kp[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<Kp.length&&(i=Kp[0],i.blockedOn===null);)Y$(i),i.blockedOn===null&&Kp.shift()}var nD={},rD=new Map,OT=new Map,$$=["abort","abort",WO,"animationEnd",YO,"animationIteration",VO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$O,"transitionEnd","waiting","waiting"];function DT(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:e},OT.set(n,e),rD.set(n,o),nD[r]=o}}DT("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);DT("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);DT($$,2);for(var k5="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),k1=0;k1<k5.length;k1++)OT.set(k5[k1],0);var Q$=An.unstable_UserBlockingPriority,q$=An.unstable_runWithPriority,iv=!0;function mi(t,e){gh(e,t,!1)}function gh(t,e,i){var n=OT.get(e);switch(n===void 0?2:n){case 0:n=K$.bind(null,e,1,t);break;case 1:n=X$.bind(null,e,1,t);break;default:n=dw.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function K$(t,e,i,n){kc||xT();var r=dw,o=kc;kc=!0;try{EO(r,t,e,i,n)}finally{(kc=o)||kT()}}function X$(t,e,i,n){q$(Q$,dw.bind(null,t,e,i,n))}function dw(t,e,i,n){if(iv)if(0<na.length&&-1<c_.indexOf(t))t=u_(null,t,e,i,n),na.push(t);else{var r=MT(t,e,i,n);if(r===null)A5(t,n);else if(-1<c_.indexOf(t))t=u_(r,t,e,i,n),na.push(t);else if(!W$(r,t,e,i,n)){A5(t,n),t=JO(t,n,null,e);try{IO(ZO,t)}finally{XO(t)}}}}function MT(t,e,i,n){if(i=PT(n),i=lg(i),i!==null){var r=fu(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=QO(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.hydrate)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=JO(t,n,i,e);try{IO(ZO,t)}finally{XO(t)}return null}var Ph={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J$=["Webkit","ms","Moz","O"];Object.keys(Ph).forEach(function(t){J$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ph[e]=Ph[t]})});function oD(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Ph.hasOwnProperty(t)&&Ph[t]?(""+e).trim():e+"px"}function aD(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,r=oD(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}var Z$=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d_(t,e){if(e){if(Z$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t,""));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62,""))}}function f_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _5=jO.html;function Ka(t,e){t=t.nodeType===9||t.nodeType===11?t:t.ownerDocument;var i=IT(t);e=wT[e];for(var n=0;n<e.length;n++)s_(e[n],t,i)}function Mv(){}function p_(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function T5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S5(t,e){var i=T5(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=T5(i)}}function sD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function C5(){for(var t=window,e=p_();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=p_(t.document)}return e}function h_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var lD="$",cD="/$",BT="$?",FT="$!",_1=null,T1=null;function uD(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function m_(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var S1=typeof setTimeout=="function"?setTimeout:void 0,eQ=typeof clearTimeout=="function"?clearTimeout:void 0;function Cd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function E5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i===lD||i===FT||i===BT){if(e===0)return t;e--}else i===cD&&e++}t=t.previousSibling}return null}var NT=Math.random().toString(36).slice(2),Zs="__reactInternalInstance$"+NT,Bv="__reactEventHandlers$"+NT,sg="__reactContainere$"+NT;function lg(t){var e=t[Zs];if(e)return e;for(var i=t.parentNode;i;){if(e=i[sg]||i[Zs]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=E5(t);t!==null;){if(i=t[Zs])return i;t=E5(t)}return e}t=i,i=t.parentNode}return null}function cg(t){return t=t[Zs]||t[sg],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function jT(t){return t[Bv]||null}function Xa(t){do t=t.return;while(t&&t.tag!==5);return t||null}function dD(t,e){var i=t.stateNode;if(!i)return null;var n=yT(i);if(!n)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(Re(231,e,typeof i));return i}function z5(t,e,i){(e=dD(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=Ud(i._dispatchListeners,e),i._dispatchInstances=Ud(i._dispatchInstances,t))}function tQ(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=Xa(e);for(e=i.length;0<e--;)z5(i[e],"captured",t);for(e=0;e<i.length;e++)z5(i[e],"bubbled",t)}}function g_(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=dD(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=Ud(i._dispatchListeners,e),i._dispatchInstances=Ud(i._dispatchInstances,t))}function iQ(t){t&&t.dispatchConfig.registrationName&&g_(t._targetInst,null,t)}function Gd(t){RT(t,tQ)}var el=null,UT=null,nv=null;function fD(){if(nv)return nv;var t,e=UT,i=e.length,n,r="value"in el?el.value:el.textContent,o=r.length;for(t=0;t<i&&e[t]===r[t];t++);var a=i-t;for(n=1;n<=a&&e[i-n]===r[o-n];n++);return nv=r.slice(t,1<n?1-n:void 0)}function rv(){return!0}function Fv(){return!1}function Xr(t,e,i,n){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):r==="target"?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rv:Fv,this.isPropagationStopped=Fv,this}rr(Xr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=rv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=rv)},persist:function(){this.isPersistent=rv},isPersistent:Fv,destructor:function(){var t=this.constructor.Interface,e;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Fv,this._dispatchInstances=this._dispatchListeners=null}});Xr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Xr.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var r=new e;return rr(r,i.prototype),i.prototype=r,i.prototype.constructor=i,i.Interface=rr({},n.Interface,t),i.extend=n.extend,pD(i),i};pD(Xr);function nQ(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function rQ(t){if(!(t instanceof this))throw Error(Re(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function pD(t){t.eventPool=[],t.getPooled=nQ,t.release=rQ}var oQ=Xr.extend({data:null}),aQ=Xr.extend({data:null}),sQ=[9,13,27,32],GT=Ul&&"CompositionEvent"in window,Lh=null;Ul&&"documentMode"in document&&(Lh=document.documentMode);var lQ=Ul&&"TextEvent"in window&&!Lh,hD=Ul&&(!GT||Lh&&8<Lh&&11>=Lh),I5=String.fromCharCode(32),Qa={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},R5=!1;function mD(t,e){switch(t){case"keyup":return sQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function gD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fd=!1;function cQ(t,e){switch(t){case"compositionend":return gD(e);case"keypress":return e.which!==32?null:(R5=!0,I5);case"textInput":return t=e.data,t===I5&&R5?null:t;default:return null}}function uQ(t,e){if(fd)return t==="compositionend"||!GT&&mD(t,e)?(t=fD(),nv=UT=el=null,fd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hD&&e.locale!=="ko"?null:e.data;default:return null}}var dQ={eventTypes:Qa,extractEvents:function(t,e,i,n){var r;if(GT)e:{switch(t){case"compositionstart":var o=Qa.compositionStart;break e;case"compositionend":o=Qa.compositionEnd;break e;case"compositionupdate":o=Qa.compositionUpdate;break e}o=void 0}else fd?mD(t,i)&&(o=Qa.compositionEnd):t==="keydown"&&i.keyCode===229&&(o=Qa.compositionStart);return o?(hD&&i.locale!=="ko"&&(fd||o!==Qa.compositionStart?o===Qa.compositionEnd&&fd&&(r=fD()):(el=n,UT="value"in el?el.value:el.textContent,fd=!0)),o=oQ.getPooled(o,e,i,n),r?o.data=r:(r=gD(i),r!==null&&(o.data=r)),Gd(o),r=o):r=null,(t=lQ?cQ(t,i):uQ(t,i))?(e=aQ.getPooled(Qa.beforeInput,e,i,n),e.data=t,Gd(e)):e=null,r===null?e:e===null?r:[r,e]}},fQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fQ[t.type]:e==="textarea"}var vD={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function yD(t,e,i){return t=Xr.getPooled(vD.change,t,e,i),t.type="change",SO(i),Gd(t),t}var Oh=null,nm=null;function pQ(t){uw(t)}function fw(t){var e=Jc(t);if(BO(e))return t}function hQ(t,e){if(t==="change")return e}var b_=!1;Ul&&(b_=KO("input")&&(!document.documentMode||9<document.documentMode));function P5(){Oh&&(Oh.detachEvent("onpropertychange",wD),nm=Oh=null)}function wD(t){if(t.propertyName==="value"&&fw(nm))if(t=yD(nm,t,PT(t)),kc)uw(t);else{kc=!0;try{AT(pQ,t)}finally{kc=!1,kT()}}}function mQ(t,e,i){t==="focus"?(P5(),Oh=e,nm=i,Oh.attachEvent("onpropertychange",wD)):t==="blur"&&P5()}function gQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fw(nm)}function bQ(t,e){if(t==="click")return fw(e)}function vQ(t,e){if(t==="input"||t==="change")return fw(e)}var yQ={eventTypes:vD,_isInputEventSupported:b_,extractEvents:function(t,e,i,n){var r=e?Jc(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if(o==="select"||o==="input"&&r.type==="file")var a=hQ;else if(bD(r))if(b_)a=vQ;else{a=gQ;var s=mQ}else(o=r.nodeName)&&o.toLowerCase()==="input"&&(r.type==="checkbox"||r.type==="radio")&&(a=bQ);if(a&&(a=a(t,e)))return yD(a,i,n);s&&s(t,r,e),t==="blur"&&(t=r._wrapperState)&&t.controlled&&r.type==="number"&&n_(r,"number",r.value)}},ug=Xr.extend({view:null,detail:null}),wQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wQ[t])?!!e[t]:!1}function HT(){return AQ}var L5=0,O5=0,D5=!1,M5=!1,dg=ug.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:HT,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=L5;return L5=t.screenX,D5?t.type==="mousemove"?t.screenX-e:0:(D5=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=O5;return O5=t.screenY,M5?t.type==="mousemove"?t.screenY-e:0:(M5=!0,0)}}),AD=dg.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zp={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},xQ={eventTypes:Zp,extractEvents:function(t,e,i,n,r){var o=t==="mouseover"||t==="pointerover",a=t==="mouseout"||t==="pointerout";if(o&&(r&32)===0&&(i.relatedTarget||i.fromElement)||!a&&!o)return null;if(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=e,e=(e=i.relatedTarget||i.toElement)?lg(e):null,e!==null){var s=fu(e);(e!==s||e.tag!==5&&e.tag!==6)&&(e=null)}}else a=null;if(a===e)return null;if(t==="mouseout"||t==="mouseover")var l=dg,c=Zp.mouseLeave,d=Zp.mouseEnter,f="mouse";else(t==="pointerout"||t==="pointerover")&&(l=AD,c=Zp.pointerLeave,d=Zp.pointerEnter,f="pointer");if(t=a==null?o:Jc(a),o=e==null?o:Jc(e),c=l.getPooled(c,a,i,n),c.type=f+"leave",c.target=t,c.relatedTarget=o,i=l.getPooled(d,e,i,n),i.type=f+"enter",i.target=o,i.relatedTarget=t,n=a,f=e,n&&f)e:{for(l=n,d=f,a=0,t=l;t;t=Xa(t))a++;for(t=0,e=d;e;e=Xa(e))t++;for(;0<a-t;)l=Xa(l),a--;for(;0<t-a;)d=Xa(d),t--;for(;a--;){if(l===d||l===d.alternate)break e;l=Xa(l),d=Xa(d)}l=null}else l=null;for(d=l,l=[];n&&n!==d&&(a=n.alternate,!(a!==null&&a===d));)l.push(n),n=Xa(n);for(n=[];f&&f!==d&&(a=f.alternate,!(a!==null&&a===d));)n.push(f),f=Xa(f);for(f=0;f<l.length;f++)g_(l[f],"bubbled",c);for(f=n.length;0<f--;)g_(n[f],"captured",i);return(r&64)===0?[c]:[c,i]}};function kQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zc=typeof Object.is=="function"?Object.is:kQ,_Q=Object.prototype.hasOwnProperty;function rm(t,e){if(Zc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!_Q.call(e,i[n])||!Zc(t[i[n]],e[i[n]]))return!1;return!0}var TQ=Ul&&"documentMode"in document&&11>=document.documentMode,xD={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},pd=null,v_=null,Dh=null,y_=!1;function B5(t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;return y_||pd==null||pd!==p_(i)?null:(i=pd,"selectionStart"in i&&h_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Dh&&rm(Dh,i)?null:(Dh=i,t=Xr.getPooled(xD.select,v_,t,e),t.type="select",t.target=pd,Gd(t),t))}var SQ={eventTypes:xD,extractEvents:function(t,e,i,n,r,o){if(r=o||(n.window===n?n.document:n.nodeType===9?n:n.ownerDocument),!(o=!r)){e:{r=IT(r),o=wT.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=e?Jc(e):window,t){case"focus":(bD(r)||r.contentEditable==="true")&&(pd=r,v_=e,Dh=null);break;case"blur":Dh=v_=pd=null;break;case"mousedown":y_=!0;break;case"contextmenu":case"mouseup":case"dragend":return y_=!1,B5(i,n);case"selectionchange":if(TQ)break;case"keydown":case"keyup":return B5(i,n)}return null}},CQ=Xr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),EQ=Xr.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zQ=ug.extend({relatedTarget:null});function ov(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}var IQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PQ=ug.extend({key:function(t){if(t.key){var e=IQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ov(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RQ[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:HT,charCode:function(t){return t.type==="keypress"?ov(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ov(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LQ=dg.extend({dataTransfer:null}),OQ=ug.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:HT}),DQ=Xr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),MQ=dg.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),BQ={eventTypes:nD,extractEvents:function(t,e,i,n){var r=rD.get(t);if(!r)return null;switch(t){case"keypress":if(ov(i)===0)return null;case"keydown":case"keyup":t=PQ;break;case"blur":case"focus":t=zQ;break;case"click":if(i.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=LQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=OQ;break;case WO:case YO:case VO:t=CQ;break;case $O:t=DQ;break;case"scroll":t=ug;break;case"wheel":t=MQ;break;case"copy":case"cut":case"paste":t=EQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=AD;break;default:t=Xr}return e=t.getPooled(r,e,i,n),Gd(e),e}};if(Lv)throw Error(Re(101));Lv=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));_O();var FQ=cg;yT=jT;xO=FQ;kO=Jc;TO({SimpleEventPlugin:BQ,EnterLeaveEventPlugin:xQ,ChangeEventPlugin:yQ,SelectEventPlugin:SQ,BeforeInputEventPlugin:dQ});var w_=[],hd=-1;function fi(t){0>hd||(t.current=w_[hd],w_[hd]=null,hd--)}function Ri(t,e){hd++,w_[hd]=t.current,t.current=e}var Al={},Nn={current:Al},yr={current:!1},eu=Al;function Hd(t,e){var i=t.type.contextTypes;if(!i)return Al;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in i)r[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function wr(t){return t=t.childContextTypes,t!=null}function Nv(){fi(yr),fi(Nn)}function F5(t,e,i){if(Nn.current!==Al)throw Error(Re(168));Ri(Nn,e),Ri(yr,i)}function kD(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var r in n)if(!(r in t))throw Error(Re(108,ds(e)||"Unknown",r));return rr({},i,{},n)}function av(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Al,eu=Nn.current,Ri(Nn,t),Ri(yr,yr.current),!0}function N5(t,e,i){var n=t.stateNode;if(!n)throw Error(Re(169));i?(t=kD(t,e,eu),n.__reactInternalMemoizedMergedChildContext=t,fi(yr),fi(Nn),Ri(Nn,t)):fi(yr),Ri(yr,i)}var NQ=An.unstable_runWithPriority,WT=An.unstable_scheduleCallback,_D=An.unstable_cancelCallback,j5=An.unstable_requestPaint,A_=An.unstable_now,jQ=An.unstable_getCurrentPriorityLevel,pw=An.unstable_ImmediatePriority,TD=An.unstable_UserBlockingPriority,SD=An.unstable_NormalPriority,CD=An.unstable_LowPriority,ED=An.unstable_IdlePriority,zD={},UQ=An.unstable_shouldYield,GQ=j5!==void 0?j5:function(){},ts=null,sv=null,C1=!1,U5=A_(),uo=1e4>U5?A_:function(){return A_()-U5};function hw(){switch(jQ()){case pw:return 99;case TD:return 98;case SD:return 97;case CD:return 96;case ED:return 95;default:throw Error(Re(332))}}function ID(t){switch(t){case 99:return pw;case 98:return TD;case 97:return SD;case 96:return CD;case 95:return ED;default:throw Error(Re(332))}}function xl(t,e){return t=ID(t),NQ(t,e)}function RD(t,e,i){return t=ID(t),WT(t,e,i)}function G5(t){return ts===null?(ts=[t],sv=WT(pw,PD)):ts.push(t),zD}function Ea(){if(sv!==null){var t=sv;sv=null,_D(t)}PD()}function PD(){if(!C1&&ts!==null){C1=!0;var t=0;try{var e=ts;xl(99,function(){for(;t<e.length;t++){var i=e[t];do i=i(!0);while(i!==null)}}),ts=null}catch(i){throw ts!==null&&(ts=ts.slice(t+1)),WT(pw,Ea),i}finally{C1=!1}}}function lv(t,e,i){return i/=10,1073741821-(((1073741821-t+e/10)/i|0)+1)*i}function Co(t,e){if(t&&t.defaultProps){e=rr({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i])}return e}var jv={current:null},Uv=null,md=null,Gv=null;function VT(){Gv=md=Uv=null}function $T(t){var e=jv.current;fi(jv),t.type._context._currentValue=e}function LD(t,e){for(;t!==null;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,i!==null&&i.childExpirationTime<e&&(i.childExpirationTime=e);else if(i!==null&&i.childExpirationTime<e)i.childExpirationTime=e;else break;t=t.return}}function Ed(t,e){Uv=t,Gv=md=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.expirationTime>=e&&(ra=!0),t.firstContext=null)}function go(t,e){if(Gv!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Gv=t,e=1073741823),e={context:t,observedBits:e,next:null},md===null){if(Uv===null)throw Error(Re(308));md=e,Uv.dependencies={expirationTime:0,firstContext:e,responders:null}}else md=md.next=e;return t._currentValue}var Js=!1;function QT(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function qT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function cl(t,e){return t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null},t.next=t}function ul(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function H5(t,e){var i=t.alternate;i!==null&&qT(i,t),t=t.updateQueue,i=t.baseQueue,i===null?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function om(t,e,i,n){var r=t.updateQueue;Js=!1;var o=r.baseQueue,a=r.shared.pending;if(a!==null){if(o!==null){var s=o.next;o.next=a.next,a.next=s}o=a,r.shared.pending=null,s=t.alternate,s!==null&&(s=s.updateQueue,s!==null&&(s.baseQueue=a))}if(o!==null){s=o.next;var l=r.baseState,c=0,d=null,f=null,h=null;if(s!==null){var m=s;do{if(a=m.expirationTime,a<n){var v={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null};h===null?(f=h=v,d=l):h=h.next=v,a>c&&(c=a)}else{h!==null&&(h=h.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null}),cM(a,m.suspenseConfig);e:{var w=t,g=m;switch(a=e,v=i,g.tag){case 1:if(w=g.payload,typeof w=="function"){l=w.call(v,l,a);break e}l=w;break e;case 3:w.effectTag=w.effectTag&-4097|64;case 0:if(w=g.payload,a=typeof w=="function"?w.call(v,l,a):w,a==null)break e;l=rr({},l,a);break e;case 2:Js=!0}}m.callback!==null&&(t.effectTag|=32,a=r.effects,a===null?r.effects=[m]:a.push(m))}if(m=m.next,m===null||m===s){if(a=r.shared.pending,a===null)break;m=o.next=a.next,a.next=s,r.baseQueue=o=a,r.shared.pending=null}}while(1)}h===null?d=l:h.next=f,r.baseState=d,r.baseQueue=h,yw(c),t.expirationTime=c,t.memoizedState=l}}function W5(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=r,r=i,typeof n!="function")throw Error(Re(191,n));n.call(r)}}}var Mh=Do.ReactCurrentBatchConfig,OD=new lw.Component().refs;function Hv(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:rr({},e,i),t.memoizedState=i,t.expirationTime===0&&(t.updateQueue.baseState=i)}var mw={isMounted:function(t){return(t=t._reactInternalFiber)?fu(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=ua(),r=Mh.suspense;n=Dc(n,t,r),r=cl(n,r),r.payload=e,i!=null&&(r.callback=i),ul(t,r),fl(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=ua(),r=Mh.suspense;n=Dc(n,t,r),r=cl(n,r),r.tag=1,r.payload=e,i!=null&&(r.callback=i),ul(t,r),fl(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=ua(),n=Mh.suspense;i=Dc(i,t,n),n=cl(i,n),n.tag=2,e!=null&&(n.callback=e),ul(t,n),fl(t,i)}};function Y5(t,e,i,n,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!rm(i,n)||!rm(r,o):!0}function DD(t,e,i){var n=!1,r=Al,o=e.contextType;return typeof o=="object"&&o!==null?o=go(o):(r=wr(e)?eu:Nn.current,n=e.contextTypes,o=(n=n!=null)?Hd(t,r):Al),e=new e(i,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mw,t.stateNode=e,e._reactInternalFiber=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function V5(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&mw.enqueueReplaceState(e,e.state,null)}function x_(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=OD,QT(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=go(o):(o=wr(e)?eu:Nn.current,r.context=Hd(t,o)),om(t,i,r,n),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Hv(t,e,o,i),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&mw.enqueueReplaceState(r,r.state,null),om(t,i,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.effectTag|=4)}var y0=Array.isArray;function eh(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Re(309));var n=i.stateNode}if(!n)throw Error(Re(147,t));var r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=n.refs;a===OD&&(a=n.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(Re(284));if(!i._owner)throw Error(Re(290,t))}return t}function w0(t,e){if(t.type!=="textarea")throw Error(Re(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function MD(t){function e(g,A){if(t){var x=g.lastEffect;x!==null?(x.nextEffect=A,g.lastEffect=A):g.firstEffect=g.lastEffect=A,A.nextEffect=null,A.effectTag=8}}function i(g,A){if(!t)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function n(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=tu(g,A),g.index=0,g.sibling=null,g}function o(g,A,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<A?(g.effectTag=2,A):x):(g.effectTag=2,A)):A}function a(g){return t&&g.alternate===null&&(g.effectTag=2),g}function s(g,A,x,T){return A===null||A.tag!==6?(A=L1(x,g.mode,T),A.return=g,A):(A=r(A,x),A.return=g,A)}function l(g,A,x,T){return A!==null&&A.elementType===x.type?(T=r(A,x.props),T.ref=eh(g,A,x),T.return=g,T):(T=fv(x.type,x.key,x.props,null,g.mode,T),T.ref=eh(g,A,x),T.return=g,T)}function c(g,A,x,T){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=O1(x,g.mode,T),A.return=g,A):(A=r(A,x.children||[]),A.return=g,A)}function d(g,A,x,T,E){return A===null||A.tag!==7?(A=nl(x,g.mode,T,E),A.return=g,A):(A=r(A,x),A.return=g,A)}function f(g,A,x){if(typeof A=="string"||typeof A=="number")return A=L1(""+A,g.mode,x),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case m0:return x=fv(A.type,A.key,A.props,null,g.mode,x),x.ref=eh(g,null,A),x.return=g,x;case ud:return A=O1(A,g.mode,x),A.return=g,A}if(y0(A)||Qp(A))return A=nl(A,g.mode,x,null),A.return=g,A;w0(g,A)}return null}function h(g,A,x,T){var E=A!==null?A.key:null;if(typeof x=="string"||typeof x=="number")return E!==null?null:s(g,A,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case m0:return x.key===E?x.type===Ac?d(g,A,x.props.children,T,E):l(g,A,x,T):null;case ud:return x.key===E?c(g,A,x,T):null}if(y0(x)||Qp(x))return E!==null?null:d(g,A,x,T,null);w0(g,x)}return null}function m(g,A,x,T,E){if(typeof T=="string"||typeof T=="number")return g=g.get(x)||null,s(A,g,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case m0:return g=g.get(T.key===null?x:T.key)||null,T.type===Ac?d(A,g,T.props.children,E,T.key):l(A,g,T,E);case ud:return g=g.get(T.key===null?x:T.key)||null,c(A,g,T,E)}if(y0(T)||Qp(T))return g=g.get(x)||null,d(A,g,T,E,null);w0(A,T)}return null}function v(g,A,x,T){for(var E=null,z=null,L=A,B=A=0,O=null;L!==null&&B<x.length;B++){L.index>B?(O=L,L=null):O=L.sibling;var F=h(g,L,x[B],T);if(F===null){L===null&&(L=O);break}t&&L&&F.alternate===null&&e(g,L),A=o(F,A,B),z===null?E=F:z.sibling=F,z=F,L=O}if(B===x.length)return i(g,L),E;if(L===null){for(;B<x.length;B++)L=f(g,x[B],T),L!==null&&(A=o(L,A,B),z===null?E=L:z.sibling=L,z=L);return E}for(L=n(g,L);B<x.length;B++)O=m(L,g,B,x[B],T),O!==null&&(t&&O.alternate!==null&&L.delete(O.key===null?B:O.key),A=o(O,A,B),z===null?E=O:z.sibling=O,z=O);return t&&L.forEach(function(H){return e(g,H)}),E}function w(g,A,x,T){var E=Qp(x);if(typeof E!="function")throw Error(Re(150));if(x=E.call(x),x==null)throw Error(Re(151));for(var z=E=null,L=A,B=A=0,O=null,F=x.next();L!==null&&!F.done;B++,F=x.next()){L.index>B?(O=L,L=null):O=L.sibling;var H=h(g,L,F.value,T);if(H===null){L===null&&(L=O);break}t&&L&&H.alternate===null&&e(g,L),A=o(H,A,B),z===null?E=H:z.sibling=H,z=H,L=O}if(F.done)return i(g,L),E;if(L===null){for(;!F.done;B++,F=x.next())F=f(g,F.value,T),F!==null&&(A=o(F,A,B),z===null?E=F:z.sibling=F,z=F);return E}for(L=n(g,L);!F.done;B++,F=x.next())F=m(L,g,B,F.value,T),F!==null&&(t&&F.alternate!==null&&L.delete(F.key===null?B:F.key),A=o(F,A,B),z===null?E=F:z.sibling=F,z=F);return t&&L.forEach(function(X){return e(g,X)}),E}return function(g,A,x,T){var E=typeof x=="object"&&x!==null&&x.type===Ac&&x.key===null;E&&(x=x.props.children);var z=typeof x=="object"&&x!==null;if(z)switch(x.$$typeof){case m0:e:{for(z=x.key,E=A;E!==null;){if(E.key===z){switch(E.tag){case 7:if(x.type===Ac){i(g,E.sibling),A=r(E,x.props.children),A.return=g,g=A;break e}break;default:if(E.elementType===x.type){i(g,E.sibling),A=r(E,x.props),A.ref=eh(g,E,x),A.return=g,g=A;break e}}i(g,E);break}else e(g,E);E=E.sibling}x.type===Ac?(A=nl(x.props.children,g.mode,T,x.key),A.return=g,g=A):(T=fv(x.type,x.key,x.props,null,g.mode,T),T.ref=eh(g,A,x),T.return=g,g=T)}return a(g);case ud:e:{for(E=x.key;A!==null;){if(A.key===E)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){i(g,A.sibling),A=r(A,x.children||[]),A.return=g,g=A;break e}else{i(g,A);break}else e(g,A);A=A.sibling}A=O1(x,g.mode,T),A.return=g,g=A}return a(g)}if(typeof x=="string"||typeof x=="number")return x=""+x,A!==null&&A.tag===6?(i(g,A.sibling),A=r(A,x),A.return=g,g=A):(i(g,A),A=L1(x,g.mode,T),A.return=g,g=A),a(g);if(y0(x))return v(g,A,x,T);if(Qp(x))return w(g,A,x,T);if(z&&w0(g,x),typeof x=="undefined"&&!E)switch(g.tag){case 1:case 0:throw g=g.type,Error(Re(152,g.displayName||g.name||"Component"))}return i(g,A)}}var Wd=MD(!0),KT=MD(!1),fg={},ca={current:fg},am={current:fg},sm={current:fg};function _c(t){if(t===fg)throw Error(Re(174));return t}function k_(t,e){switch(Ri(sm,e),Ri(am,t),Ri(ca,fg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a_(e,t)}fi(ca),Ri(ca,e)}function Yd(){fi(ca),fi(am),fi(sm)}function $5(t){_c(sm.current);var e=_c(ca.current),i=a_(e,t.type);e!==i&&(Ri(am,t),Ri(ca,i))}function XT(t){am.current===t&&(fi(ca),fi(am))}var Ai={current:0};function Wv(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data===BT||i.data===FT))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.effectTag&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function JT(t,e){return{responder:t,props:e}}var cv=Do.ReactCurrentDispatcher,po=Do.ReactCurrentBatchConfig,tl=0,Qi=null,Rn=null,Pn=null,Yv=!1;function Fr(){throw Error(Re(321))}function ZT(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Zc(t[i],e[i]))return!1;return!0}function eS(t,e,i,n,r,o){if(tl=o,Qi=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,cv.current=t===null||t.memoizedState===null?HQ:WQ,t=i(n,r),e.expirationTime===tl){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(Re(301));o+=1,Pn=Rn=null,e.updateQueue=null,cv.current=YQ,t=i(n,r)}while(e.expirationTime===tl)}if(cv.current=Qv,e=Rn!==null&&Rn.next!==null,tl=0,Pn=Rn=Qi=null,Yv=!1,e)throw Error(Re(300));return t}function zd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Qi.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Rf(){if(Rn===null){var t=Qi.alternate;t=t!==null?t.memoizedState:null}else t=Rn.next;var e=Pn===null?Qi.memoizedState:Pn.next;if(e!==null)Pn=e,Rn=t;else{if(t===null)throw Error(Re(310));Rn=t,t={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Pn===null?Qi.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function Pc(t,e){return typeof e=="function"?e(t):e}function A0(t){var e=Rf(),i=e.queue;if(i===null)throw Error(Re(311));i.lastRenderedReducer=t;var n=Rn,r=n.baseQueue,o=i.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}n.baseQueue=r=o,i.pending=null}if(r!==null){r=r.next,n=n.baseState;var s=a=o=null,l=r;do{var c=l.expirationTime;if(c<tl){var d={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(a=s=d,o=n):s=s.next=d,c>Qi.expirationTime&&(Qi.expirationTime=c,yw(c))}else s!==null&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),cM(c,l.suspenseConfig),n=l.eagerReducer===t?l.eagerState:t(n,l.action);l=l.next}while(l!==null&&l!==r);s===null?o=n:s.next=a,Zc(n,e.memoizedState)||(ra=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=s,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function x0(t){var e=Rf(),i=e.queue;if(i===null)throw Error(Re(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,o=e.memoizedState;if(r!==null){i.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);Zc(o,e.memoizedState)||(ra=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),i.lastRenderedState=o}return[o,n]}function E1(t){var e=zd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:t},t=t.dispatch=GD.bind(null,Qi,t),[e.memoizedState,t]}function __(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=Qi.updateQueue,e===null?(e={lastEffect:null},Qi.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function BD(){return Rf().memoizedState}function T_(t,e,i,n){var r=zd();Qi.effectTag|=t,r.memoizedState=__(1|e,i,void 0,n===void 0?null:n)}function tS(t,e,i,n){var r=Rf();n=n===void 0?null:n;var o=void 0;if(Rn!==null){var a=Rn.memoizedState;if(o=a.destroy,n!==null&&ZT(n,a.deps)){__(e,i,o,n);return}}Qi.effectTag|=t,r.memoizedState=__(1|e,i,o,n)}function Q5(t,e){return T_(516,4,t,e)}function Vv(t,e){return tS(516,4,t,e)}function FD(t,e){return tS(4,2,t,e)}function ND(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jD(t,e,i){return i=i!=null?i.concat([t]):null,tS(4,2,ND.bind(null,e,t),i)}function iS(){}function q5(t,e){return zd().memoizedState=[t,e===void 0?null:e],t}function $v(t,e){var i=Rf();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&ZT(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function UD(t,e){var i=Rf();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&ZT(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function nS(t,e,i){var n=hw();xl(98>n?98:n,function(){t(!0)}),xl(97<n?97:n,function(){var r=po.suspense;po.suspense=e===void 0?null:e;try{t(!1),i()}finally{po.suspense=r}})}function GD(t,e,i){var n=ua(),r=Mh.suspense;n=Dc(n,t,r),r={expirationTime:n,suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(o===null?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===Qi||o!==null&&o===Qi)Yv=!0,r.expirationTime=tl,Qi.expirationTime=tl;else{if(t.expirationTime===0&&(o===null||o.expirationTime===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,i);if(r.eagerReducer=o,r.eagerState=s,Zc(s,a))return}catch{}finally{}fl(t,n)}}var Qv={readContext:go,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useResponder:Fr,useDeferredValue:Fr,useTransition:Fr},HQ={readContext:go,useCallback:q5,useContext:go,useEffect:Q5,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,T_(4,2,ND.bind(null,e,t),i)},useLayoutEffect:function(t,e){return T_(4,2,t,e)},useMemo:function(t,e){var i=zd();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=zd();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=GD.bind(null,Qi,t),[n.memoizedState,t]},useRef:function(t){var e=zd();return t={current:t},e.memoizedState=t},useState:E1,useDebugValue:iS,useResponder:JT,useDeferredValue:function(t,e){var i=E1(t),n=i[0],r=i[1];return Q5(function(){var o=po.suspense;po.suspense=e===void 0?null:e;try{r(t)}finally{po.suspense=o}},[t,e]),n},useTransition:function(t){var e=E1(!1),i=e[0];return e=e[1],[q5(nS.bind(null,e,t),[e,t]),i]}},WQ={readContext:go,useCallback:$v,useContext:go,useEffect:Vv,useImperativeHandle:jD,useLayoutEffect:FD,useMemo:UD,useReducer:A0,useRef:BD,useState:function(){return A0(Pc)},useDebugValue:iS,useResponder:JT,useDeferredValue:function(t,e){var i=A0(Pc),n=i[0],r=i[1];return Vv(function(){var o=po.suspense;po.suspense=e===void 0?null:e;try{r(t)}finally{po.suspense=o}},[t,e]),n},useTransition:function(t){var e=A0(Pc),i=e[0];return e=e[1],[$v(nS.bind(null,e,t),[e,t]),i]}},YQ={readContext:go,useCallback:$v,useContext:go,useEffect:Vv,useImperativeHandle:jD,useLayoutEffect:FD,useMemo:UD,useReducer:x0,useRef:BD,useState:function(){return x0(Pc)},useDebugValue:iS,useResponder:JT,useDeferredValue:function(t,e){var i=x0(Pc),n=i[0],r=i[1];return Vv(function(){var o=po.suspense;po.suspense=e===void 0?null:e;try{r(t)}finally{po.suspense=o}},[t,e]),n},useTransition:function(t){var e=x0(Pc),i=e[0];return e=e[1],[$v(nS.bind(null,e,t),[e,t]),i]}},os=null,il=null,Lc=!1;function HD(t,e){var i=oa(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,t.lastEffect!==null?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function K5(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function S_(t){if(Lc){var e=il;if(e){var i=e;if(!K5(t,e)){if(e=Cd(i.nextSibling),!e||!K5(t,e)){t.effectTag=t.effectTag&-1025|2,Lc=!1,os=t;return}HD(os,i)}os=t,il=Cd(e.firstChild)}else t.effectTag=t.effectTag&-1025|2,Lc=!1,os=t}}function X5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;os=t}function k0(t){if(t!==os)return!1;if(!Lc)return X5(t),Lc=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!m_(e,t.memoizedProps))for(e=il;e;)HD(t,e),e=Cd(e.nextSibling);if(X5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i===cD){if(e===0){il=Cd(t.nextSibling);break e}e--}else i!==lD&&i!==FT&&i!==BT||e++}t=t.nextSibling}il=null}}else il=os?Cd(t.stateNode.nextSibling):null;return!0}function z1(){il=os=null,Lc=!1}var VQ=Do.ReactCurrentOwner,ra=!1;function Ur(t,e,i,n){e.child=t===null?KT(e,null,i,n):Wd(e,t.child,i,n)}function J5(t,e,i,n,r){i=i.render;var o=e.ref;return Ed(e,r),n=eS(t,e,i,n,o,r),t!==null&&!ra?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),as(t,e,r)):(e.effectTag|=1,Ur(t,e,n,r),e.child)}function Z5(t,e,i,n,r,o){if(t===null){var a=i.type;return typeof a=="function"&&!lS(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=a,WD(t,e,a,n,r,o)):(t=fv(i.type,null,n,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,r<o&&(r=a.memoizedProps,i=i.compare,i=i!==null?i:rm,i(r,n)&&t.ref===e.ref)?as(t,e,o):(e.effectTag|=1,t=tu(a,n),t.ref=e.ref,t.return=e,e.child=t)}function WD(t,e,i,n,r,o){return t!==null&&rm(t.memoizedProps,n)&&t.ref===e.ref&&(ra=!1,r<o)?(e.expirationTime=t.expirationTime,as(t,e,o)):C_(t,e,i,n,o)}function YD(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.effectTag|=128)}function C_(t,e,i,n,r){var o=wr(i)?eu:Nn.current;return o=Hd(e,o),Ed(e,r),i=eS(t,e,i,n,o,r),t!==null&&!ra?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),as(t,e,r)):(e.effectTag|=1,Ur(t,e,i,r),e.child)}function e3(t,e,i,n,r){if(wr(i)){var o=!0;av(e)}else o=!1;if(Ed(e,r),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),DD(e,i,n),x_(e,i,n,r),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=i.contextType;typeof c=="object"&&c!==null?c=go(c):(c=wr(i)?eu:Nn.current,c=Hd(e,c));var d=i.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&V5(e,a,n,c),Js=!1;var h=e.memoizedState;a.state=h,om(e,n,a,r),l=e.memoizedState,s!==n||h!==l||yr.current||Js?(typeof d=="function"&&(Hv(e,i,d,n),l=e.memoizedState),(s=Js||Y5(e,i,s,n,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.effectTag|=4)):(typeof a.componentDidMount=="function"&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(e.effectTag|=4),n=!1)}else a=e.stateNode,qT(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Co(e.type,s),l=a.context,c=i.contextType,typeof c=="object"&&c!==null?c=go(c):(c=wr(i)?eu:Nn.current,c=Hd(e,c)),d=i.getDerivedStateFromProps,(f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&V5(e,a,n,c),Js=!1,l=e.memoizedState,a.state=l,om(e,n,a,r),h=e.memoizedState,s!==n||l!==h||yr.current||Js?(typeof d=="function"&&(Hv(e,i,d,n),h=e.memoizedState),(d=Js||Y5(e,i,s,n,l,h,c))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,c)),typeof a.componentDidUpdate=="function"&&(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.effectTag|=256)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return E_(t,e,i,n,o,r)}function E_(t,e,i,n,r,o){YD(t,e);var a=(e.effectTag&64)!==0;if(!n&&!a)return r&&N5(e,i,!1),as(t,e,o);n=e.stateNode,VQ.current=e;var s=a&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.effectTag|=1,t!==null&&a?(e.child=Wd(e,t.child,null,o),e.child=Wd(e,null,s,o)):Ur(t,e,s,o),e.memoizedState=n.state,r&&N5(e,i,!0),e.child}function t3(t){var e=t.stateNode;e.pendingContext?F5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F5(t,e.context,!1),k_(t,e.containerInfo)}var I1={dehydrated:null,retryTime:0};function i3(t,e,i){var n=e.mode,r=e.pendingProps,o=Ai.current,a=!1,s;if((s=(e.effectTag&64)!==0)||(s=(o&2)!==0&&(t===null||t.memoizedState!==null)),s?(a=!0,e.effectTag&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),Ri(Ai,o&1),t===null){if(r.fallback!==void 0&&S_(e),a){if(a=r.fallback,r=nl(null,n,0,null),r.return=e,(e.mode&2)===0)for(t=e.memoizedState!==null?e.child.child:e.child,r.child=t;t!==null;)t.return=r,t=t.sibling;return i=nl(a,n,i,null),i.return=e,r.sibling=i,e.memoizedState=I1,e.child=r,i}return n=r.children,e.memoizedState=null,e.child=KT(e,null,n,i)}if(t.memoizedState!==null){if(t=t.child,n=t.sibling,a){if(r=r.fallback,i=tu(t,t.pendingProps),i.return=e,(e.mode&2)===0&&(a=e.memoizedState!==null?e.child.child:e.child,a!==t.child))for(i.child=a;a!==null;)a.return=i,a=a.sibling;return n=tu(n,r),n.return=e,i.sibling=n,i.childExpirationTime=0,e.memoizedState=I1,e.child=i,n}return i=Wd(e,t.child,r.children,i),e.memoizedState=null,e.child=i}if(t=t.child,a){if(a=r.fallback,r=nl(null,n,0,null),r.return=e,r.child=t,t!==null&&(t.return=r),(e.mode&2)===0)for(t=e.memoizedState!==null?e.child.child:e.child,r.child=t;t!==null;)t.return=r,t=t.sibling;return i=nl(a,n,i,null),i.return=e,r.sibling=i,i.effectTag|=2,r.childExpirationTime=0,e.memoizedState=I1,e.child=r,i}return e.memoizedState=null,e.child=Wd(e,t,r.children,i)}function n3(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;i!==null&&i.expirationTime<e&&(i.expirationTime=e),LD(t.return,e)}function R1(t,e,i,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function r3(t,e,i){var n=e.pendingProps,r=n.revealOrder,o=n.tail;if(Ur(t,e,n.children,i),n=Ai.current,(n&2)!==0)n=n&1|2,e.effectTag|=64;else{if(t!==null&&(t.effectTag&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n3(t,i);else if(t.tag===19)n3(t,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ri(Ai,n),(e.mode&2)===0)e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&Wv(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),R1(e,!1,r,i,o,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Wv(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}R1(e,!0,i,null,o,e.lastEffect);break;case"together":R1(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function as(t,e,i){t!==null&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(n!==0&&yw(n),e.childExpirationTime<i)return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,i=tu(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=tu(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}var VD,z_,$D,QD;VD=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};z_=function(){};$D=function(t,e,i,n,r){var o=t.memoizedProps;if(o!==n){var a=e.stateNode;switch(_c(ca.current),t=null,i){case"input":o=t_(a,o),n=t_(a,n),t=[];break;case"option":o=r_(a,o),n=r_(a,n),t=[];break;case"select":o=rr({},o,{value:void 0}),n=rr({},n,{value:void 0}),t=[];break;case"textarea":o=o_(a,o),n=o_(a,n),t=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(a.onclick=Mv)}d_(i,n);var s,l;i=null;for(s in o)if(!n.hasOwnProperty(s)&&o.hasOwnProperty(s)&&o[s]!=null)if(s==="style")for(l in a=o[s],a)a.hasOwnProperty(l)&&(i||(i={}),i[l]="");else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jd.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in n){var c=n[s];if(a=o!=null?o[s]:void 0,n.hasOwnProperty(s)&&c!==a&&(c!=null||a!=null))if(s==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(i||(i={}),i[l]=c[l])}else i||(t||(t=[]),t.push(s,i)),i=c;else s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(t=t||[]).push(s,c)):s==="children"?a===c||typeof c!="string"&&typeof c!="number"||(t=t||[]).push(s,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(jd.hasOwnProperty(s)?(c!=null&&Ka(r,s),t||a===c||(t=[])):(t=t||[]).push(s,c))}i&&(t=t||[]).push("style",i),r=t,(e.updateQueue=r)&&(e.effectTag|=4)}};QD=function(t,e,i,n){i!==n&&(e.effectTag|=4)};function _0(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $Q(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return wr(e.type)&&Nv(),null;case 3:return Yd(),fi(yr),fi(Nn),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),t!==null&&t.child!==null||!k0(e)||(e.effectTag|=4),z_(e),null;case 5:XT(e),i=_c(sm.current);var r=e.type;if(t!==null&&e.stateNode!=null)$D(t,e,r,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return null}if(t=_c(ca.current),k0(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Zs]=e,n[Bv]=o,r){case"iframe":case"object":case"embed":mi("load",n);break;case"video":case"audio":for(t=0;t<mh.length;t++)mi(mh[t],n);break;case"source":mi("error",n);break;case"img":case"image":case"link":mi("error",n),mi("load",n);break;case"form":mi("reset",n),mi("submit",n);break;case"details":mi("toggle",n);break;case"input":m5(n,o),mi("invalid",n),Ka(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!o.multiple},mi("invalid",n),Ka(i,"onChange");break;case"textarea":b5(n,o),mi("invalid",n),Ka(i,"onChange")}d_(r,o),t=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(t=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(t=["children",""+s]):jd.hasOwnProperty(a)&&s!=null&&Ka(i,a)}switch(r){case"input":g0(n),g5(n,o,!0);break;case"textarea":g0(n),v5(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Mv)}i=t,e.updateQueue=i,i!==null&&(e.effectTag|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===_5&&(t=UO(r)),t===_5?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Zs]=e,t[Bv]=n,VD(t,e,!1,!1),e.stateNode=t,a=f_(r,n),r){case"iframe":case"object":case"embed":mi("load",t),s=n;break;case"video":case"audio":for(s=0;s<mh.length;s++)mi(mh[s],t);s=n;break;case"source":mi("error",t),s=n;break;case"img":case"image":case"link":mi("error",t),mi("load",t),s=n;break;case"form":mi("reset",t),mi("submit",t),s=n;break;case"details":mi("toggle",t),s=n;break;case"input":m5(t,n),s=t_(t,n),mi("invalid",t),Ka(i,"onChange");break;case"option":s=r_(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=rr({},n,{value:void 0}),mi("invalid",t),Ka(i,"onChange");break;case"textarea":b5(t,n),s=o_(t,n),mi("invalid",t),Ka(i,"onChange");break;default:s=n}d_(r,s);var l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?aD(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&GO(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&em(t,c):typeof c=="number"&&em(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jd.hasOwnProperty(o)?c!=null&&Ka(i,o):c!=null&&ST(t,o,c,a))}switch(r){case"input":g0(t),g5(t,n,!1);break;case"textarea":g0(t),v5(t);break;case"option":n.value!=null&&t.setAttribute("value",""+wl(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Sd(t,!!n.multiple,i,!1):n.defaultValue!=null&&Sd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Mv)}uD(r,n)&&(e.effectTag|=4)}e.ref!==null&&(e.effectTag|=128)}return null;case 6:if(t&&e.stateNode!=null)QD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));i=_c(sm.current),_c(ca.current),k0(e)?(i=e.stateNode,n=e.memoizedProps,i[Zs]=e,i.nodeValue!==n&&(e.effectTag|=4)):(i=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),i[Zs]=e,e.stateNode=i)}return null;case 13:return fi(Ai),n=e.memoizedState,(e.effectTag&64)!==0?(e.expirationTime=i,e):(i=n!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&k0(e):(r=t.memoizedState,n=r!==null,i||r===null||(r=t.child.sibling,r!==null&&(o=e.firstEffect,o!==null?(e.firstEffect=r,r.nextEffect=o):(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8))),i&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Ai.current&1)!==0?Zi===Oc&&(Zi=Xv):((Zi===Oc||Zi===Xv)&&(Zi=gw),cm!==0&&Yr!==null&&(Cc(Yr,_r),hM(Yr,cm)))),(i||n)&&(e.effectTag|=4),null);case 4:return Yd(),z_(e),null;case 10:return $T(e),null;case 17:return wr(e.type)&&Nv(),null;case 19:if(fi(Ai),n=e.memoizedState,n===null)return null;if(r=(e.effectTag&64)!==0,o=n.rendering,o===null){if(r)_0(n,!1);else if(Zi!==Oc||t!==null&&(t.effectTag&64)!==0)for(o=e.child;o!==null;){if(t=Wv(o),t!==null){for(e.effectTag|=64,_0(n,!1),r=t.updateQueue,r!==null&&(e.updateQueue=r,e.effectTag|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;n!==null;)r=n,o=i,r.effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,t=r.alternate,t===null?(r.childExpirationTime=0,r.expirationTime=o,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,o=t.dependencies,r.dependencies=o===null?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),n=n.sibling;return Ri(Ai,Ai.current&1|2),e.child}o=o.sibling}}else{if(!r)if(t=Wv(o),t!==null){if(e.effectTag|=64,r=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.effectTag|=4),_0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*uo()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,r=!0,_0(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(o.sibling=e.child,e.child=o):(i=n.last,i!==null?i.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(n.tailExpiration===0&&(n.tailExpiration=uo()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=uo(),i.sibling=null,e=Ai.current,Ri(Ai,r?e&1|2:e&1),i):null}throw Error(Re(156,e.tag))}function QQ(t){switch(t.tag){case 1:wr(t.type)&&Nv();var e=t.effectTag;return e&4096?(t.effectTag=e&-4097|64,t):null;case 3:if(Yd(),fi(yr),fi(Nn),e=t.effectTag,(e&64)!==0)throw Error(Re(285));return t.effectTag=e&-4097|64,t;case 5:return XT(t),null;case 13:return fi(Ai),e=t.effectTag,e&4096?(t.effectTag=e&-4097|64,t):null;case 19:return fi(Ai),null;case 4:return Yd(),null;case 10:return $T(t),null;default:return null}}function rS(t,e){return{value:t,source:e,stack:zT(e)}}var qQ=typeof WeakSet=="function"?WeakSet:Set;function I_(t,e){var i=e.source,n=e.stack;n===null&&i!==null&&(n=zT(i)),i!==null&&ds(i.type),e=e.value,t!==null&&t.tag===1&&ds(t.type);try{console.error(e)}catch(r){setTimeout(function(){throw r})}}function KQ(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Mc(t,i)}}function o3(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Mc(t,i)}else e.current=null}function XQ(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.effectTag&256&&t!==null){var i=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?i:Co(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Re(163))}function qD(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,n!==void 0&&n()}i=i.next}while(i!==e)}}function KD(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function JQ(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:KD(3,i);return;case 1:if(t=i.stateNode,i.effectTag&4)if(e===null)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:Co(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}e=i.updateQueue,e!==null&&W5(i,e,t);return;case 3:if(e=i.updateQueue,e!==null){if(t=null,i.child!==null)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}W5(i,e,t)}return;case 5:t=i.stateNode,e===null&&i.effectTag&4&&uD(i.type,i.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&iD(i))));return;case 19:case 17:case 20:case 21:return}throw Error(Re(163))}function a3(t,e,i){switch(typeof F_=="function"&&F_(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t.next;xl(97<i?97:i,function(){var r=n;do{var o=r.destroy;if(o!==void 0){var a=e;try{o()}catch(s){Mc(a,s)}}r=r.next}while(r!==n)})}break;case 1:o3(e),i=e.stateNode,typeof i.componentWillUnmount=="function"&&KQ(e,i);break;case 5:o3(e);break;case 4:JD(t,e,i)}}function XD(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,e!==null&&XD(e)}function s3(t){return t.tag===5||t.tag===3||t.tag===4}function l3(t){e:{for(var e=t.return;e!==null;){if(s3(e)){var i=e;break e}e=e.return}throw Error(Re(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Re(161))}i.effectTag&16&&(em(e,""),i.effectTag&=-17);e:t:for(i=t;;){for(;i.sibling===null;){if(i.return===null||s3(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.effectTag&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.effectTag&2)){i=i.stateNode;break e}}n?R_(t,i,e):P_(t,i,e)}function R_(t,e,i){var n=t.tag,r=n===5||n===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Mv));else if(n!==4&&(t=t.child,t!==null))for(R_(t,e,i),t=t.sibling;t!==null;)R_(t,e,i),t=t.sibling}function P_(t,e,i){var n=t.tag,r=n===5||n===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(P_(t,e,i),t=t.sibling;t!==null;)P_(t,e,i),t=t.sibling}function JD(t,e,i){for(var n=e,r=!1,o,a;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Re(160));switch(o=r.stateNode,r.tag){case 5:a=!1;break e;case 3:o=o.containerInfo,a=!0;break e;case 4:o=o.containerInfo,a=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=t,l=n,c=i,d=l;;)if(a3(s,d,c),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a?(s=o,l=n.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(a3(t,n,i),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function P1(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:qD(3,e);return;case 1:return;case 5:var i=e.stateNode;if(i!=null){var n=e.memoizedProps,r=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(i[Bv]=n,t==="input"&&n.type==="radio"&&n.name!=null&&FO(i,n),f_(t,r),e=f_(t,n),r=0;r<o.length;r+=2){var a=o[r],s=o[r+1];a==="style"?aD(i,s):a==="dangerouslySetInnerHTML"?GO(i,s):a==="children"?em(i,s):ST(i,a,s,e)}switch(t){case"input":i_(i,n);break;case"textarea":NO(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,t=n.value,t!=null?Sd(i,!!n.multiple,t,!1):e!==!!n.multiple&&(n.defaultValue!=null?Sd(i,!!n.multiple,n.defaultValue,!0):Sd(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Re(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:e=e.stateNode,e.hydrate&&(e.hydrate=!1,iD(e.containerInfo));return;case 12:return;case 13:if(i=e,e.memoizedState===null?n=!1:(n=!0,i=e.child,sS=uo()),i!==null)e:for(t=i;;){if(t.tag===5)o=t.stateNode,n?(o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(o=t.stateNode,r=t.memoizedProps.style,r=r!=null&&r.hasOwnProperty("display")?r.display:null,o.style.display=oD("display",r));else if(t.tag===6)t.stateNode.nodeValue=n?"":t.memoizedProps;else if(t.tag===13&&t.memoizedState!==null&&t.memoizedState.dehydrated===null){o=t.child.sibling,o.return=t,t=o;continue}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c3(e);return;case 19:c3(e);return;case 17:return}throw Error(Re(163))}function c3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new qQ),e.forEach(function(n){var r=lq.bind(null,t,n);i.has(n)||(i.add(n),n.then(r,r))})}}var ZQ=typeof WeakMap=="function"?WeakMap:Map;function ZD(t,e,i){i=cl(i,null),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){ey||(ey=!0,L_=n),I_(t,e)},i}function eM(t,e,i){i=cl(i,null),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;i.payload=function(){return I_(t,e),n(r)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(i.callback=function(){typeof n!="function"&&(dl===null?dl=new Set([this]):dl.add(this),I_(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),i}var eq=Math.ceil,qv=Do.ReactCurrentDispatcher,tM=Do.ReactCurrentOwner,tn=0,oS=8,Mo=16,va=32,Oc=0,Kv=1,iM=2,Xv=3,gw=4,aS=5,ut=tn,Yr=null,gt=null,_r=0,Zi=Oc,bw=null,is=1073741823,lm=1073741823,Jv=null,cm=0,Zv=!1,sS=0,nM=500,Ze=null,ey=!1,L_=null,dl=null,ty=!1,Bh=null,bh=90,Tc=null,Fh=0,O_=null,uv=0;function ua(){return(ut&(Mo|va))!==tn?1073741821-(uo()/10|0):uv!==0?uv:uv=1073741821-(uo()/10|0)}function Dc(t,e,i){if(e=e.mode,(e&2)===0)return 1073741823;var n=hw();if((e&4)===0)return n===99?1073741823:1073741822;if((ut&Mo)!==tn)return _r;if(i!==null)t=lv(t,i.timeoutMs|0||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=lv(t,150,100);break;case 97:case 96:t=lv(t,5e3,250);break;case 95:t=2;break;default:throw Error(Re(326))}return Yr!==null&&t===_r&&--t,t}function fl(t,e){if(50<Fh)throw Fh=0,O_=null,Error(Re(185));if(t=vw(t,e),t!==null){var i=hw();e===1073741823?(ut&oS)!==tn&&(ut&(Mo|va))===tn?D_(t):(Vr(t),ut===tn&&Ea()):Vr(t),(ut&4)===tn||i!==98&&i!==99||(Tc===null?Tc=new Map([[t,e]]):(i=Tc.get(t),(i===void 0||i>e)&&Tc.set(t,e)))}}function vw(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;i!==null&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(n===null&&t.tag===3)r=t.stateNode;else for(;n!==null;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),i!==null&&i.childExpirationTime<e&&(i.childExpirationTime=e),n.return===null&&n.tag===3){r=n.stateNode;break}n=n.return}return r!==null&&(Yr===r&&(yw(e),Zi===gw&&Cc(r,_r)),hM(r,e)),r}function dv(t){var e=t.lastExpiredTime;if(e!==0||(e=t.firstPendingTime,!pM(t,e)))return e;var i=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=i>t?i:t,2>=t&&e!==t?0:t}function Vr(t){if(t.lastExpiredTime!==0)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=G5(D_.bind(null,t));else{var e=dv(t),i=t.callbackNode;if(e===0)i!==null&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=ua();if(e===1073741823?n=99:e===1||e===2?n=95:(n=10*(1073741821-e)-10*(1073741821-n),n=0>=n?99:250>=n?98:5250>=n?97:95),i!==null){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==zD&&_D(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=e===1073741823?G5(D_.bind(null,t)):RD(n,rM.bind(null,t),{timeout:10*(1073741821-e)-uo()}),t.callbackNode=e}}}function rM(t,e){if(uv=0,e)return e=ua(),N_(t,e),Vr(t),null;var i=dv(t);if(i!==0){if(e=t.callbackNode,(ut&(Mo|va))!==tn)throw Error(Re(327));if(Pf(),t===Yr&&i===_r||Sc(t,i),gt!==null){var n=ut;ut|=Mo;var r=lM();do try{nq();break}catch(s){sM(t,s)}while(1);if(VT(),ut=n,qv.current=r,Zi===Kv)throw e=bw,Sc(t,i),Cc(t,i),Vr(t),e;if(gt===null)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=Zi,Yr=null,n){case Oc:case Kv:throw Error(Re(345));case iM:N_(t,2<i?2:i);break;case Xv:if(Cc(t,i),n=t.lastSuspendedTime,i===n&&(t.nextKnownPendingLevel=M_(r)),is===1073741823&&(r=sS+nM-uo(),10<r)){if(Zv){var o=t.lastPingedTime;if(o===0||o>=i){t.lastPingedTime=i,Sc(t,i);break}}if(o=dv(t),o!==0&&o!==i)break;if(n!==0&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=S1(hc.bind(null,t),r);break}hc(t);break;case gw:if(Cc(t,i),n=t.lastSuspendedTime,i===n&&(t.nextKnownPendingLevel=M_(r)),Zv&&(r=t.lastPingedTime,r===0||r>=i)){t.lastPingedTime=i,Sc(t,i);break}if(r=dv(t),r!==0&&r!==i)break;if(n!==0&&n!==i){t.lastPingedTime=n;break}if(lm!==1073741823?n=10*(1073741821-lm)-uo():is===1073741823?n=0:(n=10*(1073741821-is)-5e3,r=uo(),i=10*(1073741821-i)-r,n=r-n,0>n&&(n=0),n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eq(n/1960))-n,i<n&&(n=i)),10<n){t.timeoutHandle=S1(hc.bind(null,t),n);break}hc(t);break;case aS:if(is!==1073741823&&Jv!==null){o=is;var a=Jv;if(n=a.busyMinDurationMs|0,0>=n?n=0:(r=a.busyDelayMs|0,o=uo()-(10*(1073741821-o)-(a.timeoutMs|0||5e3)),n=o<=r?0:r+n-o),10<n){Cc(t,i),t.timeoutHandle=S1(hc.bind(null,t),n);break}}hc(t);break;default:throw Error(Re(329))}if(Vr(t),t.callbackNode===e)return rM.bind(null,t)}}return null}function D_(t){var e=t.lastExpiredTime;if(e=e!==0?e:1073741823,(ut&(Mo|va))!==tn)throw Error(Re(327));if(Pf(),t===Yr&&e===_r||Sc(t,e),gt!==null){var i=ut;ut|=Mo;var n=lM();do try{iq();break}catch(r){sM(t,r)}while(1);if(VT(),ut=i,qv.current=n,Zi===Kv)throw i=bw,Sc(t,e),Cc(t,e),Vr(t),i;if(gt!==null)throw Error(Re(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Yr=null,hc(t),Vr(t)}return null}function tq(){if(Tc!==null){var t=Tc;Tc=null,t.forEach(function(e,i){N_(i,e),Vr(i)}),Ea()}}function oM(t,e){var i=ut;ut|=1;try{return t(e)}finally{ut=i,ut===tn&&Ea()}}function aM(t,e){var i=ut;ut&=-2,ut|=oS;try{return t(e)}finally{ut=i,ut===tn&&Ea()}}function Sc(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,eQ(i)),gt!==null)for(i=gt.return;i!==null;){var n=i;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nv();break;case 3:Yd(),fi(yr),fi(Nn);break;case 5:XT(n);break;case 4:Yd();break;case 13:fi(Ai);break;case 19:fi(Ai);break;case 10:$T(n)}i=i.return}Yr=t,gt=tu(t.current,null),_r=e,Zi=Oc,bw=null,lm=is=1073741823,Jv=null,cm=0,Zv=!1}function sM(t,e){do{try{if(VT(),cv.current=Qv,Yv)for(var i=Qi.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}if(tl=0,Pn=Rn=Qi=null,Yv=!1,gt===null||gt.return===null)return Zi=Kv,bw=e,gt=null;e:{var r=t,o=gt.return,a=gt,s=e;if(e=_r,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,s!==null&&typeof s=="object"&&typeof s.then=="function"){var l=s;if((a.mode&2)===0){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var d=(Ai.current&1)!==0,f=o;do{var h;if(h=f.tag===13){var m=f.memoizedState;if(m!==null)h=m.dehydrated!==null;else{var v=f.memoizedProps;h=v.fallback===void 0?!1:v.unstable_avoidThisFallback!==!0?!0:!d}}if(h){var w=f.updateQueue;if(w===null){var g=new Set;g.add(l),f.updateQueue=g}else w.add(l);if((f.mode&2)===0){if(f.effectTag|=64,a.effectTag&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var A=cl(1073741823,null);A.tag=2,ul(a,A)}a.expirationTime=1073741823;break e}s=void 0,a=e;var x=r.pingCache;if(x===null?(x=r.pingCache=new ZQ,s=new Set,x.set(l,s)):(s=x.get(l),s===void 0&&(s=new Set,x.set(l,s))),!s.has(a)){s.add(a);var T=sq.bind(null,r,l,a);l.then(T,T)}f.effectTag|=4096,f.expirationTime=e;break e}f=f.return}while(f!==null);s=Error((ds(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+zT(a))}Zi!==aS&&(Zi=iM),s=rS(s,a),f=o;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=e;var E=ZD(f,l,e);H5(f,E);break e;case 1:l=s;var z=f.type,L=f.stateNode;if((f.effectTag&64)===0&&(typeof z.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(dl===null||!dl.has(L)))){f.effectTag|=4096,f.expirationTime=e;var B=eM(f,l,e);H5(f,B);break e}}f=f.return}while(f!==null)}gt=dM(gt)}catch(O){e=O;continue}break}while(1)}function lM(){var t=qv.current;return qv.current=Qv,t===null?Qv:t}function cM(t,e){t<is&&2<t&&(is=t),e!==null&&t<lm&&2<t&&(lm=t,Jv=e)}function yw(t){t>cm&&(cm=t)}function iq(){for(;gt!==null;)gt=uM(gt)}function nq(){for(;gt!==null&&!UQ();)gt=uM(gt)}function uM(t){var e=fM(t.alternate,t,_r);return t.memoizedProps=t.pendingProps,e===null&&(e=dM(t)),tM.current=null,e}function dM(t){gt=t;do{var e=gt.alternate;if(t=gt.return,(gt.effectTag&2048)===0){if(e=$Q(e,gt,_r),_r===1||gt.childExpirationTime!==1){for(var i=0,n=gt.child;n!==null;){var r=n.expirationTime,o=n.childExpirationTime;r>i&&(i=r),o>i&&(i=o),n=n.sibling}gt.childExpirationTime=i}if(e!==null)return e;t!==null&&(t.effectTag&2048)===0&&(t.firstEffect===null&&(t.firstEffect=gt.firstEffect),gt.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=gt.firstEffect),t.lastEffect=gt.lastEffect),1<gt.effectTag&&(t.lastEffect!==null?t.lastEffect.nextEffect=gt:t.firstEffect=gt,t.lastEffect=gt))}else{if(e=QQ(gt),e!==null)return e.effectTag&=2047,e;t!==null&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(e=gt.sibling,e!==null)return e;gt=t}while(gt!==null);return Zi===Oc&&(Zi=aS),null}function M_(t){var e=t.expirationTime;return t=t.childExpirationTime,e>t?e:t}function hc(t){var e=hw();return xl(99,rq.bind(null,t,e)),null}function rq(t,e){do Pf();while(Bh!==null);if((ut&(Mo|va))!==tn)throw Error(Re(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(i===null)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=M_(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Yr&&(gt=Yr=null,_r=0),1<i.effectTag?i.lastEffect!==null?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,r!==null){var o=ut;ut|=va,tM.current=null,_1=iv;var a=C5();if(h_(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var f=0,h=-1,m=-1,v=0,w=0,g=a,A=null;t:for(;;){for(var x;g!==s||c!==0&&g.nodeType!==3||(h=f+c),g!==d||l!==0&&g.nodeType!==3||(m=f+l),g.nodeType===3&&(f+=g.nodeValue.length),(x=g.firstChild)!==null;)A=g,g=x;for(;;){if(g===a)break t;if(A===s&&++v===c&&(h=f),A===d&&++w===l&&(m=f),(x=g.nextSibling)!==null)break;g=A,A=g.parentNode}g=x}s=h===-1||m===-1?null:{start:h,end:m}}else s=null}s=s||{start:0,end:0}}else s=null;T1={activeElementDetached:null,focusedElem:a,selectionRange:s},iv=!1,Ze=r;do try{oq()}catch(F){if(Ze===null)throw Error(Re(330));Mc(Ze,F),Ze=Ze.nextEffect}while(Ze!==null);Ze=r;do try{for(a=t,s=e;Ze!==null;){var T=Ze.effectTag;if(T&16&&em(Ze.stateNode,""),T&128){var E=Ze.alternate;if(E!==null){var z=E.ref;z!==null&&(typeof z=="function"?z(null):z.current=null)}}switch(T&1038){case 2:l3(Ze),Ze.effectTag&=-3;break;case 6:l3(Ze),Ze.effectTag&=-3,P1(Ze.alternate,Ze);break;case 1024:Ze.effectTag&=-1025;break;case 1028:Ze.effectTag&=-1025,P1(Ze.alternate,Ze);break;case 4:P1(Ze.alternate,Ze);break;case 8:c=Ze,JD(a,c,s),XD(c)}Ze=Ze.nextEffect}}catch(F){if(Ze===null)throw Error(Re(330));Mc(Ze,F),Ze=Ze.nextEffect}while(Ze!==null);if(z=T1,E=C5(),T=z.focusedElem,s=z.selectionRange,E!==T&&T&&T.ownerDocument&&sD(T.ownerDocument.documentElement,T)){for(s!==null&&h_(T)&&(E=s.start,z=s.end,z===void 0&&(z=E),"selectionStart"in T?(T.selectionStart=E,T.selectionEnd=Math.min(z,T.value.length)):(z=(E=T.ownerDocument||document)&&E.defaultView||window,z.getSelection&&(z=z.getSelection(),c=T.textContent.length,a=Math.min(s.start,c),s=s.end===void 0?a:Math.min(s.end,c),!z.extend&&a>s&&(c=s,s=a,a=c),c=S5(T,a),d=S5(T,s),c&&d&&(z.rangeCount!==1||z.anchorNode!==c.node||z.anchorOffset!==c.offset||z.focusNode!==d.node||z.focusOffset!==d.offset)&&(E=E.createRange(),E.setStart(c.node,c.offset),z.removeAllRanges(),a>s?(z.addRange(E),z.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),z.addRange(E)))))),E=[],z=T;z=z.parentNode;)z.nodeType===1&&E.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<E.length;T++)z=E[T],z.element.scrollLeft=z.left,z.element.scrollTop=z.top}iv=!!_1,T1=_1=null,t.current=i,Ze=r;do try{for(T=t;Ze!==null;){var L=Ze.effectTag;if(L&36&&JQ(T,Ze.alternate,Ze),L&128){E=void 0;var B=Ze.ref;if(B!==null){var O=Ze.stateNode;switch(Ze.tag){case 5:E=O;break;default:E=O}typeof B=="function"?B(E):B.current=E}}Ze=Ze.nextEffect}}catch(F){if(Ze===null)throw Error(Re(330));Mc(Ze,F),Ze=Ze.nextEffect}while(Ze!==null);Ze=null,GQ(),ut=o}else t.current=i;if(ty)ty=!1,Bh=t,bh=e;else for(Ze=r;Ze!==null;)e=Ze.nextEffect,Ze.nextEffect=null,Ze=e;if(e=t.firstPendingTime,e===0&&(dl=null),e===1073741823?t===O_?Fh++:(Fh=0,O_=t):Fh=0,typeof B_=="function"&&B_(i.stateNode,n),Vr(t),ey)throw ey=!1,t=L_,L_=null,t;return(ut&oS)!==tn||Ea(),null}function oq(){for(;Ze!==null;){var t=Ze.effectTag;(t&256)!==0&&XQ(Ze.alternate,Ze),(t&512)===0||ty||(ty=!0,RD(97,function(){return Pf(),null})),Ze=Ze.nextEffect}}function Pf(){if(bh!==90){var t=97<bh?97:bh;return bh=90,xl(t,aq)}}function aq(){if(Bh===null)return!1;var t=Bh;if(Bh=null,(ut&(Mo|va))!==tn)throw Error(Re(331));var e=ut;for(ut|=va,t=t.current.firstEffect;t!==null;){try{var i=t;if((i.effectTag&512)!==0)switch(i.tag){case 0:case 11:case 15:case 22:qD(5,i),KD(5,i)}}catch(n){if(t===null)throw Error(Re(330));Mc(t,n)}i=t.nextEffect,t.nextEffect=null,t=i}return ut=e,Ea(),!0}function u3(t,e,i){e=rS(i,e),e=ZD(t,e,1073741823),ul(t,e),t=vw(t,1073741823),t!==null&&Vr(t)}function Mc(t,e){if(t.tag===3)u3(t,t,e);else for(var i=t.return;i!==null;){if(i.tag===3){u3(i,t,e);break}else if(i.tag===1){var n=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dl===null||!dl.has(n))){t=rS(e,t),t=eM(i,t,1073741823),ul(i,t),i=vw(i,1073741823),i!==null&&Vr(i);break}}i=i.return}}function sq(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),Yr===t&&_r===i?Zi===gw||Zi===Xv&&is===1073741823&&uo()-sS<nM?Sc(t,_r):Zv=!0:pM(t,i)&&(e=t.lastPingedTime,e!==0&&e<i||(t.lastPingedTime=i,Vr(t)))}function lq(t,e){var i=t.stateNode;i!==null&&i.delete(e),e=0,e===0&&(e=ua(),e=Dc(e,t,null)),t=vw(t,e),t!==null&&Vr(t)}var fM;fM=function(t,e,i){var n=e.expirationTime;if(t!==null){var r=e.pendingProps;if(t.memoizedProps!==r||yr.current)ra=!0;else{if(n<i){switch(ra=!1,e.tag){case 3:t3(e),z1();break;case 5:if($5(e),e.mode&4&&i!==1&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:wr(e.type)&&av(e);break;case 4:k_(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,Ri(jv,r._currentValue),r._currentValue=n;break;case 13:if(e.memoizedState!==null)return n=e.child.childExpirationTime,n!==0&&n>=i?i3(t,e,i):(Ri(Ai,Ai.current&1),e=as(t,e,i),e!==null?e.sibling:null);Ri(Ai,Ai.current&1);break;case 19:if(n=e.childExpirationTime>=i,(t.effectTag&64)!==0){if(n)return r3(t,e,i);e.effectTag|=64}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null),Ri(Ai,Ai.current),!n)return null}return as(t,e,i)}ra=!1}}else ra=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=Hd(e,Nn.current),Ed(e,i),r=eS(null,e,n,t,r,i),e.effectTag|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(n)){var o=!0;av(e)}else o=!1;e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,QT(e);var a=n.getDerivedStateFromProps;typeof a=="function"&&Hv(e,n,a,t),r.updater=mw,e.stateNode=r,r._reactInternalFiber=e,x_(e,n,t,i),e=E_(null,e,n,!0,o,i)}else e.tag=0,Ur(null,e,r,i),e=e.child;return e;case 16:e:{if(r=e.elementType,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,B$(r),r._status!==1)throw r._result;switch(r=r._result,e.type=r,o=e.tag=dq(r),t=Co(r,t),o){case 0:e=C_(null,e,r,t,i);break e;case 1:e=e3(null,e,r,t,i);break e;case 11:e=J5(null,e,r,t,i);break e;case 14:e=Z5(null,e,r,Co(r.type,t),n,i);break e}throw Error(Re(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),C_(t,e,n,r,i);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),e3(t,e,n,r,i);case 3:if(t3(e),n=e.updateQueue,t===null||n===null)throw Error(Re(282));if(n=e.pendingProps,r=e.memoizedState,r=r!==null?r.element:null,qT(t,e),om(e,n,null,i),n=e.memoizedState.element,n===r)z1(),e=as(t,e,i);else{if((r=e.stateNode.hydrate)&&(il=Cd(e.stateNode.containerInfo.firstChild),os=e,r=Lc=!0),r)for(i=KT(e,null,n,i),e.child=i;i;)i.effectTag=i.effectTag&-3|1024,i=i.sibling;else Ur(t,e,n,i),z1();e=e.child}return e;case 5:return $5(e),t===null&&S_(e),n=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,m_(n,r)?a=null:o!==null&&m_(n,o)&&(e.effectTag|=16),YD(t,e),e.mode&4&&i!==1&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ur(t,e,a,i),e=e.child),e;case 6:return t===null&&S_(e),null;case 13:return i3(t,e,i);case 4:return k_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Wd(e,null,n,i):Ur(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),J5(t,e,n,r,i);case 7:return Ur(t,e,e.pendingProps,i),e.child;case 8:return Ur(t,e,e.pendingProps.children,i),e.child;case 12:return Ur(t,e,e.pendingProps.children,i),e.child;case 10:e:{n=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value;var s=e.type._context;if(Ri(jv,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=Zc(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===r.children&&!yr.current){e=as(t,e,i);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n&&(c.observedBits&o)!==0){s.tag===1&&(c=cl(i,null),c.tag=2,ul(s,c)),s.expirationTime<i&&(s.expirationTime=i),c=s.alternate,c!==null&&c.expirationTime<i&&(c.expirationTime=i),LD(s.return,i),l.expirationTime<i&&(l.expirationTime=i);break}c=c.next}}else a=s.tag===10&&s.type===e.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ur(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps,n=o.children,Ed(e,i),r=go(r,o.unstable_observedBits),n=n(r),e.effectTag|=1,Ur(t,e,n,i),e.child;case 14:return r=e.type,o=Co(r,e.pendingProps),o=Co(r.type,o),Z5(t,e,r,o,n,i);case 15:return WD(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Co(n,r),t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,wr(n)?(t=!0,av(e)):t=!1,Ed(e,i),DD(e,n,r),x_(e,n,r,i),E_(null,e,n,!0,t,i);case 19:return r3(t,e,i)}throw Error(Re(156,e.tag))};var B_=null,F_=null;function cq(t){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);B_=function(n){try{e.onCommitFiberRoot(i,n,void 0,(n.current.effectTag&64)===64)}catch{}},F_=function(n){try{e.onCommitFiberUnmount(i,n)}catch{}}}catch{}return!0}function uq(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function oa(t,e,i,n){return new uq(t,e,i,n)}function lS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dq(t){if(typeof t=="function")return lS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===CT)return 11;if(t===ET)return 14}return 2}function tu(t,e){var i=t.alternate;return i===null?(i=oa(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function fv(t,e,i,n,r,o){var a=2;if(n=t,typeof t=="function")lS(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ac:return nl(i.children,r,o,e);case M$:a=8,r|=7;break;case RO:a=8,r|=1;break;case Z0:return t=oa(12,i,e,r|8),t.elementType=Z0,t.type=Z0,t.expirationTime=o,t;case ev:return t=oa(13,i,e,r),t.type=ev,t.elementType=ev,t.expirationTime=o,t;case e_:return t=oa(19,i,e,r),t.elementType=e_,t.expirationTime=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PO:a=10;break e;case LO:a=9;break e;case CT:a=11;break e;case ET:a=14;break e;case OO:a=16,n=null;break e;case DO:a=22;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=oa(a,i,e,r),e.elementType=t,e.type=n,e.expirationTime=o,e}function nl(t,e,i,n){return t=oa(7,t,n,e),t.expirationTime=i,t}function L1(t,e,i){return t=oa(6,t,null,e),t.expirationTime=i,t}function O1(t,e,i){return e=oa(4,t.children!==null?t.children:[],t.key,e),e.expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fq(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function pM(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,i!==0&&i>=e&&t<=e}function Cc(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||i===0)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function hM(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;i!==0&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function N_(t,e){var i=t.lastExpiredTime;(i===0||i>e)&&(t.lastExpiredTime=e)}function iy(t,e,i,n){var r=e.current,o=ua(),a=Mh.suspense;o=Dc(o,r,a);e:if(i){i=i._reactInternalFiber;t:{if(fu(i)!==i||i.tag!==1)throw Error(Re(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(wr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Re(171))}if(i.tag===1){var l=i.type;if(wr(l)){i=kD(i,l,s);break e}}i=s}else i=Al;return e.context===null?e.context=i:e.pendingContext=i,e=cl(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),ul(r,e),fl(r,o),o}function D1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d3(t,e){t=t.memoizedState,t!==null&&t.dehydrated!==null&&t.retryTime<e&&(t.retryTime=e)}function cS(t,e){d3(t,e),(t=t.alternate)&&d3(t,e)}function uS(t,e,i){i=i!=null&&i.hydrate===!0;var n=new fq(t,e,i),r=oa(3,null,null,e===2?7:e===1?3:0);n.current=r,r.stateNode=n,QT(r),t[sg]=n.current,i&&e!==0&&H$(t,t.nodeType===9?t:t.ownerDocument),this._internalRoot=n}uS.prototype.render=function(t){iy(t,this._internalRoot,null,null)};uS.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;iy(null,t,null,function(){e[sg]=null})};function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pq(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new uS(t,0,e?{hydrate:!0}:void 0)}function ww(t,e,i,n,r){var o=i._reactRootContainer;if(o){var a=o._internalRoot;if(typeof r=="function"){var s=r;r=function(){var c=D1(a);s.call(c)}}iy(e,a,t,r)}else{if(o=i._reactRootContainer=pq(i,n),a=o._internalRoot,typeof r=="function"){var l=r;r=function(){var c=D1(a);l.call(c)}}aM(function(){iy(e,a,t,r)})}return D1(a)}function hq(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ud,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}eD=function(t){if(t.tag===13){var e=lv(ua(),150,100);fl(t,e),cS(t,e)}};LT=function(t){t.tag===13&&(fl(t,3),cS(t,3))};tD=function(t){if(t.tag===13){var e=ua();e=Dc(e,t,null),fl(t,e),cS(t,e)}};Zk=function(t,e,i){switch(e){case"input":if(i_(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=jT(n);if(!r)throw Error(Re(90));BO(n),i_(n,r)}}}break;case"textarea":NO(t,i);break;case"select":e=i.value,e!=null&&Sd(t,!!i.multiple,e,!1)}};AT=oM;EO=function(t,e,i,n,r){var o=ut;ut|=4;try{return xl(98,t.bind(null,e,i,n,r))}finally{ut=o,ut===tn&&Ea()}};xT=function(){(ut&(1|Mo|va))===tn&&(tq(),Pf())};zO=function(t,e){var i=ut;ut|=2;try{return t(e)}finally{ut=i,ut===tn&&Ea()}};function mM(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(e))throw Error(Re(200));return hq(t,e,null,i)}var mq={Events:[cg,Jc,jT,TO,Jk,Gd,function(t){RT(t,iQ)},SO,CO,dw,uw,Pf,{current:!1}]};(function(t){var e=t.findFiberByHostInstance;return cq(rr({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Do.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=qO(i),i===null?null:i.stateNode},findFiberByHostInstance:function(i){return e?e(i):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:lg,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mq;yo.createPortal=mM;yo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternalFiber;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):Error(Re(268,Object.keys(t)));return t=qO(e),t=t===null?null:t.stateNode,t};yo.flushSync=function(t,e){if((ut&(Mo|va))!==tn)throw Error(Re(187));var i=ut;ut|=1;try{return xl(99,t.bind(null,e))}finally{ut=i,Ea()}};yo.hydrate=function(t,e,i){if(!pg(e))throw Error(Re(200));return ww(null,t,e,!0,i)};yo.render=function(t,e,i){if(!pg(e))throw Error(Re(200));return ww(null,t,e,!1,i)};yo.unmountComponentAtNode=function(t){if(!pg(t))throw Error(Re(40));return t._reactRootContainer?(aM(function(){ww(null,null,t,!1,function(){t._reactRootContainer=null,t[sg]=null})}),!0):!1};yo.unstable_batchedUpdates=oM;yo.unstable_createPortal=function(t,e){return mM(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};yo.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!pg(i))throw Error(Re(200));if(t==null||t._reactInternalFiber===void 0)throw Error(Re(38));return ww(t,e,i,!1,n)};yo.version="16.14.0";function gM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gM)}catch(t){console.error(t)}}gM(),yl.exports=yo;var gq=yl.exports,Aw={exports:{}},hg={};/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bq=$.exports,bM=60103;hg.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var f3=Symbol.for;bM=f3("react.element"),hg.Fragment=f3("react.fragment")}var vq=bq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yq=Object.prototype.hasOwnProperty,wq={key:!0,ref:!0,__self:!0,__source:!0};function vM(t,e,i){var n,r={},o=null,a=null;i!==void 0&&(o=""+i),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)yq.call(e,n)&&!wq.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:bM,type:t,key:o,ref:a,props:r,_owner:vq.current}}hg.jsx=vM;hg.jsxs=vM;Aw.exports=hg;const P=Aw.exports.jsx,ue=Aw.exports.jsxs,Jr=Aw.exports.Fragment,yM=$.exports.createContext({firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}}),Aq=({appConfig:t,children:e})=>P(yM.Provider,{value:t,children:e}),ji=()=>{const t=$.exports.useContext(yM);if(t===void 0)throw new Error("useAppConfigContext must be used within a AppConfigProvider");return t},wM=$.exports.createContext({language:"en",setLanguage:()=>{}}),xq=({languageConfig:t,children:e})=>P(wM.Provider,{value:t,children:e}),jo=()=>{const t=$.exports.useContext(wM);if(t===void 0)throw new Error("useLanguageConfigContext must be used within a LanguageConfigProvider");return t};function um(t,e){return um=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},um(t,e)}function ye(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,um(t,e)}var AM={exports:{}},kq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_q=kq,Tq=_q;function xM(){}function kM(){}kM.resetWarningCache=xM;var Sq=function(){function t(n,r,o,a,s,l){if(l!==Tq){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kM,resetWarningCache:xM};return i.PropTypes=i,i};AM.exports=Sq();var p3=AM.exports;function Me(){return Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Me.apply(this,arguments)}var Cq=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));function T0(t){return t.charAt(0)==="/"}function M1(t,e){for(var i=e,n=i+1,r=t.length;n<r;i+=1,n+=1)t[i]=t[n];t.pop()}function Eq(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],n=e&&e.split("/")||[],r=t&&T0(t),o=e&&T0(e),a=r||o;if(t&&T0(t)?n=i:i.length&&(n.pop(),n=n.concat(i)),!n.length)return"/";var s;if(n.length){var l=n[n.length-1];s=l==="."||l===".."||l===""}else s=!1;for(var c=0,d=n.length;d>=0;d--){var f=n[d];f==="."?M1(n,d):f===".."?(M1(n,d),c++):c&&(M1(n,d),c--)}if(!a)for(;c--;c)n.unshift("..");a&&n[0]!==""&&(!n[0]||!T0(n[0]))&&n.unshift("");var h=n.join("/");return s&&h.substr(-1)!=="/"&&(h+="/"),h}var zq=!0,B1="Invariant failed";function pu(t,e){if(!t){if(zq)throw new Error(B1);var i=typeof e=="function"?e():e,n=i?B1+": "+i:B1;throw new Error(n)}}function Nh(t){return t.charAt(0)==="/"?t:"/"+t}function h3(t){return t.charAt(0)==="/"?t.substr(1):t}function Iq(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function _M(t,e){return Iq(t,e)?t.substr(e.length):t}function TM(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Rq(t){var e=t||"/",i="",n="",r=e.indexOf("#");r!==-1&&(n=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return o!==-1&&(i=e.substr(o),e=e.substr(0,o)),{pathname:e,search:i==="?"?"":i,hash:n==="#"?"":n}}function mr(t){var e=t.pathname,i=t.search,n=t.hash,r=e||"/";return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Hr(t,e,i,n){var r;typeof t=="string"?(r=Rq(t),r.state=e):(r=Me({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return i&&(r.key=i),n?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=Eq(r.pathname,n.pathname)):r.pathname=n.pathname:r.pathname||(r.pathname="/"),r}function dS(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function i(a,s,l,c){if(t!=null){var d=typeof t=="function"?t(a,s):t;typeof d=="string"?typeof l=="function"?l(d,c):c(!0):c(d!==!1)}else c(!0)}var n=[];function r(a){var s=!0;function l(){s&&a.apply(void 0,arguments)}return n.push(l),function(){s=!1,n=n.filter(function(c){return c!==l})}}function o(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n.forEach(function(c){return c.apply(void 0,s)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:r,notifyListeners:o}}var SM=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function CM(t,e){e(window.confirm(t))}function Pq(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Lq(){return window.navigator.userAgent.indexOf("Trident")===-1}function Oq(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Dq(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var m3="popstate",g3="hashchange";function b3(){try{return window.history.state||{}}catch{return{}}}function Mq(t){t===void 0&&(t={}),SM||pu(!1);var e=window.history,i=Pq(),n=!Lq(),r=t,o=r.forceRefresh,a=o===void 0?!1:o,s=r.getUserConfirmation,l=s===void 0?CM:s,c=r.keyLength,d=c===void 0?6:c,f=t.basename?TM(Nh(t.basename)):"";function h(Pe){var De=Pe||{},se=De.key,Z=De.state,ce=window.location,te=ce.pathname,ae=ce.search,fe=ce.hash,ve=te+ae+fe;return f&&(ve=_M(ve,f)),Hr(ve,Z,se)}function m(){return Math.random().toString(36).substr(2,d)}var v=dS();function w(Pe){Me(Ve,Pe),Ve.length=e.length,v.notifyListeners(Ve.location,Ve.action)}function g(Pe){Dq(Pe)||T(h(Pe.state))}function A(){T(h(b3()))}var x=!1;function T(Pe){if(x)x=!1,w();else{var De="POP";v.confirmTransitionTo(Pe,De,l,function(se){se?w({action:De,location:Pe}):E(Pe)})}}function E(Pe){var De=Ve.location,se=L.indexOf(De.key);se===-1&&(se=0);var Z=L.indexOf(Pe.key);Z===-1&&(Z=0);var ce=se-Z;ce&&(x=!0,H(ce))}var z=h(b3()),L=[z.key];function B(Pe){return f+mr(Pe)}function O(Pe,De){var se="PUSH",Z=Hr(Pe,De,m(),Ve.location);v.confirmTransitionTo(Z,se,l,function(ce){if(!!ce){var te=B(Z),ae=Z.key,fe=Z.state;if(i)if(e.pushState({key:ae,state:fe},null,te),a)window.location.href=te;else{var ve=L.indexOf(Ve.location.key),be=L.slice(0,ve+1);be.push(Z.key),L=be,w({action:se,location:Z})}else window.location.href=te}})}function F(Pe,De){var se="REPLACE",Z=Hr(Pe,De,m(),Ve.location);v.confirmTransitionTo(Z,se,l,function(ce){if(!!ce){var te=B(Z),ae=Z.key,fe=Z.state;if(i)if(e.replaceState({key:ae,state:fe},null,te),a)window.location.replace(te);else{var ve=L.indexOf(Ve.location.key);ve!==-1&&(L[ve]=Z.key),w({action:se,location:Z})}else window.location.replace(te)}})}function H(Pe){e.go(Pe)}function X(){H(-1)}function de(){H(1)}var we=0;function Ee(Pe){we+=Pe,we===1&&Pe===1?(window.addEventListener(m3,g),n&&window.addEventListener(g3,A)):we===0&&(window.removeEventListener(m3,g),n&&window.removeEventListener(g3,A))}var _e=!1;function Ne(Pe){Pe===void 0&&(Pe=!1);var De=v.setPrompt(Pe);return _e||(Ee(1),_e=!0),function(){return _e&&(_e=!1,Ee(-1)),De()}}function Be(Pe){var De=v.appendListener(Pe);return Ee(1),function(){Ee(-1),De()}}var Ve={length:e.length,action:"POP",location:z,createHref:B,push:O,replace:F,go:H,goBack:X,goForward:de,block:Ne,listen:Be};return Ve}var v3="hashchange",Bq={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+h3(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:h3,decodePath:Nh},slash:{encodePath:Nh,decodePath:Nh}};function EM(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function th(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Fq(t){window.location.hash=t}function F1(t){window.location.replace(EM(window.location.href)+"#"+t)}function Nq(t){t===void 0&&(t={}),SM||pu(!1);var e=window.history;Oq();var i=t,n=i.getUserConfirmation,r=n===void 0?CM:n,o=i.hashType,a=o===void 0?"slash":o,s=t.basename?TM(Nh(t.basename)):"",l=Bq[a],c=l.encodePath,d=l.decodePath;function f(){var De=d(th());return s&&(De=_M(De,s)),Hr(De)}var h=dS();function m(De){Me(Pe,De),Pe.length=e.length,h.notifyListeners(Pe.location,Pe.action)}var v=!1,w=null;function g(De,se){return De.pathname===se.pathname&&De.search===se.search&&De.hash===se.hash}function A(){var De=th(),se=c(De);if(De!==se)F1(se);else{var Z=f(),ce=Pe.location;if(!v&&g(ce,Z)||w===mr(Z))return;w=null,x(Z)}}function x(De){if(v)v=!1,m();else{var se="POP";h.confirmTransitionTo(De,se,r,function(Z){Z?m({action:se,location:De}):T(De)})}}function T(De){var se=Pe.location,Z=B.lastIndexOf(mr(se));Z===-1&&(Z=0);var ce=B.lastIndexOf(mr(De));ce===-1&&(ce=0);var te=Z-ce;te&&(v=!0,X(te))}var E=th(),z=c(E);E!==z&&F1(z);var L=f(),B=[mr(L)];function O(De){var se=document.querySelector("base"),Z="";return se&&se.getAttribute("href")&&(Z=EM(window.location.href)),Z+"#"+c(s+mr(De))}function F(De,se){var Z="PUSH",ce=Hr(De,void 0,void 0,Pe.location);h.confirmTransitionTo(ce,Z,r,function(te){if(!!te){var ae=mr(ce),fe=c(s+ae),ve=th()!==fe;if(ve){w=ae,Fq(fe);var be=B.lastIndexOf(mr(Pe.location)),Ie=B.slice(0,be+1);Ie.push(ae),B=Ie,m({action:Z,location:ce})}else m()}})}function H(De,se){var Z="REPLACE",ce=Hr(De,void 0,void 0,Pe.location);h.confirmTransitionTo(ce,Z,r,function(te){if(!!te){var ae=mr(ce),fe=c(s+ae),ve=th()!==fe;ve&&(w=ae,F1(fe));var be=B.indexOf(mr(Pe.location));be!==-1&&(B[be]=ae),m({action:Z,location:ce})}})}function X(De){e.go(De)}function de(){X(-1)}function we(){X(1)}var Ee=0;function _e(De){Ee+=De,Ee===1&&De===1?window.addEventListener(v3,A):Ee===0&&window.removeEventListener(v3,A)}var Ne=!1;function Be(De){De===void 0&&(De=!1);var se=h.setPrompt(De);return Ne||(_e(1),Ne=!0),function(){return Ne&&(Ne=!1,_e(-1)),se()}}function Ve(De){var se=h.appendListener(De);return _e(1),function(){_e(-1),se()}}var Pe={length:e.length,action:"POP",location:L,createHref:O,push:F,replace:H,go:X,goBack:de,goForward:we,block:Be,listen:Ve};return Pe}function y3(t,e,i){return Math.min(Math.max(t,e),i)}function jq(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,n=e.initialEntries,r=n===void 0?["/"]:n,o=e.initialIndex,a=o===void 0?0:o,s=e.keyLength,l=s===void 0?6:s,c=dS();function d(O){Me(B,O),B.length=B.entries.length,c.notifyListeners(B.location,B.action)}function f(){return Math.random().toString(36).substr(2,l)}var h=y3(a,0,r.length-1),m=r.map(function(O){return typeof O=="string"?Hr(O,void 0,f()):Hr(O,void 0,O.key||f())}),v=mr;function w(O,F){var H="PUSH",X=Hr(O,F,f(),B.location);c.confirmTransitionTo(X,H,i,function(de){if(!!de){var we=B.index,Ee=we+1,_e=B.entries.slice(0);_e.length>Ee?_e.splice(Ee,_e.length-Ee,X):_e.push(X),d({action:H,location:X,index:Ee,entries:_e})}})}function g(O,F){var H="REPLACE",X=Hr(O,F,f(),B.location);c.confirmTransitionTo(X,H,i,function(de){!de||(B.entries[B.index]=X,d({action:H,location:X}))})}function A(O){var F=y3(B.index+O,0,B.entries.length-1),H="POP",X=B.entries[F];c.confirmTransitionTo(X,H,i,function(de){de?d({action:H,location:X,index:F}):d()})}function x(){A(-1)}function T(){A(1)}function E(O){var F=B.index+O;return F>=0&&F<B.entries.length}function z(O){return O===void 0&&(O=!1),c.setPrompt(O)}function L(O){return c.appendListener(O)}var B={length:m.length,action:"POP",location:m[h],index:h,entries:m,createHref:v,push:w,replace:g,go:A,goBack:x,goForward:T,canGo:E,block:z,listen:L};return B}var N1=1073741823,w3=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function Uq(){var t="__global_unique_id__";return w3[t]=(w3[t]||0)+1}function Gq(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Hq(t){var e=[];return{on:function(n){e.push(n)},off:function(n){e=e.filter(function(r){return r!==n})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(o){return o(t,r)})}}}function Wq(t){return Array.isArray(t)?t[0]:t}function Yq(t,e){var i,n,r="__create-react-context-"+Uq()+"__",o=function(s){ye(l,s);function l(){var d;return d=s.apply(this,arguments)||this,d.emitter=Hq(d.props.value),d}var c=l.prototype;return c.getChildContext=function(){var f;return f={},f[r]=this.emitter,f},c.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var h=this.props.value,m=f.value,v;Gq(h,m)?v=0:(v=typeof e=="function"?e(h,m):N1,v|=0,v!==0&&this.emitter.set(f.value,v))}},c.render=function(){return this.props.children},l}($.exports.Component);o.childContextTypes=(i={},i[r]=p3.object.isRequired,i);var a=function(s){ye(l,s);function l(){var d;return d=s.apply(this,arguments)||this,d.state={value:d.getValue()},d.onUpdate=function(f,h){var m=d.observedBits|0;(m&h)!==0&&d.setState({value:d.getValue()})},d}var c=l.prototype;return c.componentWillReceiveProps=function(f){var h=f.observedBits;this.observedBits=h==null?N1:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?N1:f},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return Wq(this.props.children)(this.state.value)},l}($.exports.Component);return a.contextTypes=(n={},n[r]=p3.object,n),{Provider:o,Consumer:a}}var Vq=ze.createContext||Yq,Lf={exports:{}},$q=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},ny=$q;Lf.exports=RM;Lf.exports.parse=fS;Lf.exports.compile=qq;Lf.exports.tokensToFunction=zM;Lf.exports.tokensToRegExp=IM;var Qq=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function fS(t,e){for(var i=[],n=0,r=0,o="",a=e&&e.delimiter||"/",s;(s=Qq.exec(t))!=null;){var l=s[0],c=s[1],d=s.index;if(o+=t.slice(r,d),r=d+l.length,c){o+=c[1];continue}var f=t[r],h=s[2],m=s[3],v=s[4],w=s[5],g=s[6],A=s[7];o&&(i.push(o),o="");var x=h!=null&&f!=null&&f!==h,T=g==="+"||g==="*",E=g==="?"||g==="*",z=s[2]||a,L=v||w;i.push({name:m||n++,prefix:h||"",delimiter:z,optional:E,repeat:T,partial:x,asterisk:!!A,pattern:L?Jq(L):A?".*":"[^"+pv(z)+"]+?"})}return r<t.length&&(o+=t.substr(r)),o&&i.push(o),i}function qq(t,e){return zM(fS(t,e),e)}function Kq(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Xq(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function zM(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",hS(e)));return function(r,o){for(var a="",s=r||{},l=o||{},c=l.pretty?Kq:encodeURIComponent,d=0;d<t.length;d++){var f=t[d];if(typeof f=="string"){a+=f;continue}var h=s[f.name],m;if(h==null)if(f.optional){f.partial&&(a+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(ny(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var v=0;v<h.length;v++){if(m=c(h[v]),!i[d].test(m))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(m)+"`");a+=(v===0?f.prefix:f.delimiter)+m}continue}if(m=f.asterisk?Xq(h):c(h),!i[d].test(m))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+m+'"');a+=f.prefix+m}return a}}function pv(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Jq(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function pS(t,e){return t.keys=e,t}function hS(t){return t&&t.sensitive?"":"i"}function Zq(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return pS(t,e)}function eK(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(RM(t[r],e,i).source);var o=new RegExp("(?:"+n.join("|")+")",hS(i));return pS(o,e)}function tK(t,e,i){return IM(fS(t,i),e,i)}function IM(t,e,i){ny(e)||(i=e||i,e=[]),i=i||{};for(var n=i.strict,r=i.end!==!1,o="",a=0;a<t.length;a++){var s=t[a];if(typeof s=="string")o+=pv(s);else{var l=pv(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),s.optional?s.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var d=pv(i.delimiter||"/"),f=o.slice(-d.length)===d;return n||(o=(f?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),r?o+="$":o+=n&&f?"":"(?="+d+"|$)",pS(new RegExp("^"+o,hS(i)),e)}function RM(t,e,i){return ny(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?Zq(t,e):ny(t)?eK(t,e,i):tK(t,e,i)}var iK=Lf.exports,mS={exports:{}},ei={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var un=typeof Symbol=="function"&&Symbol.for,gS=un?Symbol.for("react.element"):60103,bS=un?Symbol.for("react.portal"):60106,xw=un?Symbol.for("react.fragment"):60107,kw=un?Symbol.for("react.strict_mode"):60108,_w=un?Symbol.for("react.profiler"):60114,Tw=un?Symbol.for("react.provider"):60109,Sw=un?Symbol.for("react.context"):60110,vS=un?Symbol.for("react.async_mode"):60111,Cw=un?Symbol.for("react.concurrent_mode"):60111,Ew=un?Symbol.for("react.forward_ref"):60112,zw=un?Symbol.for("react.suspense"):60113,nK=un?Symbol.for("react.suspense_list"):60120,Iw=un?Symbol.for("react.memo"):60115,Rw=un?Symbol.for("react.lazy"):60116,rK=un?Symbol.for("react.block"):60121,oK=un?Symbol.for("react.fundamental"):60117,aK=un?Symbol.for("react.responder"):60118,sK=un?Symbol.for("react.scope"):60119;function Zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gS:switch(t=t.type,t){case vS:case Cw:case xw:case _w:case kw:case zw:return t;default:switch(t=t&&t.$$typeof,t){case Sw:case Ew:case Rw:case Iw:case Tw:return t;default:return e}}case bS:return e}}}function PM(t){return Zr(t)===Cw}ei.AsyncMode=vS;ei.ConcurrentMode=Cw;ei.ContextConsumer=Sw;ei.ContextProvider=Tw;ei.Element=gS;ei.ForwardRef=Ew;ei.Fragment=xw;ei.Lazy=Rw;ei.Memo=Iw;ei.Portal=bS;ei.Profiler=_w;ei.StrictMode=kw;ei.Suspense=zw;ei.isAsyncMode=function(t){return PM(t)||Zr(t)===vS};ei.isConcurrentMode=PM;ei.isContextConsumer=function(t){return Zr(t)===Sw};ei.isContextProvider=function(t){return Zr(t)===Tw};ei.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gS};ei.isForwardRef=function(t){return Zr(t)===Ew};ei.isFragment=function(t){return Zr(t)===xw};ei.isLazy=function(t){return Zr(t)===Rw};ei.isMemo=function(t){return Zr(t)===Iw};ei.isPortal=function(t){return Zr(t)===bS};ei.isProfiler=function(t){return Zr(t)===_w};ei.isStrictMode=function(t){return Zr(t)===kw};ei.isSuspense=function(t){return Zr(t)===zw};ei.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xw||t===Cw||t===_w||t===kw||t===zw||t===nK||typeof t=="object"&&t!==null&&(t.$$typeof===Rw||t.$$typeof===Iw||t.$$typeof===Tw||t.$$typeof===Sw||t.$$typeof===Ew||t.$$typeof===oK||t.$$typeof===aK||t.$$typeof===sK||t.$$typeof===rK)};ei.typeOf=Zr;mS.exports=ei;function hu(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}var LM=mS.exports,lK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OM={};OM[LM.ForwardRef]=lK;OM[LM.Memo]=cK;var DM=function(e){var i=Vq();return i.displayName=e,i},MM=DM("Router-History"),kl=DM("Router"),Pw=function(t){ye(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(n){var r;return r=t.call(this,n)||this,r.state={location:n.history.location},r._isMounted=!1,r._pendingLocation=null,n.staticContext||(r.unlisten=n.history.listen(function(o){r._isMounted?r.setState({location:o}):r._pendingLocation=o})),r}var i=e.prototype;return i.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return ze.createElement(kl.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ze.createElement(MM.Provider,{children:this.props.children||null,value:this.props.history}))},e}(ze.Component);ze.Component;ze.Component;var A3={},uK=1e4,x3=0;function dK(t,e){var i=""+e.end+e.strict+e.sensitive,n=A3[i]||(A3[i]={});if(n[t])return n[t];var r=[],o=iK(t,r,e),a={regexp:o,keys:r};return x3<uK&&(n[t]=a,x3++),a}function yS(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,n=i.path,r=i.exact,o=r===void 0?!1:r,a=i.strict,s=a===void 0?!1:a,l=i.sensitive,c=l===void 0?!1:l,d=[].concat(n);return d.reduce(function(f,h){if(!h&&h!=="")return null;if(f)return f;var m=dK(h,{end:o,strict:s,sensitive:c}),v=m.regexp,w=m.keys,g=v.exec(t);if(!g)return null;var A=g[0],x=g.slice(1),T=t===A;return o&&!T?null:{path:h,url:h==="/"&&A===""?"/":A,isExact:T,params:w.reduce(function(E,z,L){return E[z.name]=x[L],E},{})}},null)}function fK(t){return ze.Children.count(t)===0}var Ks=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var r=this;return ze.createElement(kl.Consumer,null,function(o){o||pu(!1);var a=r.props.location||o.location,s=r.props.computedMatch?r.props.computedMatch:r.props.path?yS(a.pathname,r.props):o.match,l=Me({},o,{location:a,match:s}),c=r.props,d=c.children,f=c.component,h=c.render;return Array.isArray(d)&&fK(d)&&(d=null),ze.createElement(kl.Provider,{value:l},l.match?d?typeof d=="function"?d(l):d:f?ze.createElement(f,l):h?h(l):null:typeof d=="function"?d(l):null)})},e}(ze.Component);function wS(t){return t.charAt(0)==="/"?t:"/"+t}function pK(t,e){return t?Me({},e,{pathname:wS(t)+e.pathname}):e}function hK(t,e){if(!t)return e;var i=wS(t);return e.pathname.indexOf(i)!==0?e:Me({},e,{pathname:e.pathname.substr(i.length)})}function k3(t){return typeof t=="string"?t:mr(t)}function j1(t){return function(){pu(!1)}}function _3(){}ze.Component;var mK=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var r=this;return ze.createElement(kl.Consumer,null,function(o){o||pu(!1);var a=r.props.location||o.location,s,l;return ze.Children.forEach(r.props.children,function(c){if(l==null&&ze.isValidElement(c)){s=c;var d=c.props.path||c.props.from;l=d?yS(a.pathname,Me({},c.props,{path:d})):o.match}}),l?ze.cloneElement(s,{location:a,computedMatch:l}):null})},e}(ze.Component),AS=ze.useContext;function xS(){return AS(MM)}function Of(){return AS(kl).location}function kS(){var t=AS(kl).match;return t?t.params:{}}ze.Component;var gK=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.history=Nq(n.props),n}var i=e.prototype;return i.render=function(){return ze.createElement(Pw,{history:this.history,children:this.props.children})},e}(ze.Component),j_=function(e,i){return typeof e=="function"?e(i):e},U_=function(e,i){return typeof e=="string"?Hr(e,null,null,i):e},_S=function(e){return e},Vd=ze.forwardRef;typeof Vd=="undefined"&&(Vd=_S);function bK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var vK=Vd(function(t,e){var i=t.innerRef,n=t.navigate,r=t.onClick,o=hu(t,["innerRef","navigate","onClick"]),a=o.target,s=Me({},o,{onClick:function(c){try{r&&r(c)}catch(d){throw c.preventDefault(),d}!c.defaultPrevented&&c.button===0&&(!a||a==="_self")&&!bK(c)&&(c.preventDefault(),n())}});return _S!==Vd?s.ref=e||i:s.ref=i,ze.createElement("a",s)}),yn=Vd(function(t,e){var i=t.component,n=i===void 0?vK:i,r=t.replace,o=t.to,a=t.innerRef,s=hu(t,["component","replace","to","innerRef"]);return ze.createElement(kl.Consumer,null,function(l){l||pu(!1);var c=l.history,d=U_(j_(o,l.location),l.location),f=d?c.createHref(d):"",h=Me({},s,{href:f,navigate:function(){var v=j_(o,l.location),w=mr(l.location)===mr(U_(v)),g=r||w?c.replace:c.push;g(v)}});return _S!==Vd?h.ref=e||a:h.innerRef=a,ze.createElement(n,h)})}),BM=function(e){return e},ry=ze.forwardRef;typeof ry=="undefined"&&(ry=BM);function yK(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(n){return n}).join(" ")}ry(function(t,e){var i=t["aria-current"],n=i===void 0?"page":i,r=t.activeClassName,o=r===void 0?"active":r,a=t.activeStyle,s=t.className,l=t.exact,c=t.isActive,d=t.location,f=t.sensitive,h=t.strict,m=t.style,v=t.to,w=t.innerRef,g=hu(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ze.createElement(kl.Consumer,null,function(A){A||pu(!1);var x=d||A.location,T=U_(j_(v,x),x),E=T.pathname,z=E&&E.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),L=z?yS(x.pathname,{path:z,exact:l,sensitive:f,strict:h}):null,B=!!(c?c(L,x):L),O=typeof s=="function"?s(B):s,F=typeof m=="function"?m(B):m;B&&(O=yK(O,o),F=Me({},F,a));var H=Me({"aria-current":B&&n||null,className:O,style:F,to:T},g);return BM!==ry?H.ref=e||w:H.innerRef=w,ze.createElement(yn,H)})});function FM(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var wK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,AK=FM(function(t){return wK.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function xK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var NM=function(){function t(i){var n=this;this._insertTag=function(r){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,o),n.tags.push(r)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kK(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=xK(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),In="-ms-",oy="-moz-",Ut="-webkit-",jM="comm",TS="rule",SS="decl",_K="@import",UM="@keyframes",TK=Math.abs,Lw=String.fromCharCode,SK=Object.assign;function CK(t,e){return(((e<<2^gr(t,0))<<2^gr(t,1))<<2^gr(t,2))<<2^gr(t,3)}function GM(t){return t.trim()}function EK(t,e){return(t=e.exec(t))?t[0]:t}function Yt(t,e,i){return t.replace(e,i)}function G_(t,e){return t.indexOf(e)}function gr(t,e){return t.charCodeAt(e)|0}function dm(t,e,i){return t.slice(e,i)}function Xo(t){return t.length}function CS(t){return t.length}function S0(t,e){return e.push(t),t}function zK(t,e){return t.map(e).join("")}var Ow=1,$d=1,HM=0,Tr=0,Mi=0,Df="";function Dw(t,e,i,n,r,o,a){return{value:t,root:e,parent:i,type:n,props:r,children:o,line:Ow,column:$d,length:a,return:""}}function ih(t,e){return SK(Dw("",null,null,"",null,null,0),t,{length:-t.length},e)}function IK(){return Mi}function RK(){return Mi=Tr>0?gr(Df,--Tr):0,$d--,Mi===10&&($d=1,Ow--),Mi}function $r(){return Mi=Tr<HM?gr(Df,Tr++):0,$d++,Mi===10&&($d=1,Ow++),Mi}function da(){return gr(Df,Tr)}function hv(){return Tr}function mg(t,e){return dm(Df,t,e)}function fm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WM(t){return Ow=$d=1,HM=Xo(Df=t),Tr=0,[]}function YM(t){return Df="",t}function mv(t){return GM(mg(Tr-1,H_(t===91?t+2:t===40?t+1:t)))}function PK(t){for(;(Mi=da())&&Mi<33;)$r();return fm(t)>2||fm(Mi)>3?"":" "}function LK(t,e){for(;--e&&$r()&&!(Mi<48||Mi>102||Mi>57&&Mi<65||Mi>70&&Mi<97););return mg(t,hv()+(e<6&&da()==32&&$r()==32))}function H_(t){for(;$r();)switch(Mi){case t:return Tr;case 34:case 39:t!==34&&t!==39&&H_(Mi);break;case 40:t===41&&H_(t);break;case 92:$r();break}return Tr}function OK(t,e){for(;$r()&&t+Mi!==47+10;)if(t+Mi===42+42&&da()===47)break;return"/*"+mg(e,Tr-1)+"*"+Lw(t===47?t:$r())}function DK(t){for(;!fm(da());)$r();return mg(t,Tr)}function MK(t){return YM(gv("",null,null,null,[""],t=WM(t),0,[0],t))}function gv(t,e,i,n,r,o,a,s,l){for(var c=0,d=0,f=a,h=0,m=0,v=0,w=1,g=1,A=1,x=0,T="",E=r,z=o,L=n,B=T;g;)switch(v=x,x=$r()){case 40:if(v!=108&&B.charCodeAt(f-1)==58){G_(B+=Yt(mv(x),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:B+=mv(x);break;case 9:case 10:case 13:case 32:B+=PK(v);break;case 92:B+=LK(hv()-1,7);continue;case 47:switch(da()){case 42:case 47:S0(BK(OK($r(),hv()),e,i),l);break;default:B+="/"}break;case 123*w:s[c++]=Xo(B)*A;case 125*w:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+d:m>0&&Xo(B)-f&&S0(m>32?S3(B+";",n,i,f-1):S3(Yt(B," ","")+";",n,i,f-2),l);break;case 59:B+=";";default:if(S0(L=T3(B,e,i,c,d,r,s,T,E=[],z=[],f),o),x===123)if(d===0)gv(B,e,L,L,E,o,f,s,z);else switch(h){case 100:case 109:case 115:gv(t,L,L,n&&S0(T3(t,L,L,0,0,r,s,T,r,E=[],f),z),r,z,f,s,n?E:z);break;default:gv(B,L,L,L,[""],z,0,s,z)}}c=d=m=0,w=A=1,T=B="",f=a;break;case 58:f=1+Xo(B),m=v;default:if(w<1){if(x==123)--w;else if(x==125&&w++==0&&RK()==125)continue}switch(B+=Lw(x),x*w){case 38:A=d>0?1:(B+="\f",-1);break;case 44:s[c++]=(Xo(B)-1)*A,A=1;break;case 64:da()===45&&(B+=mv($r())),h=da(),d=f=Xo(T=B+=DK(hv())),x++;break;case 45:v===45&&Xo(B)==2&&(w=0)}}return o}function T3(t,e,i,n,r,o,a,s,l,c,d){for(var f=r-1,h=r===0?o:[""],m=CS(h),v=0,w=0,g=0;v<n;++v)for(var A=0,x=dm(t,f+1,f=TK(w=a[v])),T=t;A<m;++A)(T=GM(w>0?h[A]+" "+x:Yt(x,/&\f/g,h[A])))&&(l[g++]=T);return Dw(t,e,i,r===0?TS:s,l,c,d)}function BK(t,e,i){return Dw(t,e,i,jM,Lw(IK()),dm(t,2,-2),0)}function S3(t,e,i,n){return Dw(t,e,i,SS,dm(t,0,n),dm(t,n+1,-1),n)}function VM(t,e){switch(CK(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+oy+t+In+t+t;case 6828:case 4268:return Ut+t+In+t+t;case 6165:return Ut+t+In+"flex-"+t+t;case 5187:return Ut+t+Yt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+In+"flex-$1$2")+t;case 5443:return Ut+t+In+"flex-item-"+Yt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+In+"flex-line-pack"+Yt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+In+Yt(t,"shrink","negative")+t;case 5292:return Ut+t+In+Yt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+Yt(t,"-grow","")+Ut+t+In+Yt(t,"grow","positive")+t;case 4554:return Ut+Yt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return Yt(Yt(Yt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return Yt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return Yt(Yt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+In+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return Yt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xo(t)-1-e>6)switch(gr(t,e+1)){case 109:if(gr(t,e+4)!==45)break;case 102:return Yt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+oy+(gr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~G_(t,"stretch")?VM(Yt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gr(t,e+1)!==115)break;case 6444:switch(gr(t,Xo(t)-3-(~G_(t,"!important")&&10))){case 107:return Yt(t,":",":"+Ut)+t;case 101:return Yt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(gr(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+In+"$2box$3")+t}break;case 5936:switch(gr(t,e+11)){case 114:return Ut+t+In+Yt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+In+Yt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+In+Yt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+In+t+t}return t}function Id(t,e){for(var i="",n=CS(t),r=0;r<n;r++)i+=e(t[r],r,t,e)||"";return i}function FK(t,e,i,n){switch(t.type){case _K:case SS:return t.return=t.return||t.value;case jM:return"";case UM:return t.return=t.value+"{"+Id(t.children,n)+"}";case TS:t.value=t.props.join(",")}return Xo(i=Id(t.children,n))?t.return=t.value+"{"+i+"}":""}function NK(t){var e=CS(t);return function(i,n,r,o){for(var a="",s=0;s<e;s++)a+=t[s](i,n,r,o)||"";return a}}function jK(t){return function(e){e.root||(e=e.return)&&t(e)}}function UK(t,e,i,n){if(t.length>-1&&!t.return)switch(t.type){case SS:t.return=VM(t.value,t.length);break;case UM:return Id([ih(t,{value:Yt(t.value,"@","@"+Ut)})],n);case TS:if(t.length)return zK(t.props,function(r){switch(EK(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Id([ih(t,{props:[Yt(r,/:(read-\w+)/,":"+oy+"$1")]})],n);case"::placeholder":return Id([ih(t,{props:[Yt(r,/:(plac\w+)/,":"+Ut+"input-$1")]}),ih(t,{props:[Yt(r,/:(plac\w+)/,":"+oy+"$1")]}),ih(t,{props:[Yt(r,/:(plac\w+)/,In+"input-$1")]})],n)}return""})}}var GK=function(e,i,n){for(var r=0,o=0;r=o,o=da(),r===38&&o===12&&(i[n]=1),!fm(o);)$r();return mg(e,Tr)},HK=function(e,i){var n=-1,r=44;do switch(fm(r)){case 0:r===38&&da()===12&&(i[n]=1),e[n]+=GK(Tr-1,i,n);break;case 2:e[n]+=mv(r);break;case 4:if(r===44){e[++n]=da()===58?"&\f":"",i[n]=e[n].length;break}default:e[n]+=Lw(r)}while(r=$r());return e},WK=function(e,i){return YM(HK(WM(e),i))},C3=new WeakMap,YK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!C3.get(n))&&!r){C3.set(e,!0);for(var o=[],a=WK(i,o),s=n.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=o[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},VK=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}},$K=[UK],QK=function(e){var i=e.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var g=w.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var r=e.stylisPlugins||$K,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(w){for(var g=w.getAttribute("data-emotion").split(" "),A=1;A<g.length;A++)o[g[A]]=!0;s.push(w)});var l,c=[YK,VK];{var d,f=[FK,jK(function(w){d.insert(w)})],h=NK(c.concat(r,f)),m=function(g){return Id(MK(g),h)};l=function(g,A,x,T){d=x,m(g?g+"{"+A.styles+"}":A.styles),T&&(v.inserted[A.name]=!0)}}var v={key:i,sheet:new NM({key:i,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return v.sheet.hydrate(s),v},qK=!0;function KK(t,e,i){var n="";return i.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):n+=r+" "}),n}var $M=function(e,i,n){var r=e.key+"-"+i.name;if((n===!1||qK===!1)&&e.registered[r]===void 0&&(e.registered[r]=i.styles),e.inserted[i.name]===void 0){var o=i;do e.insert(i===o?"."+r:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function XK(t){for(var e=0,i,n=0,r=t.length;r>=4;++n,r-=4)i=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var JK={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZK=/[A-Z]|^ms/g,eX=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QM=function(e){return e.charCodeAt(1)===45},E3=function(e){return e!=null&&typeof e!="boolean"},U1=FM(function(t){return QM(t)?t:t.replace(ZK,"-$&").toLowerCase()}),z3=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(eX,function(n,r,o){return Jo={name:r,styles:o,next:Jo},r})}return JK[e]!==1&&!QM(e)&&typeof i=="number"&&i!==0?i+"px":i};function pm(t,e,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return Jo={name:i.name,styles:i.styles,next:Jo},i.name;if(i.styles!==void 0){var n=i.next;if(n!==void 0)for(;n!==void 0;)Jo={name:n.name,styles:n.styles,next:Jo},n=n.next;var r=i.styles+";";return r}return tX(t,e,i)}case"function":{if(t!==void 0){var o=Jo,a=i(t);return Jo=o,pm(t,e,a)}break}}if(e==null)return i;var s=e[i];return s!==void 0?s:i}function tX(t,e,i){var n="";if(Array.isArray(i))for(var r=0;r<i.length;r++)n+=pm(t,e,i[r])+";";else for(var o in i){var a=i[o];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":E3(a)&&(n+=U1(o)+":"+z3(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var s=0;s<a.length;s++)E3(a[s])&&(n+=U1(o)+":"+z3(o,a[s])+";");else{var l=pm(t,e,a);switch(o){case"animation":case"animationName":{n+=U1(o)+":"+l+";";break}default:n+=o+"{"+l+"}"}}}return n}var I3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jo,ES=function(e,i,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";Jo=void 0;var a=e[0];a==null||a.raw===void 0?(r=!1,o+=pm(n,i,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=pm(n,i,e[s]),r&&(o+=a[s]);I3.lastIndex=0;for(var l="",c;(c=I3.exec(o))!==null;)l+="-"+c[1];var d=XK(o)+l;return{name:d,styles:o,next:Jo}},qM=$.exports.createContext(typeof HTMLElement!="undefined"?QK({key:"css"}):null);qM.Provider;var KM=function(e){return $.exports.forwardRef(function(i,n){var r=$.exports.useContext(qM);return e(i,r,n)})},XM=$.exports.createContext({}),iX=KM(function(t,e){var i=t.styles,n=ES([i],void 0,$.exports.useContext(XM)),r=$.exports.useRef();return $.exports.useLayoutEffect(function(){var o=e.key+"-global",a=new NM({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),r.current=[a,s],function(){a.flush()}},[e]),$.exports.useLayoutEffect(function(){var o=r.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(n.next!==void 0&&$M(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function JM(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ES(e)}var nX=function(){var e=JM.apply(void 0,arguments),i="animation-"+e.name;return{name:i,styles:"@keyframes "+i+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},rX=AK,oX=function(e){return e!=="theme"},R3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?rX:oX},P3=function(e,i,n){var r;if(i){var o=i.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},aX=function(){return null},sX=function t(e,i){var n=e.__emotion_real===e,r=n&&e.__emotion_base||e,o,a;i!==void 0&&(o=i.label,a=i.target);var s=P3(e,i,n),l=s||R3(r),c=!l("as");return function(){var d=arguments,f=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var h=d.length,m=1;m<h;m++)f.push(d[m],d[0][m])}var v=KM(function(w,g,A){var x=c&&w.as||r,T="",E=[],z=w;if(w.theme==null){z={};for(var L in w)z[L]=w[L];z.theme=$.exports.useContext(XM)}typeof w.className=="string"?T=KK(g.registered,E,w.className):w.className!=null&&(T=w.className+" ");var B=ES(f.concat(E),g.registered,z);$M(g,B,typeof x=="string"),T+=g.key+"-"+B.name,a!==void 0&&(T+=" "+a);var O=c&&s===void 0?R3(x):l,F={};for(var H in w)c&&H==="as"||O(H)&&(F[H]=w[H]);F.className=T,F.ref=A;var X=$.exports.createElement(x,F),de=$.exports.createElement(aX,null);return $.exports.createElement($.exports.Fragment,null,de,X)});return v.displayName=o!==void 0?o:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=r,v.__emotion_styles=f,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(w,g){return t(w,Me({},i,g,{shouldForwardProp:P3(v,g,!0)})).apply(void 0,f)},v}},lX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fe=sX.bind();lX.forEach(function(t){Fe[t]=Fe(t)});function Mf(t){$.exports.useEffect(()=>{if(t==null||t==="")return;const e=document.title;return document.title=t,()=>{document.title=e}},[t])}const cX={number_approved:"{number} Genehmigt",number_rejected:"{number} Abgelehnt",number_non_voting:"{number} Nicht-Abstimmen",meeting_votes_caption:"Klicken Sie auf jede Zeile, um zu sehen, wie die Ratsmitglieder abgestimmt haben",legislation:"Gesetzgebung",council_decision:"Beschluss des Rates",votes:"Stimmen",meeting:"Treffen",persons_vote:"{name}s Stimee",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Schl\xFCsselw\xF6rter",select_language:"Sprache ausw\xE4hlen",same:"gleich",committee:"Komitee",chair:"Vorsitzende",tenure:"Amtszeit",bills_sponsored:"Rechnung(en) gesponsert",see_documents:"Siehe Dokumente",jump_to_sentence_video:"Zum Satz im Video springen",jump_to_sentence_transcript:"Zum Satz im Transkript springen",search_transcript:"Transkript suchen",search_transcript_placeholder:"Transkript suchen...",number_of_results:"{number} Ergebnis(e)",clear:"L\xF6schen",save:"Speichern",about:"\xDCber",search:"Suche",advanced_options:"Erweiterte Optionen",copyright_notice:"Urheberrechte \xA9 Einzelne mitwirkende, {date_range}",content_license_prefix:"Inhalt verf\xFCgbar unter a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.en",content_license_link_text:"Creative Commons Namensnennung 4.0 International License",tools_license_prefix:"Council Data Project werkzeuge sind lizenziert unter ",styled_using_prefix:"Gestylt mit ",artwork_provided_by_prefix:"Kunstwerk zur Verf\xFCgung gestellt von ",passed:"Bestanden",failed:"Fehlgeschlagen",approve:"Genehmigen",reject:"Ablehnen",abstain_approve:"Verzichten (Genehmigt)",abstain_non_voting:"Verzichten (Nicht-Abstimmen)",abstain_reject:"Verzichten (Abgelehnt)",absent_approve:"Abwesend (Genehmigt)",absent_non_voting:"Abwesend (Nicht-Abstimmen)",absent_reject:"Abwesend (Abgelehnt)",rejected:"Abgelehnt",adopted:"Angenommen",in_progress:"In Bearbeitung",example_prefix:"Beispiel:",search_topic_placeholder:"Thema suchen...",search_municipality_name:"{municipality_name} suchen",events:"Veranstaltungen",links:"Links",people:"Menschen",council_data_project:"Council Data Project",transcript:"Transkript",agenda:"Agenda",session:"Sitzung",date:"Datum",newest_first:"Neusten zuerst",oldest_first:"\xC4ltesten zuerst",most_relevant_first:"Das Wichtigste zuerst",closest_match_first:"N\xE4chste \xDCbereinstimmung zuerst",most_relevant:"Relevanteste",search_results:"Suchergebnisse",event_search_results:"Ergebnisse der Suche nach Ereignissen",no_results_found:"Keine Ergebnisse",show_more:"Zeig mehr...",legislation_sponsored:"Gesetzgebung gesponsert",menu:"Speisekarte",persons_voting_record:"{person_name}s Abstimmungsprotokoll",contact:"Kontakt",terms:"Begriffe",committee_membership:"Ausschussmitgliedschaft",former_committee_membership:"Ehemalige Ausschussmitgliedschaft",committees:"Aussch\xFCsse",visit_persons_website:"Besuchen Sie {person_name}s Website",alternate:"Wechseln",councilmember:"Stadtrat/in",member:"Mitglied",council_president:"Pr\xE4sident des Rates",vice_chair:"Stellvertretender Vorsitzender",supervisor:"Supervisor/in",active:"aktiv",inactive:"inaktiv",latest_vote:"Letzte Abstimmung",history:"Geschichte",minutes:"Protokoll",go_to_matter_details:"Gehen Sie zu den vollst\xE4ndigen Rechtsvorschriften",disclaimer_start:"Council Data Project nutzt",disclaimer_end:"Modell zur Generierung von Ereignistranskripten. Die erstellten Transkripte k\xF6nnen",disclaimer_include_errors:"Fehler enthalten",disclaimer_footer_end:"Wenn Sie ein Experte f\xFCr maschinelles Lernen sind und dabei helfen m\xF6chten, unsere Systeme zur Generierung von Transkripten (oder etwas anderem!) zu verbessern, wenden Sie sich bitte \xFCber GitHub an uns.",copy_button:"Text kopieren",donate:"Spenden"},uX={number_approved:"{number} Approved",number_rejected:"{number} Rejected",number_non_voting:"{number} Non-Voting",meeting_votes_caption:"Click each row to see how council members voted",legislation:"Legislation",council_decision:"Council Decision",votes:"Votes",meeting:"Meeting",persons_vote:"{name}'s Vote",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Keywords",select_language:"Select Language",same:"same",committee:"Committee",chair:"Chair",tenure:"Tenure",bills_sponsored:"bill(s) sponsored",see_documents:"See Documents",jump_to_sentence_video:"Jump to sentence in video",jump_to_sentence_transcript:"Jump to sentence in transcript",search_transcript:"Search transcript",search_transcript_placeholder:"Search transcript...",number_of_results:"{number} result(s)",clear:"Clear",save:"Save",about:"About",search:"Search",advanced_options:"Advanced Options",copyright_notice:"Copyright \xA9 Individual contributors, {date_range}.",content_license_prefix:"Content available under a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/",content_license_link_text:"Creative Commons Attribution 4.0 International License",tools_license_prefix:"Council Data Project tools are licensed under ",styled_using_prefix:"Styled using ",artwork_provided_by_prefix:"Artwork provided by ",passed:"Passed",failed:"Failed",approve:"Approve",reject:"Reject",abstain_approve:"Abstain (Approve)",abstain_non_voting:"Abstain (Non-Voting)",abstain_reject:"Abstain (Reject)",absent_approve:"Absent (Approve)",absent_non_voting:"Absent (Non-Voting)",absent_reject:"Absent (Reject)",rejected:"Rejected",adopted:"Adopted",in_progress:"In Progress",example_prefix:"Example: ",search_topic_placeholder:"Search for a topic...",search_municipality_name:"Search {municipality_name}",events:"Events",links:"Links",people:"People",council_data_project:"Council Data Project",transcript:"Transcript",agenda:"Agenda",session:"Session",date:"Date",newest_first:"Newest First",oldest_first:"Oldest First",most_relevant_first:"Most relevant first",closest_match_first:"Closest match first",most_relevant:"Most relevant",search_results:"Search Results",event_search_results:"Event search results",no_results_found:"No results found",show_more:"Show more...",legislation_sponsored:"Legislation Sponsored",menu:"Menu",persons_voting_record:"{person_name}'s Voting Record",contact:"Contact",terms:"Terms",committee_membership:"Committee Membership",former_committee_membership:"Former Committee Membership",committees:"Committees",visit_persons_website:"Visit {person_name}'s website",alternate:"Alternate",councilmember:"Councilmember",member:"Member",council_president:"Council President",vice_chair:"Vice Chair",supervisor:"Supervisor",active:"active",inactive:"inactive",latest_vote:"Latest Vote",history:"History",minutes:"Minutes",go_to_matter_details:"Go to Full Legislation Details",disclaimer_start:"Council Data Project utilizes",disclaimer_end:"model for generation of event transcripts. The produced transcripts may",disclaimer_include_errors:"include errors",disclaimer_footer_end:"If you are a machine learning expert and wish to help improve our systems for generating transcripts (or something else!), please reach out to us on GitHub.",copy_button:"Copy text",donate:"Donate"},dX={number_approved:"{number} Aprobado",number_rejected:"{number} Rechazado",number_non_voting:"{number} sin derecho a voto",meeting_votes_caption:"Haga clic en cada fila para ver c\xF3mo votaron los miembros del consejo",legislation:"Legislaci\xF3n",council_decision:"Decisi\xF3n del Consejo",votes:"Votos",meeting:"Cita",persons_vote:"Voto de {name}",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Palabras clave",select_language:"Seleccione el Idioma",same:"Mismo",committee:"Comit\xE9",chair:"presidente",tenure:"Tenencia",bills_sponsored:"factura (s) patrocinada",see_documents:"Ver Documentos",jump_to_sentence_video:"Saltar a la oraci\xF3n en el video",jump_to_sentence_transcript:"Saltar a la oraci\xF3n en la transcripci\xF3n",search_transcript:"Buscar transcripci\xF3n",search_transcript_placeholder:"Buscar transcripci\xF3n ...",number_of_results:"{number} resultado (s)",clear:"Despejar",save:"Ahorrar",about:"Acerca de",search:"Buscar",advanced_options:"Opciones Avanzadas",copyright_notice:"Derechos de autor \xA9 Contribuyentes individuales, {date_range}.",content_license_prefix:"Contenido disponible bajo un ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.es",content_license_link_text:"Creative Commons Atribuci\xF3n 4.0 Internacional License",tools_license_prefix:"Council Data Project las herramientas tienen licencia bajo ",styled_using_prefix:"Dise\xF1ado usando ",artwork_provided_by_prefix:"Obra proporcionada por ",passed:"Pas\xF3",failed:"Fracas\xF3",approve:"Aprobar",reject:"Rechazar",abstain_approve:"Abstenerse (Aprobado)",abstain_non_voting:"Abstenerse (sin derecho a voto)",abstain_reject:"Abstenerse (Rechazado)",absent_approve:"Ausente (Aprobado)",absent_non_voting:"Ausente (sin derecho a voto)",absent_reject:"Ausente (Rechazado)",rejected:"Rechazado",adopted:"Adoptado",in_progress:"En curso",example_prefix:"Ejemplo:",search_topic_placeholder:"Buscar un tema ...",search_municipality_name:"Buscar {municipality_name}",events:"Eventos",links:"Enlaces",people:"Gente",council_data_project:"Council Data Project",transcript:"Transcripci\xF3n",agenda:"Agenda",session:"Sesi\xF3n",date:"Fecha",newest_first:"M\xE1s nuevos primero",oldest_first:"M\xE1s viejos primero",most_relevant_first:"M\xE1s relevante primero",closest_match_first:"Coincidencia m\xE1s cercana primero",most_relevant:"M\xE1s relevante",search_results:"Resultados de la B\xFAsqueda",event_search_results:"Resultados de Busqueda de Eventos",no_results_found:"No hay resultados",show_more:"Mostrar m\xE1s...",legislation_sponsored:"Legislaci\xF3n patrocinada",menu:"Men\xFA",persons_voting_record:"Registro de votos de {person_name}",contact:"Contacto",terms:"T\xE9rminos",committee_membership:"Membres\xEDa del Comit\xE9",former_committee_membership:"Membres\xEDa Anterior del Comit\xE9",committees:"Comit\xE9s",visit_persons_website:"Visite el sitio web de {person_name}",alternate:"Alterno/a",councilmember:"Concejal/a",member:"Miembro",council_president:"Presidente/a del Consejo",vice_chair:"Vicepresidente/a",supervisor:"Supervisor/a",active:"activo/a",inactive:"inactivo/a",latest_vote:"\xDAltimo Voto",history:"Historia",minutes:"Protocolo",go_to_matter_details:"Ir a los detalles completos de la legislaci\xF3n",disclaimer_start:"Council Data Project utiliza",disclaimer_end:"modelo para la generaci\xF3n de transcripciones de eventos. Las transcripciones producidas pueden",disclaimer_include_errors:"incluir errores",disclaimer_footer_end:"Si es un experto en aprendizaje autom\xE1tico y desea ayudar a mejorar nuestros sistemas para generar transcripciones (\xA1o algo m\xE1s!), comun\xEDquese con nosotros en GitHub.",copy_button:"Copiar texto",donate:"Donar"};var ZM={},zS={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getInterfaceLanguage=fX;Bf.getBestMatchingLanguage=pX;Bf.validateTranslationKeys=hX;Bf.randomPseudo=mX;function fX(){var t="en-US";if(typeof navigator=="undefined")return t;var e=navigator;if(e){if(e.language)return e.language;if(!!e.languages&&!!e.languages[0])return e.languages[0];if(e.userLanguage)return e.userLanguage;if(e.browserLanguage)return e.browserLanguage}return t}function pX(t,e){if(e[t])return t;var i=t.indexOf("-"),n=i>=0?t.substring(0,i):t;return e[n]?n:Object.keys(e)[0]}function hX(t){var e=["_interfaceLanguage","_language","_defaultLanguage","_defaultLanguageFirstLevelKeys","_props"];t.forEach(function(i){if(e.indexOf(i)!==-1)throw new Error(i+" cannot be used as a key. It is a reserved word.")})}function mX(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n+=1)e+=i.charAt(Math.floor(Math.random()*i.length));return e}Object.defineProperty(zS,"__esModule",{value:!0});var gX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bX=function(){function t(e,i){var n=[],r=!0,o=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(i&&n.length===i));r=!0);}catch(c){o=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},vX=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),yX=Bf,C0=wX(yX);function wX(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function AX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var G1=/(\{[\d|\w]+\})/,H1=/(\$ref\{[\w|.]+\})/,xX=function(){function t(e,i){AX(this,t),typeof i=="function"&&(i={customLanguageInterface:i}),this._opts=L3({},{customLanguageInterface:C0.getInterfaceLanguage,pseudo:!1,pseudoMultipleLanguages:!1,logsEnabled:!0},i),this._interfaceLanguage=this._opts.customLanguageInterface(),this._language=this._interfaceLanguage,this.setContent(e)}return vX(t,[{key:"setContent",value:function(i){var n=this,r=Object.keys(i),o=bX(r,1),a=o[0];this._defaultLanguage=a,this._defaultLanguageFirstLevelKeys=[],this._props=i,C0.validateTranslationKeys(Object.keys(i[this._defaultLanguage])),Object.keys(this._props[this._defaultLanguage]).forEach(function(s){typeof n._props[n._defaultLanguage][s]=="string"&&n._defaultLanguageFirstLevelKeys.push(s)}),this.setLanguage(this._interfaceLanguage),this._opts.pseudo&&this._pseudoAllValues(this._props)}},{key:"_pseudoAllValues",value:function(i){var n=this;Object.keys(i).forEach(function(r){if(gX(i[r])==="object")n._pseudoAllValues(i[r]);else if(typeof i[r]=="string"){if(i[r].indexOf("[")===0&&i[r].lastIndexOf("]")===i[r].length-1)return;for(var o=i[r].split(" "),a=0;a<o.length;a+=1)if(!o[a].match(G1)){if(!o[a].match(H1)){var s=o[a].length;n._opts.pseudoMultipleLanguages&&(s=parseInt(s*1.4,10)),o[a]=C0.randomPseudo(s)}}i[r]="["+o.join(" ")+"]"}})}},{key:"setLanguage",value:function(i){var n=this,r=C0.getBestMatchingLanguage(i,this._props),o=Object.keys(this._props)[0];if(this._language=r,this._props[r]){for(var a=0;a<this._defaultLanguageFirstLevelKeys.length;a+=1)delete this[this._defaultLanguageFirstLevelKeys[a]];var s=L3({},this._props[this._language]);Object.keys(s).forEach(function(l){n[l]=s[l]}),o!==this._language&&(s=this._props[o],this._fallbackValues(s,this))}}},{key:"_fallbackValues",value:function(i,n){var r=this;Object.keys(i).forEach(function(o){Object.prototype.hasOwnProperty.call(i,o)&&!n[o]&&n[o]!==""?(n[o]=i[o],r._opts.logsEnabled&&console.log("\u{1F6A7} \u{1F477} key '"+o+"' not found in localizedStrings for language "+r._language+" \u{1F6A7}")):typeof n[o]!="string"&&r._fallbackValues(i[o],n[o])})}},{key:"getLanguage",value:function(){return this._language}},{key:"getInterfaceLanguage",value:function(){return this._interfaceLanguage}},{key:"getAvailableLanguages",value:function(){var i=this;return this._availableLanguages||(this._availableLanguages=[],Object.keys(this._props).forEach(function(n){i._availableLanguages.push(n)})),this._availableLanguages}},{key:"formatString",value:function(i){for(var n=this,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s=i||"";typeof s=="string"&&(s=this.getString(i,null,!0)||s);var l=s.split(H1).filter(function(c){return!!c}).map(function(c){if(c.match(H1)){var d=c.slice(5,-1),f=n.getString(d);return f||(n._opts.logsEnabled&&console.log("No Localization ref found for '"+c+"' in string '"+i+"'"),"$ref(id:"+d+")")}return c}).join("");return l.split(G1).filter(function(c){return!!c}).map(function(c){if(c.match(G1)){var d=c.slice(1,-1),f=o[d];if(f===void 0){var h=o[0][d];if(h!==void 0)f=h;else return f}return f}return c}).join("")}},{key:"getString",value:function(i,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;try{for(var o=this._props[n||this._language],a=i.split("."),s=0;s<a.length;s+=1){if(o[a[s]]===void 0)throw Error(a[s]);o=o[a[s]]}return o}catch(l){!r&&this._opts.logsEnabled&&console.log("No localization found for key '"+i+"' and language '"+n+"', failed on "+l.message)}return null}},{key:"getContent",value:function(){return this._props}}]),t}();zS.default=xX;Object.defineProperty(ZM,"__esModule",{value:!0});var kX=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},_X=$.exports,O3=t8(_X),TX=zS,e8=t8(TX);function t8(t){return t&&t.__esModule?t:{default:t}}var D3=/(\{[\d|\w]+\})/;e8.default.prototype.formatString=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=!1,o=(t||"").split(D3).filter(function(a){return!!a}).map(function(a,s){if(a.match(D3)){var l=a.slice(1,-1),c=i[l];if(c==null){var d=i[0][l];if(d!==void 0)c=d;else return c}return O3.default.isValidElement(c)?(r=!0,O3.default.Children.toArray(c).map(function(f){return kX({},f,{key:s.toString()})})):c}return a});return r?o:o.join("")};var SX=ZM.default=e8.default;const Ae=new SX({en:uX,de:cX,es:dX}),Mt={smallMobile:"320px",largeMobile:"414px",tablet:"768px",desktop:"1224px"},CX=Fe.div({boxSizing:"initial"}),EX=Fe.div({float:"left",marginTop:"12px"}),zX=Fe.button({display:"block",[`@media (min-width:${Mt.tablet})`]:{display:"none"}}),IX=Fe.div(t=>({display:t.isVisible?"block":"none",[`@media (min-width:${Mt.tablet})`]:{display:"block"}}));function W1(t,e){const i={textDecoration:"underline"};return t===e||e.length>1&&t.includes(e)?i:{}}const RX=({municipalityName:t})=>{const[e,i]=$.exports.useState(!1),n=Of().pathname;return P("header",{children:P(CX,{className:"mzp-c-navigation",children:P("div",{className:"mzp-c-navigation-l-content",children:ue("div",{className:"mzp-c-navigation-container",children:[P(zX,{className:"mzp-c-navigation-menu-button","aria-controls":"patterns.organisms.navigation.navigation",onClick:()=>i(r=>!r),children:Ae.menu}),P(EX,{children:P("a",{className:"cdp-icon-black-bg-transparent-size-256",style:{maxHeight:"64px",maxWidth:"64px"},href:"https://councildataproject.org",title:Ae.council_data_project,children:Ae.council_data_project})}),P(IX,{isVisible:e,className:"mzp-c-navigation-items",id:"patterns.organisms.navigation.navigation",children:P("div",{className:"mzp-c-navigation-container",children:P("nav",{className:"mzp-c-menu mzp-is-basic",children:ue("ul",{className:"mzp-c-menu-category-list",children:[P("li",{className:"mzp-c-menu-category",children:P(yn,{to:"/",className:"mzp-c-menu-title",style:W1(n,"/"),children:t})}),P("li",{className:"mzp-c-menu-category",children:P(yn,{to:"/events",className:"mzp-c-menu-title",style:W1(n,"/events"),children:Ae.events})}),P("li",{className:"mzp-c-menu-category",children:P(yn,{to:"/people",className:"mzp-c-menu-title",style:W1(n,"/people"),children:Ae.people})})]})})})})]})})})})};function PX(t){return ue("section",{className:"mzp-c-footer-section",children:[P("h5",{className:"mzp-c-footer-heading",children:t.footerLinksSectionName}),P("ul",{children:t.links.map(e=>P("li",{children:P("a",{href:e.url,children:e.label})},e.label))})]})}const LX=({footerLinksSections:t})=>P("footer",{className:"mzp-c-footer",children:ue("div",{className:"mzp-l-content",children:[P("nav",{className:"mzp-c-footer-primary","aria-label":"footer",children:ue("div",{className:"mzp-c-footer-sections",children:[ue("section",{className:"mzp-c-footer-section",children:[P("h5",{className:"mzp-c-footer-heading",children:Ae.about}),ue("ul",{children:[P("li",{children:P("a",{href:"https://councildataproject.github.io/",children:"CouncilDataProject"})}),P("li",{children:P("a",{href:"https://github.com/CouncilDataProject",children:"GitHub"})}),P("li",{children:P("a",{href:"https://opencollective.com/council-data-project",children:Ae.donate})})]})]}),t.map(e=>PX(e))]})}),ue("nav",{className:"mzp-c-footer-secondary",children:[ue("p",{children:[Ae.disclaimer_start," ",P("a",{rel:"noopener noreferrer license external",target:"_blank",href:"https://openai.com/research/whisper",children:"OpenAI's Whisper Speech-to-Text Model"})," ",Ae.disclaimer_end," ",P("a",{rel:"noopener noreferrer license external",href:"https://cdn.openai.com/papers/whisper.pdf",target:"_blank",children:Ae.disclaimer_include_errors}),". ",Ae.disclaimer_footer_end]}),ue("div",{className:"mzp-c-footer-legal mzp-c-footer-license",children:[P("p",{children:Ae.copyright_notice.replace("{date_range}","2017-2021")}),ue("p",{children:[Ae.content_license_prefix,P("a",{rel:"noopener noreferrer license external",href:Ae.content_license_link,target:"_blank",children:Ae.content_license_link_text}),".",P("br",{}),Ae.tools_license_prefix,P("a",{rel:"noopener noreferrer license external",href:"https://github.com/CouncilDataProject/cookiecutter-cdp-deployment/blob/main/LICENSE",target:"_blank",children:"MIT License"}),"."]}),ue("p",{children:[Ae.styled_using_prefix,P("a",{rel:"noopener noreferrer external",href:"https://protocol.mozilla.org/",target:"_blank",children:"Mozilla Protocol"}),".",P("br",{}),Ae.artwork_provided_by_prefix,P("a",{rel:"noopener noreferrer external",href:"https://undraw.co/",target:"_blank",children:"unDraw"}),"."]})]})]})]})});var Qr=(t=>(t.EVENT="events",t.LEGISLATION="legislations",t))(Qr||{});const i8="FILTER_CLEAR",n8="FILTER_UPDATE",OX=()=>(t,e)=>{switch(e.type){case n8:return{...t,[e.payload.keyName]:e.payload.dataValue};case i8:const i={...t};return Object.keys(i).forEach(n=>i[n]=e.payload.dataValue),i;default:return t}},r8=(t,e)=>{const i=Object.values(t).filter(r=>r).length;return i?`${e} : ${i}`:e},IS=t=>Object.keys(t).filter(e=>t[e]===!0);var RS=Fe.form({marginBottom:0,"& .mzp-c-field-set":{padding:0},"& .mzp-c-choices":{paddingBottom:0}});const DX=(t,e)=>t.toLowerCase().indexOf(e.toLowerCase())!==-1,MX=Fe.label({"&::after":{boxSizing:"unset"}}),BX=({name:t,state:e,update:i,options:n,optionQuery:r,setOptionQuery:o})=>{const a=c=>{const d=c.currentTarget.name,f=c.currentTarget.checked;i(d,f)},s=c=>{const d=c.currentTarget.value;o&&o(d)},l=$.exports.useMemo(()=>{let c=[...n];if(n.length>5&&o){for(const d of n)d.disabled=!DX(d.label,r||"");c=[...n.filter(d=>!d.disabled),...n.filter(d=>d.disabled)]}return c},[n,r,o]);return ue(RS,{className:"mzp-c-form",children:[n.length>5&&o&&ue("div",{className:"mzp-c-field mzp-l-stretch",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-search-filter",children:`Search ${t} Options`}),P("input",{className:"mzp-c-field-control",type:"text",id:"form-input-control-search-filter",value:r,onChange:s})]}),P("fieldset",{className:"mzp-c-field-set",children:P("div",{className:"mzp-c-choices",children:l.map(c=>ue("div",{className:"mzp-c-choice",children:[P("input",{className:"mzp-c-choice-control",type:"checkbox",name:c.name,id:`form-checkbox-control-${c.name}`,checked:e[c.name]||!1,disabled:c.disabled,onChange:a}),P(MX,{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${c.name}`,children:c.label})]},c.name))})})]})};function Bc(t){const{name:e,initialState:i,defaultDataValue:n,textRepFunction:r,isRequired:o,limit:a}=t,s=OX(),[l,c]=$.exports.useReducer(s,i),[d,f]=$.exports.useState(!1),h=()=>{c({type:i8,payload:{dataValue:n}})},m=(T,E)=>{c({type:n8,payload:{keyName:T,dataValue:E}})},v=()=>r(l,e),w=()=>Object.values(l).some(T=>T!==n);return{name:e,state:l,clear:h,update:m,popupIsOpen:d,setPopupIsOpen:f,getTextRep:v,isActive:w,isSameState:T=>{if(!Object.entries(T).length)return!w();const E=Object.keys(l);for(const z of E)if(l[z]&&!T.hasOwnProperty(z)||l[z]!==T[z]&&T.hasOwnProperty(z))return!1;return!0},hasRequiredError:()=>o?!w():!1,hasLimitError:()=>a!==void 0?IS(l).length>a:!1,limit:a}}const M3=["minimum wage","police budget","rent control","municipal broadband","police accountability","homelessness response","municipal broadband, digital equity","sodo stadium","35 ave bike lane","capitol hill megablock"],FX=`
  display: grid;
  column-gap: 8px;
  row-gap: 4px;
  /**One column template*/
  grid-template-columns: 1fr;
  justify-content: start;
`,NX=Fe.div`
  ${FX}
  @media (min-width: ${Mt.tablet}) {
    /**Two columns template, with the first column taking up any free space*/
    grid-template-columns: 1fr auto;
  }
`,jX=Fe.input`
  margin-bottom: 0px !important;
`,UX=Fe.p`
  padding-top: 0px !important;
  font-size: 0.775rem !important;
  @media (min-width: ${Mt.tablet}) {
    /**Make the example topic appear after the search button*/
    order: 1;
  }
`,GX=[{name:Qr.EVENT,label:"Events",disabled:!1},{name:Qr.LEGISLATION,label:"Legislations",disabled:!1}],HX={[Qr.EVENT]:!0,[Qr.LEGISLATION]:!0},WX=(t,e)=>{const i=Object.keys(t).filter(r=>t[r]);let n=e;return i.length===Object.keys(t).length?n+="(s): All":i.length>0&&(n+=`(s): ${i.map(o=>{var s;const a=GX.find(l=>l.name===o);return(s=a==null?void 0:a.label)!=null?s:""}).join(", ")}`),n},YX=M3[Math.floor(Math.random()*M3.length)],VX=()=>{const[t,e]=$.exports.useState(""),i=xS(),n=Bc({name:"Search Type",initialState:HX,defaultDataValue:!1,textRepFunction:WX,isRequired:!0}),r=a=>{a.preventDefault();const s=`?q=${t.trim().replace(/\s+/g,"+")}`;i.push({pathname:`/${Qr.EVENT}/search`,search:s,state:{query:t.trim(),committees:{},dateRange:{}}})},o=a=>e(a.target.value);return P("div",{children:P("form",{className:"mzp-c-form",role:"search",onSubmit:r,children:ue(NX,{children:[P(jX,{type:"search",placeholder:Ae.search_topic_placeholder,required:!0,"aria-required":!0,disabled:!n.isActive(),value:t,onChange:o}),ue(UX,{className:"mzp-c-field-info",children:[Ae.example_prefix,YX]}),P("button",{className:"mzp-c-button mzp-t-product",type:"submit",disabled:!n.isActive(),children:Ae.search})]})})})},$X=Fe.div({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:1,"& > *":{width:"100%"},[`@media (min-width:${Mt.tablet})`]:{"& > *":{width:"75%"}}}),QX=()=>{Mf(Ae.council_data_project);const{municipality:t}=ji();return ue($X,{children:[P("h1",{className:"mzp-u-title-xs",children:Ae.search_municipality_name.replace("{municipality_name}",t.name)}),P(VX,{})]})};var Mw={},qX=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),o8="%[a-f0-9]{2}",B3=new RegExp("("+o8+")|([^%]+?)","gi"),F3=new RegExp("("+o8+")+","gi");function W_(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var i=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],W_(i),W_(n))}function KX(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(B3)||[],i=1;i<e.length;i++)t=W_(e,i).join(""),e=t.match(B3)||[];return t}}function XX(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},i=F3.exec(t);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch{var n=KX(i[0]);n!==i[0]&&(e[i[0]]=n)}i=F3.exec(t)}e["%C2"]="\uFFFD";for(var r=Object.keys(e),o=0;o<r.length;o++){var a=r[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}var JX=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return XX(t)}},ZX=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const i=t.indexOf(e);return i===-1?[t]:[t.slice(0,i),t.slice(i+e.length)]},eJ=function(t,e){for(var i={},n=Object.keys(t),r=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],s=t[a];(r?e.indexOf(a)!==-1:e(a,s,t))&&(i[a]=s)}return i};(function(t){const e=qX,i=JX,n=ZX,r=eJ,o=x=>x==null,a=Symbol("encodeFragmentIdentifier");function s(x){switch(x.arrayFormat){case"index":return T=>(E,z)=>{const L=E.length;return z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?E:z===null?[...E,[d(T,x),"[",L,"]"].join("")]:[...E,[d(T,x),"[",d(L,x),"]=",d(z,x)].join("")]};case"bracket":return T=>(E,z)=>z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?E:z===null?[...E,[d(T,x),"[]"].join("")]:[...E,[d(T,x),"[]=",d(z,x)].join("")];case"comma":case"separator":case"bracket-separator":{const T=x.arrayFormat==="bracket-separator"?"[]=":"=";return E=>(z,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?z:(L=L===null?"":L,z.length===0?[[d(E,x),T,d(L,x)].join("")]:[[z,d(L,x)].join(x.arrayFormatSeparator)])}default:return T=>(E,z)=>z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?E:z===null?[...E,d(T,x)]:[...E,[d(T,x),"=",d(z,x)].join("")]}}function l(x){let T;switch(x.arrayFormat){case"index":return(E,z,L)=>{if(T=/\[(\d*)\]$/.exec(E),E=E.replace(/\[\d*\]$/,""),!T){L[E]=z;return}L[E]===void 0&&(L[E]={}),L[E][T[1]]=z};case"bracket":return(E,z,L)=>{if(T=/(\[\])$/.exec(E),E=E.replace(/\[\]$/,""),!T){L[E]=z;return}if(L[E]===void 0){L[E]=[z];return}L[E]=[].concat(L[E],z)};case"comma":case"separator":return(E,z,L)=>{const B=typeof z=="string"&&z.includes(x.arrayFormatSeparator),O=typeof z=="string"&&!B&&f(z,x).includes(x.arrayFormatSeparator);z=O?f(z,x):z;const F=B||O?z.split(x.arrayFormatSeparator).map(H=>f(H,x)):z===null?z:f(z,x);L[E]=F};case"bracket-separator":return(E,z,L)=>{const B=/(\[\])$/.test(E);if(E=E.replace(/\[\]$/,""),!B){L[E]=z&&f(z,x);return}const O=z===null?[]:z.split(x.arrayFormatSeparator).map(F=>f(F,x));if(L[E]===void 0){L[E]=O;return}L[E]=[].concat(L[E],O)};default:return(E,z,L)=>{if(L[E]===void 0){L[E]=z;return}L[E]=[].concat(L[E],z)}}}function c(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(x,T){return T.encode?T.strict?e(x):encodeURIComponent(x):x}function f(x,T){return T.decode?i(x):x}function h(x){return Array.isArray(x)?x.sort():typeof x=="object"?h(Object.keys(x)).sort((T,E)=>Number(T)-Number(E)).map(T=>x[T]):x}function m(x){const T=x.indexOf("#");return T!==-1&&(x=x.slice(0,T)),x}function v(x){let T="";const E=x.indexOf("#");return E!==-1&&(T=x.slice(E)),T}function w(x){x=m(x);const T=x.indexOf("?");return T===-1?"":x.slice(T+1)}function g(x,T){return T.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):T.parseBooleans&&x!==null&&(x.toLowerCase()==="true"||x.toLowerCase()==="false")&&(x=x.toLowerCase()==="true"),x}function A(x,T){T=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},T),c(T.arrayFormatSeparator);const E=l(T),z=Object.create(null);if(typeof x!="string"||(x=x.trim().replace(/^[?#&]/,""),!x))return z;for(const L of x.split("&")){if(L==="")continue;let[B,O]=n(T.decode?L.replace(/\+/g," "):L,"=");O=O===void 0?null:["comma","separator","bracket-separator"].includes(T.arrayFormat)?O:f(O,T),E(f(B,T),O,z)}for(const L of Object.keys(z)){const B=z[L];if(typeof B=="object"&&B!==null)for(const O of Object.keys(B))B[O]=g(B[O],T);else z[L]=g(B,T)}return T.sort===!1?z:(T.sort===!0?Object.keys(z).sort():Object.keys(z).sort(T.sort)).reduce((L,B)=>{const O=z[B];return Boolean(O)&&typeof O=="object"&&!Array.isArray(O)?L[B]=h(O):L[B]=O,L},Object.create(null))}t.extract=w,t.parse=A,t.stringify=(x,T)=>{if(!x)return"";T=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},T),c(T.arrayFormatSeparator);const E=O=>T.skipNull&&o(x[O])||T.skipEmptyString&&x[O]==="",z=s(T),L={};for(const O of Object.keys(x))E(O)||(L[O]=x[O]);const B=Object.keys(L);return T.sort!==!1&&B.sort(T.sort),B.map(O=>{const F=x[O];return F===void 0?"":F===null?d(O,T):Array.isArray(F)?F.length===0&&T.arrayFormat==="bracket-separator"?d(O,T)+"[]":F.reduce(z(O),[]).join("&"):d(O,T)+"="+d(F,T)}).filter(O=>O.length>0).join("&")},t.parseUrl=(x,T)=>{T=Object.assign({decode:!0},T);const[E,z]=n(x,"#");return Object.assign({url:E.split("?")[0]||"",query:A(w(x),T)},T&&T.parseFragmentIdentifier&&z?{fragmentIdentifier:f(z,T)}:{})},t.stringifyUrl=(x,T)=>{T=Object.assign({encode:!0,strict:!0,[a]:!0},T);const E=m(x.url).split("?")[0]||"",z=t.extract(x.url),L=t.parse(z,{sort:!1}),B=Object.assign(L,x.query);let O=t.stringify(B,T);O&&(O=`?${O}`);let F=v(x.url);return x.fragmentIdentifier&&(F=`#${T[a]?d(x.fragmentIdentifier,T):x.fragmentIdentifier}`),`${E}${O}${F}`},t.pick=(x,T,E)=>{E=Object.assign({parseFragmentIdentifier:!0,[a]:!1},E);const{url:z,query:L,fragmentIdentifier:B}=t.parseUrl(x,E);return t.stringifyUrl({url:z,query:r(L,T),fragmentIdentifier:B},E)},t.exclude=(x,T,E)=>{const z=Array.isArray(T)?L=>!T.includes(L):(L,B)=>!T(L,B);return t.pick(x,z,E)}})(Mw);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},tJ=function(t){const e=[];let i=0,n=0;for(;i<t.length;){const r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[i++];e[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[i++],a=t[i++],s=t[i++],l=((r&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=t[i++],a=t[i++];e[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},s8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,s=a?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|c>>6,m=c&63;l||(m=64,a||(h=64)),n.push(i[d],i[f],i[h],i[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const o=i[t.charAt(r++)],s=r<t.length?i[t.charAt(r)]:0;++r;const c=r<t.length?i[t.charAt(r)]:64;++r;const f=r<t.length?i[t.charAt(r)]:64;if(++r,o==null||s==null||c==null||f==null)throw Error();const h=o<<2|s>>4;if(n.push(h),c!==64){const m=s<<4&240|c>>2;if(n.push(m),f!==64){const v=c<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},iJ=function(t){const e=a8(t);return s8.encodeByteArray(e,!0)},ay=function(t){return iJ(t).replace(/\./g,"")},nJ=function(t){try{return s8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rJ(){return typeof indexedDB=="object"}function oJ(){return new Promise((t,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){e(i)}})}function aJ(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ=()=>aJ().__FIREBASE_DEFAULTS__,lJ=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cJ=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nJ(t[1]);return e&&JSON.parse(e)},l8=()=>{try{return sJ()||lJ()||cJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uJ=t=>{var e,i;return(i=(e=l8())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},c8=t=>{const e=uJ(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),n]:[e.substring(0,i),n]},dJ=()=>{var t;return(t=l8())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[ay(JSON.stringify(i)),ay(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ="FirebaseError";class mu extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=pJ,Object.setPrototypeOf(this,mu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d8.prototype.create)}}class d8{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){const n=i[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?hJ(o,n):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new mu(r,s,n)}}function hJ(t,e){return t.replace(mJ,(i,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const mJ=/\{\$([^}]+)}/g;function sy(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const o=t[r],a=e[r];if(N3(o)&&N3(a)){if(!sy(o,a))return!1}else if(o!==a)return!1}for(const r of n)if(!i.includes(r))return!1;return!0}function N3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t){return t&&t._delegate?t._delegate:t}class Qd{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const n=new fJ;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vJ(e))try{this.getOrInitializeService({instanceIdentifier:mc})}catch{}for(const[i,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(e=mc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mc){return this.instances.has(e)}getOptions(e=mc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(r)}return r}onInit(e,i){var n;const r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const n=this.onInitCallbacks.get(i);if(!!n)for(const r of n)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:bJ(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=mc){return this.component?this.component.multipleInstances?e:mc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bJ(t){return t===mc?void 0:t}function vJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gJ(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Vt||(Vt={}));const wJ={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},AJ=Vt.INFO,xJ={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},kJ=(t,e,...i)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=xJ[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f8{constructor(e){this.name=e,this._logLevel=AJ,this._logHandler=kJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}const _J=(t,e)=>e.some(i=>t instanceof i);let j3,U3;function TJ(){return j3||(j3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SJ(){return U3||(U3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p8=new WeakMap,Y_=new WeakMap,h8=new WeakMap,Y1=new WeakMap,PS=new WeakMap;function CJ(t){const e=new Promise((i,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{i(pl(t.result)),r()},a=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(i=>{i instanceof IDBCursor&&p8.set(i,t)}).catch(()=>{}),PS.set(e,t),e}function EJ(t){if(Y_.has(t))return;const e=new Promise((i,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{i(),r()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Y_.set(t,e)}let V_={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Y_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h8.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pl(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zJ(t){V_=t(V_)}function IJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const n=t.call(V1(this),e,...i);return h8.set(n,e.sort?e.sort():[e]),pl(n)}:SJ().includes(t)?function(...e){return t.apply(V1(this),e),pl(p8.get(this))}:function(...e){return pl(t.apply(V1(this),e))}}function RJ(t){return typeof t=="function"?IJ(t):(t instanceof IDBTransaction&&EJ(t),_J(t,TJ())?new Proxy(t,V_):t)}function pl(t){if(t instanceof IDBRequest)return CJ(t);if(Y1.has(t))return Y1.get(t);const e=RJ(t);return e!==t&&(Y1.set(t,e),PS.set(e,t)),e}const V1=t=>PS.get(t);function PJ(t,e,{blocked:i,upgrade:n,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),s=pl(a);return n&&a.addEventListener("upgradeneeded",l=>{n(pl(a.result),l.oldVersion,l.newVersion,pl(a.transaction))}),i&&a.addEventListener("blocked",()=>i()),s.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),s}const LJ=["get","getKey","getAll","getAllKeys","count"],OJ=["put","add","delete","clear"],$1=new Map;function G3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($1.get(e))return $1.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,r=OJ.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||LJ.includes(i)))return;const o=async function(a,...s){const l=this.transaction(a,r?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[i](...s),r&&l.done]))[0]};return $1.set(e,o),o}zJ(t=>({...t,get:(e,i,n)=>G3(e,i)||t.get(e,i,n),has:(e,i)=>!!G3(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MJ(i)){const n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}}function MJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $_="@firebase/app",H3="0.8.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new f8("@firebase/app"),BJ="@firebase/app-compat",FJ="@firebase/analytics-compat",NJ="@firebase/analytics",jJ="@firebase/app-check-compat",UJ="@firebase/app-check",GJ="@firebase/auth",HJ="@firebase/auth-compat",WJ="@firebase/database",YJ="@firebase/database-compat",VJ="@firebase/functions",$J="@firebase/functions-compat",QJ="@firebase/installations",qJ="@firebase/installations-compat",KJ="@firebase/messaging",XJ="@firebase/messaging-compat",JJ="@firebase/performance",ZJ="@firebase/performance-compat",eZ="@firebase/remote-config",tZ="@firebase/remote-config-compat",iZ="@firebase/storage",nZ="@firebase/storage-compat",rZ="@firebase/firestore",oZ="@firebase/firestore-compat",aZ="firebase",sZ="9.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="[DEFAULT]",lZ={[$_]:"fire-core",[BJ]:"fire-core-compat",[NJ]:"fire-analytics",[FJ]:"fire-analytics-compat",[UJ]:"fire-app-check",[jJ]:"fire-app-check-compat",[GJ]:"fire-auth",[HJ]:"fire-auth-compat",[WJ]:"fire-rtdb",[YJ]:"fire-rtdb-compat",[VJ]:"fire-fn",[$J]:"fire-fn-compat",[QJ]:"fire-iid",[qJ]:"fire-iid-compat",[KJ]:"fire-fcm",[XJ]:"fire-fcm-compat",[JJ]:"fire-perf",[ZJ]:"fire-perf-compat",[eZ]:"fire-rc",[tZ]:"fire-rc-compat",[iZ]:"fire-gcs",[nZ]:"fire-gcs-compat",[rZ]:"fire-fst",[oZ]:"fire-fst-compat","fire-js":"fire-js",[aZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map,q_=new Map;function cZ(t,e){try{t.container.addComponent(e)}catch(i){iu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function hm(t){const e=t.name;if(q_.has(e))return iu.debug(`There were multiple attempts to register component ${e}.`),!1;q_.set(e,t);for(const i of ly.values())cZ(i,t);return!0}function LS(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hl=new d8("app","Firebase",uZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Qd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=sZ;function g8(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Q_,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw hl.create("bad-app-name",{appName:String(r)});if(i||(i=dJ()),!i)throw hl.create("no-options");const o=ly.get(r);if(o){if(sy(i,o.options)&&sy(n,o.config))return o;throw hl.create("duplicate-app",{appName:r})}const a=new yJ(r);for(const l of q_.values())a.addComponent(l);const s=new dZ(i,n,a);return ly.set(r,s),s}function b8(t=Q_){const e=ly.get(t);if(!e&&t===Q_)return g8();if(!e)throw hl.create("no-app",{appName:t});return e}function ml(t,e,i){var n;let r=(n=lZ[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${r}" with version "${e}":`];o&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),iu.warn(s.join(" "));return}hm(new Qd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="firebase-heartbeat-database",pZ=1,mm="firebase-heartbeat-store";let Q1=null;function v8(){return Q1||(Q1=PJ(fZ,pZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(mm)}}}).catch(t=>{throw hl.create("idb-open",{originalErrorMessage:t.message})})),Q1}async function hZ(t){var e;try{return(await v8()).transaction(mm).objectStore(mm).get(y8(t))}catch(i){if(i instanceof mu)iu.warn(i.message);else{const n=hl.create("idb-get",{originalErrorMessage:(e=i)===null||e===void 0?void 0:e.message});iu.warn(n.message)}}}async function W3(t,e){var i;try{const r=(await v8()).transaction(mm,"readwrite");return await r.objectStore(mm).put(e,y8(t)),r.done}catch(n){if(n instanceof mu)iu.warn(n.message);else{const r=hl.create("idb-set",{originalErrorMessage:(i=n)===null||i===void 0?void 0:i.message});iu.warn(r.message)}}}function y8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=1024,gZ=30*24*60*60*1e3;class bZ{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yZ(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Y3();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(r=>r.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const o=new Date(r.date).valueOf();return Date.now()-o<=gZ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y3(),{heartbeatsToSend:i,unsentEntries:n}=vZ(this._heartbeatsCache.heartbeats),r=ay(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Y3(){return new Date().toISOString().substring(0,10)}function vZ(t,e=mZ){const i=[];let n=t.slice();for(const r of t){const o=i.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),V3(i)>e){o.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),V3(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}class yZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rJ()?oJ().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hZ(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const r=await this.read();return W3(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const r=await this.read();return W3(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V3(t){return ay(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wZ(t){hm(new Qd("platform-logger",e=>new DJ(e),"PRIVATE")),hm(new Qd("heartbeat",e=>new bZ(e),"PRIVATE")),ml($_,H3,t),ml($_,H3,"esm2017"),ml("fire-js","")}wZ("");var AZ=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Je,OS=OS||{},ct=AZ||self;function cy(){}function Bw(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function xZ(t){return Object.prototype.hasOwnProperty.call(t,q1)&&t[q1]||(t[q1]=++kZ)}var q1="closure_uid_"+(1e9*Math.random()>>>0),kZ=0;function _Z(t,e,i){return t.call.apply(t.bind,arguments)}function TZ(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Mn(t,e,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mn=_Z:Mn=TZ,Mn.apply(null,arguments)}function E0(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function kn(t,e){function i(){}i.prototype=e.prototype,t.X=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Wb=function(n,r,o){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return e.prototype[r].apply(n,a)}}function Gl(){this.s=this.s,this.o=this.o}var SZ=0;Gl.prototype.s=!1;Gl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),SZ!=0)&&xZ(this)};Gl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const w8=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1};function DS(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function $3(t,e){for(let i=1;i<arguments.length;i++){const n=arguments[i];if(Bw(n)){const r=t.length||0,o=n.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=n[a]}else t.push(n)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var CZ=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ct.addEventListener("test",cy,e),ct.removeEventListener("test",cy,e)}catch{}return t}();function uy(t){return/^[\s\xa0]*$/.test(t)}var Q3=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function K1(t,e){return t<e?-1:t>e?1:0}function Fw(){var t=ct.navigator;return t&&(t=t.userAgent)?t:""}function ta(t){return Fw().indexOf(t)!=-1}function MS(t){return MS[" "](t),t}MS[" "]=cy;function EZ(t){var e=RZ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var zZ=ta("Opera"),qd=ta("Trident")||ta("MSIE"),A8=ta("Edge"),K_=A8||qd,x8=ta("Gecko")&&!(Fw().toLowerCase().indexOf("webkit")!=-1&&!ta("Edge"))&&!(ta("Trident")||ta("MSIE"))&&!ta("Edge"),IZ=Fw().toLowerCase().indexOf("webkit")!=-1&&!ta("Edge");function k8(){var t=ct.document;return t?t.documentMode:void 0}var dy;e:{var X1="",J1=function(){var t=Fw();if(x8)return/rv:([^\);]+)(\)|;)/.exec(t);if(A8)return/Edge\/([\d\.]+)/.exec(t);if(qd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(IZ)return/WebKit\/(\S+)/.exec(t);if(zZ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(J1&&(X1=J1?J1[1]:""),qd){var Z1=k8();if(Z1!=null&&Z1>parseFloat(X1)){dy=String(Z1);break e}}dy=X1}var RZ={};function PZ(){return EZ(function(){let t=0;const e=Q3(String(dy)).split("."),i=Q3("9").split("."),n=Math.max(e.length,i.length);for(let a=0;t==0&&a<n;a++){var r=e[a]||"",o=i[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],r[0].length==0&&o[0].length==0)break;t=K1(r[1].length==0?0:parseInt(r[1],10),o[1].length==0?0:parseInt(o[1],10))||K1(r[2].length==0,o[2].length==0)||K1(r[2],o[2]),r=r[3],o=o[3]}while(t==0)}return 0<=t})}var X_;if(ct.document&&qd){var q3=k8();X_=q3||parseInt(dy,10)||void 0}else X_=void 0;var LZ=X_;function gm(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(x8){e:{try{MS(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else i=="mouseover"?e=t.fromElement:i=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:OZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gm.X.h.call(this)}}kn(gm,Bn);var OZ={2:"touch",3:"pen",4:"mouse"};gm.prototype.h=function(){gm.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bg="closure_listenable_"+(1e6*Math.random()|0),DZ=0;function MZ(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ha=r,this.key=++DZ,this.ba=this.ea=!1}function Nw(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function BS(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function _8(t){const e={};for(const i in t)e[i]=t[i];return e}const K3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T8(t,e){let i,n;for(let r=1;r<arguments.length;r++){n=arguments[r];for(i in n)t[i]=n[i];for(let o=0;o<K3.length;o++)i=K3[o],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function jw(t){this.src=t,this.g={},this.h=0}jw.prototype.add=function(t,e,i,n,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=Z_(t,e,n,r);return-1<a?(e=t[a],i||(e.ea=!1)):(e=new MZ(e,this.src,o,!!n,r),e.ea=i,t.push(e)),e};function J_(t,e){var i=e.type;if(i in t.g){var n=t.g[i],r=w8(n,e),o;(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(Nw(e),t.g[i].length==0&&(delete t.g[i],t.h--))}}function Z_(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ba&&o.listener==e&&o.capture==!!i&&o.ha==n)return r}return-1}var FS="closure_lm_"+(1e6*Math.random()|0),ek={};function S8(t,e,i,n,r){if(n&&n.once)return E8(t,e,i,n,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)S8(t,e[o],i,n,r);return null}return i=US(i),t&&t[bg]?t.N(e,i,gg(n)?!!n.capture:!!n,r):C8(t,e,i,!1,n,r)}function C8(t,e,i,n,r,o){if(!e)throw Error("Invalid event type");var a=gg(r)?!!r.capture:!!r,s=jS(t);if(s||(t[FS]=s=new jw(t)),i=s.add(e,i,n,a,o),i.proxy)return i;if(n=BZ(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)CZ||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(I8(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return i}function BZ(){function t(i){return e.call(t.src,t.listener,i)}const e=FZ;return t}function E8(t,e,i,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)E8(t,e[o],i,n,r);return null}return i=US(i),t&&t[bg]?t.O(e,i,gg(n)?!!n.capture:!!n,r):C8(t,e,i,!0,n,r)}function z8(t,e,i,n,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)z8(t,e[o],i,n,r);else n=gg(n)?!!n.capture:!!n,i=US(i),t&&t[bg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],i=Z_(o,i,n,r),-1<i&&(Nw(o[i]),Array.prototype.splice.call(o,i,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=jS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Z_(e,i,n,r)),(i=-1<t?e[t]:null)&&NS(i))}function NS(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[bg])J_(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(I8(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=jS(e))?(J_(i,t),i.h==0&&(i.src=null,e[FS]=null)):Nw(t)}}}function I8(t){return t in ek?ek[t]:ek[t]="on"+t}function FZ(t,e){if(t.ba)t=!0;else{e=new gm(e,this);var i=t.listener,n=t.ha||t.src;t.ea&&NS(t),t=i.call(n,e)}return t}function jS(t){return t=t[FS],t instanceof jw?t:null}var tk="__closure_events_fn_"+(1e9*Math.random()>>>0);function US(t){return typeof t=="function"?t:(t[tk]||(t[tk]=function(e){return t.handleEvent(e)}),t[tk])}function on(){Gl.call(this),this.i=new jw(this),this.P=this,this.I=null}kn(on,Gl);on.prototype[bg]=!0;on.prototype.removeEventListener=function(t,e,i,n){z8(this,t,e,i,n)};function wn(t,e){var i,n=t.I;if(n)for(i=[];n;n=n.I)i.push(n);if(t=t.P,n=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var r=e;e=new Bn(n,t),T8(e,r)}if(r=!0,i)for(var o=i.length-1;0<=o;o--){var a=e.g=i[o];r=z0(a,n,!0,e)&&r}if(a=e.g=t,r=z0(a,n,!0,e)&&r,r=z0(a,n,!1,e)&&r,i)for(o=0;o<i.length;o++)a=e.g=i[o],r=z0(a,n,!1,e)&&r}on.prototype.M=function(){if(on.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var i=t.g[e],n=0;n<i.length;n++)Nw(i[n]);delete t.g[e],t.h--}}this.I=null};on.prototype.N=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)};on.prototype.O=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};function z0(t,e,i,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ba&&a.capture==i){var s=a.listener,l=a.ha||a.src;a.ea&&J_(t.i,a),r=s.call(l,n)!==!1&&r}}return r&&!n.defaultPrevented}var GS=ct.JSON.stringify;function NZ(){var t=L8;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jZ{constructor(){this.h=this.g=null}add(e,i){const n=R8.get();n.set(e,i),this.h?this.h.next=n:this.g=n,this.h=n}}var R8=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new UZ,t=>t.reset());class UZ{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function GZ(t){ct.setTimeout(()=>{throw t},0)}function P8(t,e){e2||HZ(),t2||(e2(),t2=!0),L8.add(t,e)}var e2;function HZ(){var t=ct.Promise.resolve(void 0);e2=function(){t.then(WZ)}}var t2=!1,L8=new jZ;function WZ(){for(var t;t=NZ();){try{t.h.call(t.g)}catch(i){GZ(i)}var e=R8;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}t2=!1}function Uw(t,e){on.call(this),this.h=t||1,this.g=e||ct,this.j=Mn(this.lb,this),this.l=Date.now()}kn(Uw,on);Je=Uw.prototype;Je.ca=!1;Je.R=null;Je.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),wn(this,"tick"),this.ca&&(HS(this),this.start()))}};Je.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function HS(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}Je.M=function(){Uw.X.M.call(this),HS(this),delete this.g};function WS(t,e,i){if(typeof t=="function")i&&(t=Mn(t,i));else if(t&&typeof t.handleEvent=="function")t=Mn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ct.setTimeout(t,e||0)}function O8(t){t.g=WS(()=>{t.g=null,t.i&&(t.i=!1,O8(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class YZ extends Gl{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:O8(this)}M(){super.M(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bm(t){Gl.call(this),this.h=t,this.g={}}kn(bm,Gl);var X3=[];function D8(t,e,i,n){Array.isArray(i)||(i&&(X3[0]=i.toString()),i=X3);for(var r=0;r<i.length;r++){var o=S8(e,i[r],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function M8(t){BS(t.g,function(e,i){this.g.hasOwnProperty(i)&&NS(e)},t),t.g={}}bm.prototype.M=function(){bm.X.M.call(this),M8(this)};bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gw(){this.g=!0}Gw.prototype.Aa=function(){this.g=!1};function VZ(t,e,i,n,r,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var d=c[0];c=c[1];var f=d.split("_");a=2<=f.length&&f[1]=="type"?a+(d+"="+c+"&"):a+(d+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+`
`+i+`
`+a})}function $Z(t,e,i,n,r,o,a){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+`
`+i+`
`+o+" "+a})}function gd(t,e,i,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qZ(t,i)+(n?" "+n:"")})}function QZ(t,e){t.info(function(){return"TIMEOUT: "+e})}Gw.prototype.info=function(){};function qZ(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return GS(i)}catch{return e}}var gu={},J3=null;function Hw(){return J3=J3||new on}gu.Pa="serverreachability";function B8(t){Bn.call(this,gu.Pa,t)}kn(B8,Bn);function vm(t){const e=Hw();wn(e,new B8(e))}gu.STAT_EVENT="statevent";function F8(t,e){Bn.call(this,gu.STAT_EVENT,t),this.stat=e}kn(F8,Bn);function ir(t){const e=Hw();wn(e,new F8(e,t))}gu.Qa="timingevent";function N8(t,e){Bn.call(this,gu.Qa,t),this.size=e}kn(N8,Bn);function vg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){t()},e)}var Ww={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},j8={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function YS(){}YS.prototype.h=null;function Z3(t){return t.h||(t.h=t.i())}function U8(){}var yg={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function VS(){Bn.call(this,"d")}kn(VS,Bn);function $S(){Bn.call(this,"c")}kn($S,Bn);var i2;function Yw(){}kn(Yw,YS);Yw.prototype.g=function(){return new XMLHttpRequest};Yw.prototype.i=function(){return{}};i2=new Yw;function wg(t,e,i,n){this.l=t,this.j=e,this.m=i,this.U=n||1,this.S=new bm(this),this.O=KZ,t=K_?125:void 0,this.T=new Uw(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new G8}function G8(){this.i=null,this.g="",this.h=!1}var KZ=45e3,n2={},fy={};Je=wg.prototype;Je.setTimeout=function(t){this.O=t};function r2(t,e,i){t.K=1,t.v=$w(bs(e)),t.s=i,t.P=!0,H8(t,null)}function H8(t,e){t.F=Date.now(),Ag(t),t.A=bs(t.v);var i=t.A,n=t.U;Array.isArray(n)||(n=[String(n)]),X8(i.i,"t",n),t.C=0,i=t.l.H,t.h=new G8,t.g=vB(t.l,i?e:null,!t.s),0<t.N&&(t.L=new YZ(Mn(t.La,t,t.g),t.N)),D8(t.S,t.g,"readystatechange",t.ib),e=t.H?_8(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),vm(),VZ(t.j,t.u,t.A,t.m,t.U,t.s)}Je.ib=function(t){t=t.target;const e=this.L;e&&ss(t)==3?e.l():this.La(t)};Je.La=function(t){try{if(t==this.g)e:{const d=ss(this.g);var e=this.g.Ea();const f=this.g.aa();if(!(3>d)&&(d!=3||K_||this.g&&(this.h.h||this.g.fa()||n4(this.g)))){this.I||d!=4||e==7||(e==8||0>=f?vm(3):vm(2)),Vw(this);var i=this.g.aa();this.Y=i;t:if(W8(this)){var n=n4(this.g);t="";var r=n.length,o=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Ec(this),jh(this);var a="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:o&&e==r-1});n.splice(0,r),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=i==200,$Z(this.j,this.u,this.A,this.m,this.U,d,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uy(s)){var c=s;break t}}c=null}if(i=c)gd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,o2(this,i);else{this.i=!1,this.o=3,ir(12),Ec(this),jh(this);break e}}this.P?(Y8(this,d,a),K_&&this.i&&d==3&&(D8(this.S,this.T,"tick",this.hb),this.T.start())):(gd(this.j,this.m,a,null),o2(this,a)),d==4&&Ec(this),this.i&&!this.I&&(d==4?hB(this.l,this):(this.i=!1,Ag(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,ir(12)):(this.o=0,ir(13)),Ec(this),jh(this)}}}catch{}finally{}};function W8(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Y8(t,e,i){let n=!0,r;for(;!t.I&&t.C<i.length;)if(r=XZ(t,i),r==fy){e==4&&(t.o=4,ir(14),n=!1),gd(t.j,t.m,null,"[Incomplete Response]");break}else if(r==n2){t.o=4,ir(15),gd(t.j,t.m,i,"[Invalid Chunk]"),n=!1;break}else gd(t.j,t.m,r,null),o2(t,r);W8(t)&&r!=fy&&r!=n2&&(t.h.g="",t.C=0),e!=4||i.length!=0||t.h.h||(t.o=1,ir(16),n=!1),t.i=t.i&&n,n?0<i.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),eC(e),e.K=!0,ir(11))):(gd(t.j,t.m,i,"[Invalid Chunked Response]"),Ec(t),jh(t))}Je.hb=function(){if(this.g){var t=ss(this.g),e=this.g.fa();this.C<e.length&&(Vw(this),Y8(this,t,e),this.i&&t!=4&&Ag(this))}};function XZ(t,e){var i=t.C,n=e.indexOf(`
`,i);return n==-1?fy:(i=Number(e.substring(i,n)),isNaN(i)?n2:(n+=1,n+i>e.length?fy:(e=e.substr(n,i),t.C=n+i,e)))}Je.cancel=function(){this.I=!0,Ec(this)};function Ag(t){t.V=Date.now()+t.O,V8(t,t.O)}function V8(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=vg(Mn(t.gb,t),e)}function Vw(t){t.B&&(ct.clearTimeout(t.B),t.B=null)}Je.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(QZ(this.j,this.A),this.K!=2&&(vm(),ir(17)),Ec(this),this.o=2,jh(this)):V8(this,this.V-t)};function jh(t){t.l.G==0||t.I||hB(t.l,t)}function Ec(t){Vw(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,HS(t.T),M8(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function o2(t,e){try{var i=t.l;if(i.G!=0&&(i.g==t||a2(i.h,t))){if(!t.J&&a2(i.h,t)&&i.G==3){try{var n=i.Fa.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var r=n;if(r[0]==0){e:if(!i.u){if(i.g)if(i.g.F+3e3<t.F)my(i),Kw(i);else break e;ZS(i),ir(18)}}else i.Ba=r[1],0<i.Ba-i.T&&37500>r[2]&&i.L&&i.A==0&&!i.v&&(i.v=vg(Mn(i.cb,i),6e3));if(1>=eB(i.h)&&i.ja){try{i.ja()}catch{}i.ja=void 0}}else zc(i,11)}else if((t.J||i.g==t)&&my(i),!uy(e))for(r=i.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(i.T=c[0],c=c[1],i.G==2)if(c[0]=="c"){i.I=c[1],i.ka=c[2];const d=c[3];d!=null&&(i.ma=d,i.j.info("VER="+i.ma));const f=c[4];f!=null&&(i.Ca=f,i.j.info("SVER="+i.Ca));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,i.J=n,i.j.info("backChannelRequestTimeoutMs_="+n)),n=i;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=n.h;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(QS(o,o.h),o.h=null))}if(n.D){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(n.za=w,di(n.F,n.D,w))}}i.G=3,i.l&&i.l.xa(),i.$&&(i.P=Date.now()-t.F,i.j.info("Handshake RTT: "+i.P+"ms")),n=i;var a=t;if(n.sa=bB(n,n.H?n.ka:null,n.V),a.J){tB(n.h,a);var s=a,l=n.J;l&&s.setTimeout(l),s.B&&(Vw(s),Ag(s)),n.g=a}else fB(n);0<i.i.length&&Xw(i)}else c[0]!="stop"&&c[0]!="close"||zc(i,7);else i.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?zc(i,7):JS(i):c[0]!="noop"&&i.l&&i.l.wa(c),i.A=0)}}vm(4)}catch{}}function JZ(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map!="undefined"&&t instanceof Map||typeof Set!="undefined"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bw(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}e=[],i=0;for(n in t)e[i++]=t[n];return e}function ZZ(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map!="undefined"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set!="undefined"&&t instanceof Set)){if(Bw(t)||typeof t=="string"){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(const n in t)e[i++]=n;return e}}}function $8(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bw(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var i=ZZ(t),n=JZ(t),r=n.length,o=0;o<r;o++)e.call(void 0,n[o],i&&i[o],t)}var Q8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eee(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var o=t[i].substring(0,n);r=t[i].substring(n+1)}else o=t[i];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Fc(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fc){this.h=e!==void 0?e:t.h,py(this,t.j),this.s=t.s,this.g=t.g,hy(this,t.m),this.l=t.l,e=t.i;var i=new ym;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),e4(this,i),this.o=t.o}else t&&(i=String(t).match(Q8))?(this.h=!!e,py(this,i[1]||"",!0),this.s=vh(i[2]||""),this.g=vh(i[3]||"",!0),hy(this,i[4]),this.l=vh(i[5]||"",!0),e4(this,i[6]||"",!0),this.o=vh(i[7]||"")):(this.h=!!e,this.i=new ym(null,this.h))}Fc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yh(e,t4,!0),":");var i=this.g;return(i||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yh(e,t4,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&t.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&t.push("/"),t.push(yh(i,i.charAt(0)=="/"?nee:iee,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.o)&&t.push("#",yh(i,oee)),t.join("")};function bs(t){return new Fc(t)}function py(t,e,i){t.j=i?vh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function e4(t,e,i){e instanceof ym?(t.i=e,aee(t.i,t.h)):(i||(e=yh(e,ree)),t.i=new ym(e,t.h))}function di(t,e,i){t.i.set(e,i)}function $w(t){return di(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yh(t,e,i){return typeof t=="string"?(t=encodeURI(t).replace(e,tee),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tee(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var t4=/[#\/\?@]/g,iee=/[#\?:]/g,nee=/[#\?]/g,ree=/[#\?@]/g,oee=/#/g;function ym(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hl(t){t.g||(t.g=new Map,t.h=0,t.i&&eee(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}Je=ym.prototype;Je.add=function(t,e){Hl(this),this.i=null,t=Ff(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this};function q8(t,e){Hl(t),e=Ff(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function K8(t,e){return Hl(t),e=Ff(t,e),t.g.has(e)}Je.forEach=function(t,e){Hl(this),this.g.forEach(function(i,n){i.forEach(function(r){t.call(e,r,n,this)},this)},this)};Je.oa=function(){Hl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let n=0;n<e.length;n++){const r=t[n];for(let o=0;o<r.length;o++)i.push(e[n])}return i};Je.W=function(t){Hl(this);let e=[];if(typeof t=="string")K8(this,t)&&(e=e.concat(this.g.get(Ff(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e};Je.set=function(t,e){return Hl(this),this.i=null,t=Ff(this,t),K8(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Je.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function X8(t,e,i){q8(t,e),0<i.length&&(t.i=null,t.g.set(Ff(t,e),DS(i)),t.h+=i.length)}Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var n=e[i];const o=encodeURIComponent(String(n)),a=this.W(n);for(n=0;n<a.length;n++){var r=o;a[n]!==""&&(r+="="+encodeURIComponent(String(a[n]))),t.push(r)}}return this.i=t.join("&")};function Ff(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aee(t,e){e&&!t.j&&(Hl(t),t.i=null,t.g.forEach(function(i,n){var r=n.toLowerCase();n!=r&&(q8(this,n),X8(this,r,i))},t)),t.j=e}var see=class{constructor(t,e){this.h=t,this.g=e}};function J8(t){this.l=t||lee,ct.PerformanceNavigationTiming?(t=ct.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ct.g&&ct.g.Ga&&ct.g.Ga()&&ct.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lee=10;function Z8(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function eB(t){return t.h?1:t.g?t.g.size:0}function a2(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function QS(t,e){t.g?t.g.add(e):t.h=e}function tB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}J8.prototype.cancel=function(){if(this.i=iB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function iB(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return DS(t.i)}function qS(){}qS.prototype.stringify=function(t){return ct.JSON.stringify(t,void 0)};qS.prototype.parse=function(t){return ct.JSON.parse(t,void 0)};function cee(){this.g=new qS}function uee(t,e,i){const n=i||"";try{$8(t,function(r,o){let a=r;gg(r)&&(a=GS(r)),e.push(n+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(n+"type="+encodeURIComponent("_badmap")),r}}function dee(t,e){const i=new Gw;if(ct.Image){const n=new Image;n.onload=E0(I0,i,n,"TestLoadImage: loaded",!0,e),n.onerror=E0(I0,i,n,"TestLoadImage: error",!1,e),n.onabort=E0(I0,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=E0(I0,i,n,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function I0(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch{}}function xg(t){this.l=t.ac||null,this.j=t.jb||!1}kn(xg,YS);xg.prototype.g=function(){return new Qw(this.l,this.j)};xg.prototype.i=function(t){return function(){return t}}({});function Qw(t,e){on.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=KS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kn(Qw,on);var KS=0;Je=Qw.prototype;Je.open=function(t,e){if(this.readyState!=KS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wm(this)};Je.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ct).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kg(this)),this.readyState=KS};Je.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wm(this)),this.g&&(this.readyState=3,wm(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ct.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nB(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function nB(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}Je.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kg(this):wm(this),this.readyState==3&&nB(this)}};Je.Va=function(t){this.g&&(this.response=this.responseText=t,kg(this))};Je.Ua=function(t){this.g&&(this.response=t,kg(this))};Je.ga=function(){this.g&&kg(this)};function kg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wm(t)}Je.setRequestHeader=function(t,e){this.v.append(t,e)};Je.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Je.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join(`\r
`)};function wm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qw.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fee=ct.JSON.parse;function ki(t){on.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rB,this.K=this.L=!1}kn(ki,on);var rB="",pee=/^https?$/i,hee=["POST","PUT"];Je=ki.prototype;Je.Ka=function(t){this.L=t};Je.da=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():i2.g(),this.C=this.u?Z3(this.u):Z3(i2),this.g.onreadystatechange=Mn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){i4(this,o);return}if(t=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const o of n.keys())i.set(o,n.get(o));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(i.keys()).find(o=>o.toLowerCase()=="content-type"),r=ct.FormData&&t instanceof ct.FormData,!(0<=w8(hee,e))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of i)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sB(this),0<this.B&&((this.K=mee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.qa,this)):this.A=WS(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){i4(this,o)}};function mee(t){return qd&&PZ()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Je.qa=function(){typeof OS!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wn(this,"timeout"),this.abort(8))};function i4(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oB(t),qw(t)}function oB(t){t.D||(t.D=!0,wn(t,"complete"),wn(t,"error"))}Je.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,wn(this,"complete"),wn(this,"abort"),qw(this))};Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qw(this,!0)),ki.X.M.call(this)};Je.Ha=function(){this.s||(this.F||this.v||this.l?aB(this):this.fb())};Je.fb=function(){aB(this)};function aB(t){if(t.h&&typeof OS!="undefined"&&(!t.C[1]||ss(t)!=4||t.aa()!=2)){if(t.v&&ss(t)==4)WS(t.Ha,0,t);else if(wn(t,"readystatechange"),ss(t)==4){t.h=!1;try{const s=t.aa();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var n;if(n=s===0){var r=String(t.H).match(Q8)[1]||null;if(!r&&ct.self&&ct.self.location){var o=ct.self.location.protocol;r=o.substr(0,o.length-1)}n=!pee.test(r?r.toLowerCase():"")}i=n}if(i)wn(t,"complete"),wn(t,"success");else{t.m=6;try{var a=2<ss(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.aa()+"]",oB(t)}}finally{qw(t)}}}}function qw(t,e){if(t.g){sB(t);const i=t.g,n=t.C[0]?cy:null;t.g=null,t.C=null,e||wn(t,"ready");try{i.onreadystatechange=n}catch{}}}function sB(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ct.clearTimeout(t.A),t.A=null)}function ss(t){return t.g?t.g.readyState:0}Je.aa=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}};Je.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Je.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fee(e)}};function n4(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case rB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Je.Ea=function(){return this.m};Je.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function lB(t){let e="";return BS(t,function(i,n){e+=n,e+=":",e+=i,e+=`\r
`}),e}function XS(t,e,i){e:{for(n in i){var n=!1;break e}n=!0}n||(i=lB(i),typeof t=="string"?i!=null&&encodeURIComponent(String(i)):di(t,e,i))}function nh(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function cB(t){this.Ca=0,this.i=[],this.j=new Gw,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=nh("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=nh("baseRetryDelayMs",5e3,t),this.bb=nh("retryDelaySeedMs",1e4,t),this.$a=nh("forwardChannelMaxRetries",2,t),this.ta=nh("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new J8(t&&t.concurrentRequestLimit),this.Fa=new cee,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Je=cB.prototype;Je.ma=8;Je.G=1;function JS(t){if(uB(t),t.G==3){var e=t.U++,i=bs(t.F);di(i,"SID",t.I),di(i,"RID",e),di(i,"TYPE","terminate"),_g(t,i),e=new wg(t,t.j,e,void 0),e.K=2,e.v=$w(bs(i)),i=!1,ct.navigator&&ct.navigator.sendBeacon&&(i=ct.navigator.sendBeacon(e.v.toString(),"")),!i&&ct.Image&&(new Image().src=e.v,i=!0),i||(e.g=vB(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ag(e)}gB(t)}function Kw(t){t.g&&(eC(t),t.g.cancel(),t.g=null)}function uB(t){Kw(t),t.u&&(ct.clearTimeout(t.u),t.u=null),my(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ct.clearTimeout(t.m),t.m=null)}function Xw(t){Z8(t.h)||t.m||(t.m=!0,P8(t.Ja,t),t.C=0)}function gee(t,e){return eB(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=vg(Mn(t.Ja,t,e),mB(t,t.C)),t.C++,!0)}Je.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new wg(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=_8(o),T8(o,this.S)):o=this.S),this.o!==null||this.N||(r.H=o,o=null),this.O)e:{for(var e=0,i=0;i<this.i.length;i++){t:{var n=this.i[i];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=i;break e}if(e===4096||i===this.i.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=dB(this,r,e),i=bs(this.F),di(i,"RID",t),di(i,"CVER",22),this.D&&di(i,"X-HTTP-Session-Id",this.D),_g(this,i),o&&(this.N?e="headers="+encodeURIComponent(String(lB(o)))+"&"+e:this.o&&XS(i,this.o,o)),QS(this.h,r),this.Ya&&di(i,"TYPE","init"),this.O?(di(i,"$req",e),di(i,"SID","null"),r.Z=!0,r2(r,i,null)):r2(r,i,e),this.G=2}}else this.G==3&&(t?r4(this,t):this.i.length==0||Z8(this.h)||r4(this))};function r4(t,e){var i;e?i=e.m:i=t.U++;const n=bs(t.F);di(n,"SID",t.I),di(n,"RID",i),di(n,"AID",t.T),_g(t,n),t.o&&t.s&&XS(n,t.o,t.s),i=new wg(t,t.j,i,t.C+1),t.o===null&&(i.H=t.s),e&&(t.i=e.D.concat(t.i)),e=dB(t,i,1e3),i.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),QS(t.h,i),r2(i,n,e)}function _g(t,e){t.ia&&BS(t.ia,function(i,n){di(e,n,i)}),t.l&&$8({},function(i,n){di(e,n,i)})}function dB(t,e,i){i=Math.min(t.i.length,i);var n=t.l?Mn(t.l.Ra,t.l,t):null;e:{var r=t.i;let o=-1;for(;;){const a=["count="+i];o==-1?0<i?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let s=!0;for(let l=0;l<i;l++){let c=r[l].h;const d=r[l].g;if(c-=o,0>c)o=Math.max(0,r[l].h-100),s=!1;else try{uee(d,a,"req"+c+"_")}catch{n&&n(d)}}if(s){n=a.join("&");break e}}}return t=t.i.splice(0,i),e.D=t,n}function fB(t){t.g||t.u||(t.Z=1,P8(t.Ia,t),t.A=0)}function ZS(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=vg(Mn(t.Ia,t),mB(t,t.A)),t.A++,!0)}Je.Ia=function(){if(this.u=null,pB(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=vg(Mn(this.eb,this),t)}};Je.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ir(10),Kw(this),pB(this))};function eC(t){t.B!=null&&(ct.clearTimeout(t.B),t.B=null)}function pB(t){t.g=new wg(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=bs(t.sa);di(e,"RID","rpc"),di(e,"SID",t.I),di(e,"CI",t.L?"0":"1"),di(e,"AID",t.T),di(e,"TYPE","xmlhttp"),_g(t,e),t.o&&t.s&&XS(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var i=t.g;t=t.ka,i.K=1,i.v=$w(bs(e)),i.s=null,i.P=!0,H8(i,t)}Je.cb=function(){this.v!=null&&(this.v=null,Kw(this),ZS(this),ir(19))};function my(t){t.v!=null&&(ct.clearTimeout(t.v),t.v=null)}function hB(t,e){var i=null;if(t.g==e){my(t),eC(t),t.g=null;var n=2}else if(a2(t.h,e))i=e.D,tB(t.h,e),n=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(n==1){i=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;n=Hw(),wn(n,new N8(n,i)),Xw(t)}else fB(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(n==1&&gee(t,e)||n==2&&ZS(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),r){case 1:zc(t,5);break;case 4:zc(t,10);break;case 3:zc(t,6);break;default:zc(t,2)}}}function mB(t,e){let i=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(i*=2),i*e}function zc(t,e){if(t.j.info("Error code "+e),e==2){var i=null;t.l&&(i=null);var n=Mn(t.kb,t);i||(i=new Fc("//www.google.com/images/cleardot.gif"),ct.location&&ct.location.protocol=="http"||py(i,"https"),$w(i)),dee(i.toString(),n)}else ir(2);t.G=0,t.l&&t.l.va(e),gB(t),uB(t)}Je.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ir(2)):(this.j.info("Failed to ping google.com"),ir(1))};function gB(t){if(t.G=0,t.la=[],t.l){const e=iB(t.h);(e.length!=0||t.i.length!=0)&&($3(t.la,e),$3(t.la,t.i),t.h.i.length=0,DS(t.i),t.i.length=0),t.l.ua()}}function bB(t,e,i){var n=i instanceof Fc?bs(i):new Fc(i,void 0);if(n.g!="")e&&(n.g=e+"."+n.g),hy(n,n.m);else{var r=ct.location;n=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Fc(null,void 0);n&&py(o,n),e&&(o.g=e),r&&hy(o,r),i&&(o.l=i),n=o}return i=t.D,e=t.za,i&&e&&di(n,i,e),di(n,"VER",t.ma),_g(t,n),n}function vB(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=i&&t.Da&&!t.ra?new ki(new xg({jb:!0})):new ki(t.ra),e.Ka(t.H),e}function yB(){}Je=yB.prototype;Je.xa=function(){};Je.wa=function(){};Je.va=function(){};Je.ua=function(){};Je.Ra=function(){};function gy(){if(qd&&!(10<=Number(LZ)))throw Error("Environmental error: no available transport.")}gy.prototype.g=function(t,e){return new qr(t,e)};function qr(t,e){on.call(this),this.g=new cB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!uy(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uy(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Nf(this)}kn(qr,on);qr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;ir(0),t.V=e,t.ia=i||{},t.L=t.Y,t.F=bB(t,null,t.V),Xw(t)};qr.prototype.close=function(){JS(this.g)};qr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var i={};i.__data__=t,t=i}else this.v&&(i={},i.__data__=GS(t),t=i);e.i.push(new see(e.ab++,t)),e.G==3&&Xw(e)};qr.prototype.M=function(){this.g.l=null,delete this.j,JS(this.g),delete this.g,qr.X.M.call(this)};function wB(t){VS.call(this);var e=t.__sm__;if(e){e:{for(const i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kn(wB,VS);function AB(){$S.call(this),this.status=1}kn(AB,$S);function Nf(t){this.g=t}kn(Nf,yB);Nf.prototype.xa=function(){wn(this.g,"a")};Nf.prototype.wa=function(t){wn(this.g,new wB(t))};Nf.prototype.va=function(t){wn(this.g,new AB)};Nf.prototype.ua=function(){wn(this.g,"b")};gy.prototype.createWebChannel=gy.prototype.g;qr.prototype.send=qr.prototype.u;qr.prototype.open=qr.prototype.m;qr.prototype.close=qr.prototype.close;Ww.NO_ERROR=0;Ww.TIMEOUT=8;Ww.HTTP_ERROR=6;j8.COMPLETE="complete";U8.EventType=yg;yg.OPEN="a";yg.CLOSE="b";yg.ERROR="c";yg.MESSAGE="d";on.prototype.listen=on.prototype.N;ki.prototype.listenOnce=ki.prototype.O;ki.prototype.getLastError=ki.prototype.Oa;ki.prototype.getLastErrorCode=ki.prototype.Ea;ki.prototype.getStatus=ki.prototype.aa;ki.prototype.getResponseJson=ki.prototype.Sa;ki.prototype.getResponseText=ki.prototype.fa;ki.prototype.send=ki.prototype.da;ki.prototype.setWithCredentials=ki.prototype.Ka;var bee=function(){return new gy},vee=function(){return Hw()},ik=Ww,yee=j8,wee=gu,o4={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Aee=xg,R0=U8,xee=ki;const a4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="9.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new f8("@firebase/firestore");function s4(){return nu.logLevel}function it(t,...e){if(nu.logLevel<=Vt.DEBUG){const i=e.map(tC);nu.debug(`Firestore (${jf}): ${t}`,...i)}}function vs(t,...e){if(nu.logLevel<=Vt.ERROR){const i=e.map(tC);nu.error(`Firestore (${jf}): ${t}`,...i)}}function s2(t,...e){if(nu.logLevel<=Vt.WARN){const i=e.map(tC);nu.warn(`Firestore (${jf}): ${t}`,...i)}}function tC(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t="Unexpected state"){const e=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: `+t;throw vs(e),new Error(e)}function Ni(t,e){t||At()}function Nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends mu{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ln.UNAUTHENTICATED))}shutdown(){}}class _ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Tee{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let n=this.i;const r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve();let o=new gl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gl,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},s=l=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gl)}},0),a()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ni(typeof n.accessToken=="string"),new xB(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ni(e===null||typeof e=="string"),new Ln(e)}}class See{constructor(e,i,n,r){this.h=e,this.l=i,this.m=n,this.g=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ni(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Cee{constructor(e,i,n,r){this.h=e,this.l=i,this.m=n,this.g=r}getToken(){return Promise.resolve(new See(this.h,this.l,this.m,this.g))}start(e,i){e.enqueueRetryable(()=>i(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Eee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zee{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,i){const n=o=>{o.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.A;return this.A=o.token,it("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?i(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const r=o=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ni(typeof i.token=="string"),this.A=i.token,new Eee(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Iee(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=e.charAt(r[o]%e.length))}return n}}function Kt(t,e){return t<e?-1:t>e?1:0}function Kd(t,e,i){return t.length===e.length&&t.every((n,r)=>i(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new We(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new We(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new We(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Li.fromMillis(Date.now())}static fromDate(e){return Li.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new Li(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new Li(0,0))}static max(){return new kt(new Li(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,i,n){i===void 0?i=0:i>e.length&&At(),n===void 0?n=e.length-i:n>e.length-i&&At(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return Am.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Am?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const n=Math.min(e.length,i.length);for(let r=0;r<n;r++){const o=e.get(r),a=i.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class ni extends Am{construct(e,i,n){return new ni(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const n of e){if(n.indexOf("//")>=0)throw new We(Ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new ni(i)}static emptyPath(){return new ni([])}}const Ree=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Am{construct(e,i,n){return new Xn(e,i,n)}static isValidIdentifier(e){return Ree.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const i=[];let n="",r=0;const o=()=>{if(n.length===0)throw new We(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""};let a=!1;for(;r<e.length;){const s=e[r];if(s==="\\"){if(r+1===e.length)throw new We(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else s==="`"?(a=!a,r++):s!=="."||a?(n+=s,r++):(o(),r++)}if(o(),a)throw new We(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(i)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(ni.fromString(e))}static fromName(e){return new et(ni.fromString(e).popFirst(5))}static empty(){return new et(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ni.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ni.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new ni(e.slice()))}}function Pee(t,e){const i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(n===1e9?new Li(i+1,0):new Li(i,n));return new _l(r,et.empty(),e)}function Lee(t){return new _l(t.readTime,t.key,-1)}class _l{constructor(e,i,n){this.readTime=e,this.documentKey=i,this.largestBatchId=n}static min(){return new _l(kt.min(),et.empty(),-1)}static max(){return new _l(kt.max(),et.empty(),-1)}}function Oee(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=et.comparator(t.documentKey,e.documentKey),i!==0?i:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==Dee)throw t;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Le((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Le?i:Le.resolve(i)}catch(i){return Le.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Le.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Le.reject(i)}static resolve(e){return new Le((i,n)=>{i(e)})}static reject(e){return new Le((i,n)=>{n(e)})}static waitFor(e){return new Le((i,n)=>{let r=0,o=0,a=!1;e.forEach(s=>{++r,s.next(()=>{++o,a&&o===r&&i()},l=>n(l))}),a=!0,o===r&&i()})}static or(e){let i=Le.resolve(!1);for(const n of e)i=i.next(r=>r?Le.resolve(r):n());return i}static forEach(e,i){const n=[];return e.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(e,i){return new Le((n,r)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const c=l;i(e[c]).next(d=>{a[c]=d,++s,s===o&&n(a)},d=>r(d))}})}static doWhile(e,i){return new Le((n,r)=>{const o=()=>{e()===!0?i().next(()=>{o()},r):n()};o()})}}function Tg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=n=>this.ut(n),this.ct=n=>i.writeSequenceNumber(n))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Sg(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function _B(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nC.at=-1;class an{constructor(e,i){this.comparator=e,this.root=i||mn.EMPTY}insert(e,i){return new an(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){const e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P0(this.root,e,this.comparator,!1)}getReverseIterator(){return new P0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P0(this.root,e,this.comparator,!0)}}class P0{constructor(e,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=i?n(e.key,i):1,i&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,i,n,r,o){this.key=e,this.value=i,this.color=n!=null?n:mn.RED,this.left=r!=null?r:mn.EMPTY,this.right=o!=null?o:mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,r,o){return new mn(e!=null?e:this.key,i!=null?i:this.value,n!=null?n:this.color,r!=null?r:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return mn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,e,i,n,r){return this}insert(t,e,i){return new mn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new c4(this.data.getIterator())}getIteratorFrom(e){return new c4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){const r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new qi(this.comparator);return i.data=e,i}}class c4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Nc([])}unionWith(e){let i=new qi(Xn.comparator);for(const n of this.fields)i=i.add(n);for(const n of e)i=i.add(n);return new Nc(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Kd(this.fields,e.fields,(i,n)=>i.isEqual(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new jn(i)}static fromUint8Array(e){const i=function(n){let r="";for(let o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(e);return new jn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Bee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(t){if(Ni(!!t),typeof t=="string"){let e=0;const i=Bee.exec(t);if(Ni(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Di(t.seconds),nanos:Di(t.nanos)}}function Di(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xd(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){var e,i;return((i=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function TB(t){const e=t.mapValue.fields.__previous_value__;return rC(e)?TB(e):e}function xm(t){const e=Tl(t.mapValue.fields.__local_write_time__.timestampValue);return new Li(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(e,i,n,r,o,a,s,l){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=l}}class km{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new km("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof km&&e.projectId===this.projectId&&e.database===this.database}}function Jw(t){return t==null}function by(t){return t===0&&1/t==-1/0}function Nee(t){return typeof t=="number"&&Number.isInteger(t)&&!by(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rC(t)?4:jee(t)?9007199254740991:10:At()}function ya(t,e){if(t===e)return!0;const i=ru(t);if(i!==ru(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xm(t).isEqual(xm(e));case 3:return function(n,r){if(typeof n.timestampValue=="string"&&typeof r.timestampValue=="string"&&n.timestampValue.length===r.timestampValue.length)return n.timestampValue===r.timestampValue;const o=Tl(n.timestampValue),a=Tl(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(n,r){return Xd(n.bytesValue).isEqual(Xd(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(n,r){return Di(n.geoPointValue.latitude)===Di(r.geoPointValue.latitude)&&Di(n.geoPointValue.longitude)===Di(r.geoPointValue.longitude)}(t,e);case 2:return function(n,r){if("integerValue"in n&&"integerValue"in r)return Di(n.integerValue)===Di(r.integerValue);if("doubleValue"in n&&"doubleValue"in r){const o=Di(n.doubleValue),a=Di(r.doubleValue);return o===a?by(o)===by(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Kd(t.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:return function(n,r){const o=n.mapValue.fields||{},a=r.mapValue.fields||{};if(l4(o)!==l4(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!ya(o[s],a[s])))return!1;return!0}(t,e);default:return At()}}function _m(t,e){return(t.values||[]).find(i=>ya(i,e))!==void 0}function Jd(t,e){if(t===e)return 0;const i=ru(t),n=ru(e);if(i!==n)return Kt(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=Di(r.integerValue||r.doubleValue),s=Di(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(t,e);case 3:return u4(t.timestampValue,e.timestampValue);case 4:return u4(xm(t),xm(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(r,o){const a=Xd(r),s=Xd(o);return a.compareTo(s)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),s=o.split("/");for(let l=0;l<a.length&&l<s.length;l++){const c=Kt(a[l],s[l]);if(c!==0)return c}return Kt(a.length,s.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=Kt(Di(r.latitude),Di(o.latitude));return a!==0?a:Kt(Di(r.longitude),Di(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const a=r.values||[],s=o.values||[];for(let l=0;l<a.length&&l<s.length;++l){const c=Jd(a[l],s[l]);if(c)return c}return Kt(a.length,s.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===L0.mapValue&&o===L0.mapValue)return 0;if(r===L0.mapValue)return 1;if(o===L0.mapValue)return-1;const a=r.fields||{},s=Object.keys(a),l=o.fields||{},c=Object.keys(l);s.sort(),c.sort();for(let d=0;d<s.length&&d<c.length;++d){const f=Kt(s[d],c[d]);if(f!==0)return f;const h=Jd(a[s[d]],l[c[d]]);if(h!==0)return h}return Kt(s.length,c.length)}(t.mapValue,e.mapValue);default:throw At()}}function u4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const i=Tl(t),n=Tl(e),r=Kt(i.seconds,n.seconds);return r!==0?r:Kt(i.nanos,n.nanos)}function Rd(t){return l2(t)}function l2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xd(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,et.fromName(i).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=l2(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const s of r)a?a=!1:o+=",",o+=`${s}:${l2(n.fields[s])}`;return o+"}"}(t.mapValue):At();var e,i}function vy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function c2(t){return!!t&&"integerValue"in t}function oC(t){return!!t&&"arrayValue"in t}function d4(t){return!!t&&"nullValue"in t}function f4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nk(t){return!!t&&"mapValue"in t}function Uh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sg(t.mapValue.fields,(i,n)=>e.mapValue.fields[i]=Uh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Uh(t.arrayValue.values[i]);return e}return Object.assign({},t)}function jee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.value=e}static empty(){return new ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!nk(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uh(i)}setAll(e){let i=Xn.emptyPath(),n={},r=[];e.forEach((a,s)=>{if(!i.isImmediateParentOf(s)){const l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=s.popLast()}a?n[s.lastSegment()]=Uh(a):r.push(s.lastSegment())});const o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(e){const i=this.field(e.popLast());nk(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=i.mapValue.fields[e.get(n)];nk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,n){Sg(i,(r,o)=>e[r]=o);for(const r of n)delete e[r]}clone(){return new ia(Uh(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,i,n,r,o,a){this.key=e,this.documentType=i,this.version=n,this.readTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gn(e,0,kt.min(),kt.min(),ia.empty(),0)}static newFoundDocument(e,i,n){return new gn(e,1,i,kt.min(),n,0)}static newNoDocument(e,i){return new gn(e,2,i,kt.min(),ia.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,kt.min(),ia.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(e,i=null,n=[],r=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=a,this.endAt=s,this.ht=null}}function p4(t,e=null,i=[],n=[],r=null,o=null,a=null){return new Uee(t,e,i,n,r,o,a)}function aC(t){const e=Nt(t);if(e.ht===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>{return(r=n).field.canonicalString()+r.op.toString()+Rd(r.value);var r}).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(r){return r.field.canonicalString()+r.dir}(n)).join(","),Jw(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(n=>Rd(n)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(n=>Rd(n)).join(",")),e.ht=i}return e.ht}function Gee(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>{return`${(n=i).field.canonicalString()} ${n.op} ${Rd(n.value)}`;var n}).join(", ")}]`),Jw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>function(n){return`${n.field.canonicalString()} (${n.dir})`}(i)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Rd(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Rd(i)).join(",")),`Target(${e})`}function sC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Kee(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(i=t.filters[r],n=e.filters[r],i.op!==n.op||!i.field.isEqual(n.field)||!ya(i.value,n.value))return!1;var i,n;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m4(t.startAt,e.startAt)&&m4(t.endAt,e.endAt)}function u2(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class nr extends class{}{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.lt(e,i,n):new Hee(e,i,n):i==="array-contains"?new Vee(e,n):i==="in"?new $ee(e,n):i==="not-in"?new Qee(e,n):i==="array-contains-any"?new qee(e,n):new nr(e,i,n)}static lt(e,i,n){return i==="in"?new Wee(e,n):new Yee(e,n)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.ft(Jd(i,this.value)):i!==null&&ru(this.value)===ru(i)&&this.ft(Jd(i,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Hee extends nr{constructor(e,i,n){super(e,i,n),this.key=et.fromName(n.referenceValue)}matches(e){const i=et.comparator(e.key,this.key);return this.ft(i)}}class Wee extends nr{constructor(e,i){super(e,"in",i),this.keys=SB("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Yee extends nr{constructor(e,i){super(e,"not-in",i),this.keys=SB("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function SB(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>et.fromName(n.referenceValue))}class Vee extends nr{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return oC(i)&&_m(i.arrayValue,this.value)}}class $ee extends nr{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_m(this.value.arrayValue,i)}}class Qee extends nr{constructor(e,i){super(e,"not-in",i)}matches(e){if(_m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!_m(this.value.arrayValue,i)}}class qee extends nr{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!oC(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>_m(this.value.arrayValue,n))}}class Zd{constructor(e,i){this.position=e,this.inclusive=i}}class Pd{constructor(e,i="asc"){this.field=e,this.dir=i}}function Kee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function h4(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?n=et.comparator(et.fromName(a.referenceValue),i.key):n=Jd(a,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function m4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!ya(t.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,i=null,n=[],r=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function Xee(t,e,i,n,r,o,a,s){return new bu(t,e,i,n,r,o,a,s)}function lC(t){return new bu(t)}function g4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function uC(t){for(const e of t.filters)if(e.dt())return e.field;return null}function dC(t){return t.collectionGroup!==null}function ef(t){const e=Nt(t);if(e._t===null){e._t=[];const i=uC(e),n=cC(e);if(i!==null&&n===null)i.isKeyField()||e._t.push(new Pd(i)),e._t.push(new Pd(Xn.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e._t.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Pd(Xn.keyField(),o))}}}return e._t}function ys(t){const e=Nt(t);if(!e.wt)if(e.limitType==="F")e.wt=p4(e.path,e.collectionGroup,ef(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const o of ef(e)){const a=o.dir==="desc"?"asc":"desc";i.push(new Pd(o.field,a))}const n=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;e.wt=p4(e.path,e.collectionGroup,i,e.filters,e.limit,n,r)}return e.wt}function yy(t,e,i){return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Zw(t,e){return sC(ys(t),ys(e))&&t.limitType===e.limitType}function CB(t){return`${aC(ys(t))}|lt:${t.limitType}`}function d2(t){return`Query(target=${Gee(ys(t))}; limitType=${t.limitType})`}function fC(t,e){return e.isFoundDocument()&&function(i,n){const r=n.key.path;return i.collectionGroup!==null?n.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):et.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,n){for(const r of i.explicitOrderBy)if(!r.field.isKeyField()&&n.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,n){for(const r of i.filters)if(!r.matches(n))return!1;return!0}(t,e)&&function(i,n){return!(i.startAt&&!function(r,o,a){const s=h4(r,o,a);return r.inclusive?s<=0:s<0}(i.startAt,ef(i),n)||i.endAt&&!function(r,o,a){const s=h4(r,o,a);return r.inclusive?s>=0:s>0}(i.endAt,ef(i),n))}(t,e)}function Jee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EB(t){return(e,i)=>{let n=!1;for(const r of ef(t)){const o=Zee(r,e,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function Zee(t,e,i){const n=t.field.isKeyField()?et.comparator(e.key,i.key):function(r,o,a){const s=o.data.field(r),l=a.data.field(r);return s!==null&&l!==null?Jd(s,l):At()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return At()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:by(e)?"-0":e}}function IB(t){return{integerValue:""+t}}function ete(t,e){return Nee(e)?IB(e):zB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this._=void 0}}function tte(t,e,i){return t instanceof f2?function(n,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(i,e):t instanceof wy?RB(t,e):t instanceof Ay?PB(t,e):function(n,r){const o=nte(n,r),a=b4(o)+b4(n.yt);return c2(o)&&c2(n.yt)?IB(a):zB(n.It,a)}(t,e)}function ite(t,e,i){return t instanceof wy?RB(t,e):t instanceof Ay?PB(t,e):i}function nte(t,e){return t instanceof p2?c2(i=e)||function(n){return!!n&&"doubleValue"in n}(i)?e:{integerValue:0}:null;var i}class f2 extends eA{}class wy extends eA{constructor(e){super(),this.elements=e}}function RB(t,e){const i=LB(e);for(const n of t.elements)i.some(r=>ya(r,n))||i.push(n);return{arrayValue:{values:i}}}class Ay extends eA{constructor(e){super(),this.elements=e}}function PB(t,e){let i=LB(e);for(const n of t.elements)i=i.filter(r=>!ya(r,n));return{arrayValue:{values:i}}}class p2 extends eA{constructor(e,i){super(),this.It=e,this.yt=i}}function b4(t){return Di(t.integerValue||t.doubleValue)}function LB(t){return oC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rte(t,e){return t.field.isEqual(e.field)&&function(i,n){return i instanceof wy&&n instanceof wy||i instanceof Ay&&n instanceof Ay?Kd(i.elements,n.elements,ya):i instanceof p2&&n instanceof p2?ya(i.yt,n.yt):i instanceof f2&&n instanceof f2}(t.transform,e.transform)}class jc{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new jc}static exists(e){return new jc(void 0,e)}static updateTime(e){return new jc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pC{}function OB(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ate(t.key,jc.none()):new hC(t.key,t.data,jc.none());{const i=t.data,n=ia.empty();let r=new qi(Xn.comparator);for(let o of e.fields)if(!r.has(o)){let a=i.field(o);a===null&&o.length>1&&(o=o.popLast(),a=i.field(o)),a===null?n.delete(o):n.set(o,a),r=r.add(o)}return new tA(t.key,n,new Nc(r.toArray()),jc.none())}}function ote(t,e,i){t instanceof hC?function(n,r,o){const a=n.value.clone(),s=y4(n.fieldTransforms,r,o.transformResults);a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,i):t instanceof tA?function(n,r,o){if(!bv(n.precondition,r))return void r.convertToUnknownDocument(o.version);const a=y4(n.fieldTransforms,r,o.transformResults),s=r.data;s.setAll(DB(n)),s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,i):function(n,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,i)}function Gh(t,e,i,n){return t instanceof hC?function(r,o,a,s){if(!bv(r.precondition,o))return a;const l=r.value.clone(),c=w4(r.fieldTransforms,s,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,i,n):t instanceof tA?function(r,o,a,s){if(!bv(r.precondition,o))return a;const l=w4(r.fieldTransforms,s,o),c=o.data;return c.setAll(DB(r)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(t,e,i,n):function(r,o,a){return bv(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,i)}function v4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,n){return i===void 0&&n===void 0||!(!i||!n)&&Kd(i,n,(r,o)=>rte(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hC extends pC{constructor(e,i,n,r=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class tA extends pC{constructor(e,i,n,r,o=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DB(t){const e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}}),e}function y4(t,e,i){const n=new Map;Ni(t.length===i.length);for(let r=0;r<i.length;r++){const o=t[r],a=o.transform,s=e.data.field(o.field);n.set(o.field,ite(a,s,i[r]))}return n}function w4(t,e,i){const n=new Map;for(const r of t){const o=r.transform,a=i.data.field(r.field);n.set(r.field,tte(o,a,e))}return n}class ate extends pC{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi,Pt;function MB(t){if(t===void 0)return vs("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case Oi.OK:return Ce.OK;case Oi.CANCELLED:return Ce.CANCELLED;case Oi.UNKNOWN:return Ce.UNKNOWN;case Oi.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Oi.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Oi.INTERNAL:return Ce.INTERNAL;case Oi.UNAVAILABLE:return Ce.UNAVAILABLE;case Oi.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Oi.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Oi.NOT_FOUND:return Ce.NOT_FOUND;case Oi.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Oi.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Oi.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Oi.ABORTED:return Ce.ABORTED;case Oi.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Oi.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Oi.DATA_LOSS:return Ce.DATA_LOSS;default:return At()}}(Pt=Oi||(Oi={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(const[r,o]of n)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,i){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Sg(this.inner,(i,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return _B(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=new an(et.comparator);function Sl(){return lte}const BB=new an(et.comparator);function wh(...t){let e=BB;for(const i of t)e=e.insert(i.key,i);return e}function cte(t){let e=BB;return t.forEach((i,n)=>e=e.insert(i,n.overlayedDocument)),e}function Ic(){return Hh()}function FB(){return Hh()}function Hh(){return new Uf(t=>t.toString(),(t,e)=>t.isEqual(e))}new an(et.comparator);const ute=new qi(et.comparator);function Dt(...t){let e=ute;for(const i of t)e=e.add(i);return e}const dte=new qi(Kt);function NB(){return dte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,i,n,r,o){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,i,n){const r=new Map;return r.set(e,Cg.createSynthesizedTargetChangeForCurrentChange(e,i,n)),new iA(kt.min(),r,NB(),Sl(),Dt())}}class Cg{constructor(e,i,n,r,o){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,i,n){return new Cg(n,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i,n,r){this.Tt=e,this.removedTargetIds=i,this.key=n,this.Et=r}}class jB{constructor(e,i){this.targetId=e,this.At=i}}class UB{constructor(e,i,n=jn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=r}}class A4{constructor(){this.Rt=0,this.bt=k4(),this.Pt=jn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Dt(),i=Dt(),n=Dt();return this.bt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:At()}}),new Cg(this.Pt,this.vt,e,i,n)}Nt(){this.Vt=!1,this.bt=k4()}kt(e,i){this.Vt=!0,this.bt=this.bt.insert(e,i)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class fte{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Sl(),this.qt=x4(),this.Kt=new qi(Kt)}Gt(e){for(const i of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(i,e.Et):this.jt(i,e.key,e.Et);for(const i of e.removedTargetIds)this.jt(i,e.key,e.Et)}Wt(e){this.forEachTarget(e,i=>{const n=this.zt(i);switch(e.state){case 0:this.Ht(i)&&n.Ct(e.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(e.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(i);break;case 3:this.Ht(i)&&(n.$t(),n.Ct(e.resumeToken));break;case 4:this.Ht(i)&&(this.Jt(i),n.Ct(e.resumeToken));break;default:At()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Lt.forEach((n,r)=>{this.Ht(r)&&i(r)})}Yt(e){const i=e.targetId,n=e.At.count,r=this.Xt(i);if(r){const o=r.target;if(u2(o))if(n===0){const a=new et(o.path);this.jt(i,a,gn.newNoDocument(a,kt.min()))}else Ni(n===1);else this.Zt(i)!==n&&(this.Jt(i),this.Kt=this.Kt.add(i))}}te(e){const i=new Map;this.Lt.forEach((o,a)=>{const s=this.Xt(a);if(s){if(o.current&&u2(s.target)){const l=new et(s.target.path);this.Ut.get(l)!==null||this.ee(a,l)||this.jt(a,l,gn.newNoDocument(l,e))}o.Dt&&(i.set(a,o.xt()),o.Nt())}});let n=Dt();this.qt.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(s=!1,!1)}),s&&(n=n.add(o))}),this.Ut.forEach((o,a)=>a.setReadTime(e));const r=new iA(e,i,this.Kt,this.Ut,n);return this.Ut=Sl(),this.qt=x4(),this.Kt=new qi(Kt),r}Qt(e,i){if(!this.Ht(e))return;const n=this.ee(e,i.key)?2:0;this.zt(e).kt(i.key,n),this.Ut=this.Ut.insert(i.key,i),this.qt=this.qt.insert(i.key,this.ne(i.key).add(e))}jt(e,i,n){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,i)?r.kt(i,1):r.Ot(i),this.qt=this.qt.insert(i,this.ne(i).delete(e)),n&&(this.Ut=this.Ut.insert(i,n))}removeTarget(e){this.Lt.delete(e)}Zt(e){const i=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let i=this.Lt.get(e);return i||(i=new A4,this.Lt.set(e,i)),i}ne(e){let i=this.qt.get(e);return i||(i=new qi(Kt),this.qt=this.qt.insert(e,i)),i}Ht(e){const i=this.Xt(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xt(e){const i=this.Lt.get(e);return i&&i.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new A4),this.Bt.getRemoteKeysForTarget(e).forEach(i=>{this.jt(e,i,null)})}ee(e,i){return this.Bt.getRemoteKeysForTarget(e).has(i)}}function x4(){return new an(et.comparator)}function k4(){return new an(et.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hte=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class mte{constructor(e,i){this.databaseId=e,this.gt=i}}function h2(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GB(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Tm(t){return Ni(!!t),kt.fromTimestamp(function(e){const i=Tl(e);return new Li(i.seconds,i.nanos)}(t))}function HB(t,e){return function(i){return new ni(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function WB(t){const e=ni.fromString(t);return Ni($B(e)),e}function rk(t,e){const i=WB(e);if(i.get(1)!==t.databaseId.projectId)throw new We(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new We(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new et(YB(i))}function m2(t,e){return HB(t.databaseId,e)}function gte(t){const e=WB(t);return e.length===4?ni.emptyPath():YB(e)}function _4(t){return new ni(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YB(t){return Ni(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bte(t,e){let i;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:At()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,c){return l.gt?(Ni(c===void 0||typeof c=="string"),jn.fromBase64String(c||"")):(Ni(c===void 0||c instanceof Uint8Array),jn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(l){const c=l.code===void 0?Ce.UNKNOWN:MB(l.code);return new We(c,l.message||"")}(a);i=new UB(n,r,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=rk(t,n.document.name),o=Tm(n.document.updateTime),a=new ia({mapValue:{fields:n.document.fields}}),s=gn.newFoundDocument(r,o,a),l=n.targetIds||[],c=n.removedTargetIds||[];i=new vv(l,c,s.key,s)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=rk(t,n.document),o=n.readTime?Tm(n.readTime):kt.min(),a=gn.newNoDocument(r,o),s=n.removedTargetIds||[];i=new vv([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=rk(t,n.document),o=n.removedTargetIds||[];i=new vv([],o,r,null)}else{if(!("filter"in e))return At();{e.filter;const n=e.filter;n.targetId;const r=n.count||0,o=new ste(r),a=n.targetId;i=new jB(a,o)}}return i}function vte(t,e){return{documents:[m2(t,e.path)]}}function yte(t,e){const i={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(i.parent=m2(t,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=m2(t,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(l){if(l.length===0)return;const c=l.map(d=>function(f){if(f.op==="=="){if(f4(f.value))return{unaryFilter:{field:Ku(f.field),op:"IS_NAN"}};if(d4(f.value))return{unaryFilter:{field:Ku(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(f4(f.value))return{unaryFilter:{field:Ku(f.field),op:"IS_NOT_NAN"}};if(d4(f.value))return{unaryFilter:{field:Ku(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(f.field),op:kte(f.op),value:f.value}}}(d));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);r&&(i.structuredQuery.where=r);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Ku(d.field),direction:xte(d.dir)}}(c))}(e.orderBy);o&&(i.structuredQuery.orderBy=o);const a=function(l,c){return l.gt||Jw(c)?c:{value:c}}(t,e.limit);var s;return a!==null&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt={before:(s=e.startAt).inclusive,values:s.position}),e.endAt&&(i.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),i}function wte(t){let e=gte(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){Ni(n===1);const d=i.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];i.where&&(o=VB(i.where));let a=[];i.orderBy&&(a=i.orderBy.map(d=>function(f){return new Pd(bd(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(d)));let s=null;i.limit&&(s=function(d){let f;return f=typeof d=="object"?d.value:d,Jw(f)?null:f}(i.limit));let l=null;i.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new Zd(h,f)}(i.startAt));let c=null;return i.endAt&&(c=function(d){const f=!d.before,h=d.values||[];return new Zd(h,f)}(i.endAt)),Xee(e,r,a,o,s,"F",l,c)}function Ate(t,e){const i=function(n,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return At()}}(0,e.purpose);return i==null?null:{"goog-listen-tags":i}}function VB(t){return t?t.unaryFilter!==void 0?[Tte(t)]:t.fieldFilter!==void 0?[_te(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>VB(e)).reduce((e,i)=>e.concat(i)):At():[]}function xte(t){return pte[t]}function kte(t){return hte[t]}function Ku(t){return{fieldPath:t.canonicalString()}}function bd(t){return Xn.fromServerFormat(t.fieldPath)}function _te(t){return nr.create(bd(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(t.fieldFilter.op),t.fieldFilter.value)}function Tte(t){switch(t.unaryFilter.op){case"IS_NAN":const e=bd(t.unaryFilter.field);return nr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=bd(t.unaryFilter.field);return nr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=bd(t.unaryFilter.field);return nr.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=bd(t.unaryFilter.field);return nr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return At()}}function $B(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,i,n,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,i){const n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&ote(o,e,n[r])}}applyToLocalView(e,i){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(i=Gh(n,e,i,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(i=Gh(n,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const n=FB();return this.mutations.forEach(r=>{const o=e.get(r.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=i.has(r.key)?null:s;const l=OB(a,s);l!==null&&n.set(r.key,l),a.isValidDocument()||a.convertToNoDocument(kt.min())}),n}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&Kd(this.mutations,e.mutations,(i,n)=>v4(i,n))&&Kd(this.baseMutations,e.baseMutations,(i,n)=>v4(i,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,n,r,o=kt.min(),a=kt.min(),s=jn.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e){this.re=e}}function zte(t){const e=wte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(){this.Ye=new Rte}addToCollectionParentIndex(e,i){return this.Ye.add(i),Le.resolve()}getCollectionParents(e,i){return Le.resolve(this.Ye.getEntries(i))}addFieldIndex(e,i){return Le.resolve()}deleteFieldIndex(e,i){return Le.resolve()}getDocumentsMatchingTarget(e,i){return Le.resolve(null)}getIndexType(e,i){return Le.resolve(0)}getFieldIndexes(e,i){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,i){return Le.resolve(_l.min())}getMinOffsetFromCollectionGroup(e,i){return Le.resolve(_l.min())}updateCollectionGroup(e,i,n){return Le.resolve()}updateIndexEntries(e,i){return Le.resolve()}}class Rte{constructor(){this.index={}}add(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i]||new qi(ni.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(e){return(this.index[e]||new qi(ni.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new tf(0)}static vn(){return new tf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(){this.changes=new Uf(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const n=this.changes.get(i);return n!==void 0?Le.resolve(n):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,i,n,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,i){let n=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(n=r,this.getBaseDocument(e,i,n))).next(r=>(n!==null&&Gh(n.mutation,r,Nc.empty(),Li.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.getLocalViewOfDocuments(e,n,Dt()).next(()=>n))}getLocalViewOfDocuments(e,i,n=Dt()){const r=Ic();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,n).next(o=>{let a=wh();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,i){const n=Ic();return this.populateOverlays(e,n,i).next(()=>this.computeViews(e,i,n,Dt()))}populateOverlays(e,i,n){const r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,s)=>{i.set(a,s)})})}computeViews(e,i,n,r){let o=Sl();const a=Hh(),s=Hh();return i.forEach((l,c)=>{const d=n.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof tA)?o=o.insert(c.key,c):d!==void 0&&(a.set(c.key,d.mutation.getFieldMask()),Gh(d.mutation,c,d.mutation.getFieldMask(),Li.now()))}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>a.set(c,d)),i.forEach((c,d)=>{var f;return s.set(c,new Lte(d,(f=a.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,i){const n=Hh();let r=new an((a,s)=>a-s),o=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(a=>{for(const s of a)s.keys().forEach(l=>{const c=i.get(l);if(c===null)return;let d=n.get(l)||Nc.empty();d=s.applyToLocalView(c,d),n.set(l,d);const f=(r.get(s.batchId)||Dt()).add(l);r=r.insert(s.batchId,f)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,d=l.value,f=FB();d.forEach(h=>{if(!o.has(h)){const m=OB(i.get(h),n.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Le.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,i,n){return function(r){return et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dC(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,n):this.getDocumentsMatchingCollectionQuery(e,i,n)}getNextDocuments(e,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,n,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,n.largestBatchId,r-o.size):Le.resolve(Ic());let s=-1,l=o;return a.next(c=>Le.forEach(c,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?Le.resolve():this.getBaseDocument(e,d,f).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Dt())).next(d=>({batchId:s,changes:cte(d)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new et(i)).next(n=>{let r=wh();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,n){const r=i.collectionGroup;let o=wh();return this.indexManager.getCollectionParents(e,r).next(a=>Le.forEach(a,s=>{const l=function(c,d){return new bu(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(i,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,n).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,i,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,i.path,n).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(e,i.path,n.largestBatchId))).next(o=>{o.forEach((s,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,gn.newInvalidDocument(c)))});let a=wh();return r.forEach((s,l)=>{const c=o.get(s);c!==void 0&&Gh(c.mutation,l,Nc.empty(),Li.now()),fC(i,l)&&(a=a.insert(s,l))}),a})}getBaseDocument(e,i,n){return n===null||n.mutation.type===1?this.remoteDocumentCache.getEntry(e,i):Le.resolve(gn.newInvalidDocument(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,i){return Le.resolve(this.Zn.get(i))}saveBundleMetadata(e,i){var n;return this.Zn.set(i.id,{id:(n=i).id,version:n.version,createTime:Tm(n.createTime)}),Le.resolve()}getNamedQuery(e,i){return Le.resolve(this.ts.get(i))}saveNamedQuery(e,i){return this.ts.set(i.name,function(n){return{name:n.name,query:zte(n.bundledQuery),readTime:Tm(n.readTime)}}(i)),Le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(){this.overlays=new an(et.comparator),this.es=new Map}getOverlay(e,i){return Le.resolve(this.overlays.get(i))}getOverlays(e,i){const n=Ic();return Le.forEach(i,r=>this.getOverlay(e,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(e,i,n){return n.forEach((r,o)=>{this.ue(e,i,o)}),Le.resolve()}removeOverlaysForBatchId(e,i,n){const r=this.es.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(n)),Le.resolve()}getOverlaysForCollection(e,i,n){const r=Ic(),o=i.length+1,a=new et(i.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!i.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>n&&r.set(l.getKey(),l)}return Le.resolve(r)}getOverlaysForCollectionGroup(e,i,n,r){let o=new an((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===i&&c.largestBatchId>n){let d=o.get(c.largestBatchId);d===null&&(d=Ic(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const s=Ic(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>s.set(c,d)),!(s.size()>=r)););return Le.resolve(s)}ue(e,i,n){const r=this.overlays.get(n.key);if(r!==null){const a=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Cte(i,n));let o=this.es.get(i);o===void 0&&(o=Dt(),this.es.set(i,o)),this.es.set(i,o.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.ns=new qi(Xi.ss),this.rs=new qi(Xi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,i){const n=new Xi(e,i);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.cs(new Xi(e,i))}hs(e,i){e.forEach(n=>this.removeReference(n,i))}ls(e){const i=new et(new ni([])),n=new Xi(i,e),r=new Xi(i,e+1),o=[];return this.rs.forEachInRange([n,r],a=>{this.cs(a),o.push(a.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const i=new et(new ni([])),n=new Xi(i,e),r=new Xi(i,e+1);let o=Dt();return this.rs.forEachInRange([n,r],a=>{o=o.add(a.key)}),o}containsKey(e){const i=new Xi(e,0),n=this.ns.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}}class Xi{constructor(e,i){this.key=e,this._s=i}static ss(e,i){return et.comparator(e.key,i.key)||Kt(e._s,i._s)}static os(e,i){return Kt(e._s,i._s)||et.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.ws=1,this.gs=new qi(Xi.ss)}checkEmpty(e){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,n,r){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Ste(o,i,n,r);this.mutationQueue.push(a);for(const s of r)this.gs=this.gs.add(new Xi(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Le.resolve(a)}lookupMutationBatch(e,i){return Le.resolve(this.ys(i))}getNextMutationBatchAfterBatchId(e,i){const n=i+1,r=this.ps(n),o=r<0?0:r;return Le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const n=new Xi(i,0),r=new Xi(i,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([n,r],a=>{const s=this.ys(a._s);o.push(s)}),Le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new qi(Kt);return i.forEach(r=>{const o=new Xi(r,0),a=new Xi(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,a],s=>{n=n.add(s._s)})}),Le.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,i){const n=i.path,r=n.length+1;let o=n;et.isDocumentKey(o)||(o=o.child(""));const a=new Xi(new et(o),0);let s=new qi(Kt);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===r&&(s=s.add(l._s)),!0)},a),Le.resolve(this.Is(s))}Is(e){const i=[];return e.forEach(n=>{const r=this.ys(n);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){Ni(this.Ts(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.gs;return Le.forEach(i.mutations,r=>{const o=new Xi(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,i){const n=new Xi(i,0),r=this.gs.firstAfterOrEqual(n);return Le.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}Ts(e,i){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const i=this.ps(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(e){this.Es=e,this.docs=new an(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const n=i.key,r=this.docs.get(n),o=r?r.size:0,a=this.Es(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const n=this.docs.get(i);return Le.resolve(n?n.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let n=Sl();return i.forEach(r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():gn.newInvalidDocument(r))}),Le.resolve(n)}getAllFromCollection(e,i,n){let r=Sl();const o=new et(i.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:s,value:{document:l}}=a.getNext();if(!i.isPrefixOf(s.path))break;s.path.length>i.length+1||Oee(Lee(l),n)<=0||(r=r.insert(l.key,l.mutableCopy()))}return Le.resolve(r)}getAllFromCollectionGroup(e,i,n,r){At()}As(e,i){return Le.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new Nte(this)}getSize(e){return Le.resolve(this.size)}}class Nte extends Pte{constructor(e){super(),this.Yn=e}applyChanges(e){const i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)}),Le.waitFor(i)}getFromCache(e,i){return this.Yn.getEntry(e,i)}getAllFromCache(e,i){return this.Yn.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e){this.persistence=e,this.Rs=new Uf(i=>aC(i),sC),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mC,this.targetCount=0,this.vs=tf.Pn()}forEachTarget(e,i){return this.Rs.forEach((n,r)=>i(r)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.bs&&(this.bs=i),Le.resolve()}Dn(e){this.Rs.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.vs=new tf(i),this.highestTargetId=i),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,i){return this.Dn(i),this.targetCount+=1,Le.resolve()}updateTargetData(e,i){return this.Dn(i),Le.resolve()}removeTargetData(e,i){return this.Rs.delete(i.target),this.Ps.ls(i.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,i,n){let r=0;const o=[];return this.Rs.forEach((a,s)=>{s.sequenceNumber<=i&&n.get(s.targetId)===null&&(this.Rs.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Le.waitFor(o).next(()=>r)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,i){const n=this.Rs.get(i)||null;return Le.resolve(n)}addMatchingKeys(e,i,n){return this.Ps.us(i,n),Le.resolve()}removeMatchingKeys(e,i,n){this.Ps.hs(i,n);const r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),Le.waitFor(o)}removeMatchingKeysForTargetId(e,i){return this.Ps.ls(i),Le.resolve()}getMatchingKeysForTargetId(e,i){const n=this.Ps.ds(i);return Le.resolve(n)}containsKey(e,i){return Le.resolve(this.Ps.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,i){this.Vs={},this.overlays={},this.Ss=new nC(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new jte(this),this.indexManager=new Ite,this.remoteDocumentCache=function(n){return new Fte(n)}(n=>this.referenceDelegate.xs(n)),this.It=new Ete(i),this.Ns=new Dte(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Mte,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let n=this.Vs[e.toKey()];return n||(n=new Bte(i,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,i,n){it("MemoryPersistence","Starting transaction:",e);const r=new Gte(this.Ss.next());return this.referenceDelegate.ks(),n(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(e,i){return Le.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,i)))}}class Gte extends Mee{constructor(e){super(),this.currentSequenceNumber=e}}class gC{constructor(e){this.persistence=e,this.Fs=new mC,this.$s=null}static Bs(e){return new gC(e)}get Ls(){if(this.$s)return this.$s;throw At()}addReference(e,i,n){return this.Fs.addReference(n,i),this.Ls.delete(n.toString()),Le.resolve()}removeReference(e,i,n){return this.Fs.removeReference(n,i),this.Ls.add(n.toString()),Le.resolve()}markPotentiallyOrphaned(e,i){return this.Ls.add(i.toString()),Le.resolve()}removeTarget(e,i){this.Fs.ls(i.targetId).forEach(r=>this.Ls.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>n.removeTargetData(e,i))}ks(){this.$s=new Set}Os(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Ls,n=>{const r=et.fromPath(n);return this.Us(e,r).next(o=>{o||i.removeEntry(r,kt.min())})}).next(()=>(this.$s=null,i.apply(e)))}updateLimboDocument(e,i){return this.Us(e,i).next(n=>{n?this.Ls.delete(i.toString()):this.Ls.add(i.toString())})}xs(e){return 0}Us(e,i){return Le.or([()=>Le.resolve(this.Fs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ms(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,i,n,r){this.targetId=e,this.fromCache=i,this.Si=n,this.Di=r}static Ci(e,i){let n=Dt(),r=Dt();for(const o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new bC(e,i.fromCache,n,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(){this.xi=!1}initialize(e,i){this.Ni=e,this.indexManager=i,this.xi=!0}getDocumentsMatchingQuery(e,i,n,r){return this.ki(e,i).next(o=>o||this.Oi(e,i,r,n)).next(o=>o||this.Mi(e,i))}ki(e,i){if(g4(i))return Le.resolve(null);let n=ys(i);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=yy(i,null,"F"),n=ys(i)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const a=Dt(...o);return this.Ni.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Fi(i,s);return this.$i(i,c,a,l.readTime)?this.ki(e,yy(i,null,"F")):this.Bi(e,c,i,l)}))})))}Oi(e,i,n,r){return g4(i)||r.isEqual(kt.min())?this.Mi(e,i):this.Ni.getDocuments(e,n).next(o=>{const a=this.Fi(i,o);return this.$i(i,a,n,r)?this.Mi(e,i):(s4()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),d2(i)),this.Bi(e,a,i,Pee(r,-1)))})}Fi(e,i){let n=new qi(EB(e));return i.forEach((r,o)=>{fC(e,o)&&(n=n.add(o))}),n}$i(e,i,n,r){if(e.limit===null)return!1;if(n.size!==i.size)return!0;const o=e.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(e,i){return s4()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",d2(i)),this.Ni.getDocumentsMatchingQuery(e,i,_l.min())}Bi(e,i,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next(o=>(i.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e,i,n,r){this.persistence=e,this.Li=i,this.It=r,this.Ui=new an(Kt),this.qi=new Uf(o=>aC(o),sC),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ote(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ui))}}function Yte(t,e,i,n){return new Wte(t,e,i,n)}async function QB(t,e){const i=Nt(t);return await i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i.Qi(e),i.mutationQueue.getAllMutationBatches(n))).next(o=>{const a=[],s=[];let l=Dt();for(const c of r){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return i.localDocuments.getDocuments(n,l).next(c=>({ji:c,removedBatchIds:a,addedBatchIds:s}))})})}function qB(t){const e=Nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Cs.getLastRemoteSnapshotVersion(i))}function Vte(t,e){const i=Nt(t),n=e.snapshotVersion;let r=i.Ui;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=i.Gi.newChangeBuffer({trackRemovals:!0});r=i.Ui;const s=[];e.targetChanges.forEach((d,f)=>{const h=r.get(f);if(!h)return;s.push(i.Cs.removeMatchingKeys(o,d.removedDocuments,f).next(()=>i.Cs.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(f)?m=m.withResumeToken(jn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),r=r.insert(f,m),function(v,w,g){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,m,d)&&s.push(i.Cs.updateTargetData(o,m))});let l=Sl(),c=Dt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(i.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push($te(o,a,e.documentUpdates).next(d=>{l=d.Wi,c=d.zi})),!n.isEqual(kt.min())){const d=i.Cs.getLastRemoteSnapshotVersion(o).next(f=>i.Cs.setTargetsMetadata(o,o.currentSequenceNumber,n));s.push(d)}return Le.waitFor(s).next(()=>a.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(i.Ui=r,o))}function $te(t,e,i){let n=Dt(),r=Dt();return i.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let a=Sl();return i.forEach((s,l)=>{const c=o.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(s)),l.isNoDocument()&&l.version.isEqual(kt.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):it("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Wi:a,zi:r}})}function Qte(t,e){const i=Nt(t);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Cs.getTargetData(n,e).next(o=>o?(r=o,Le.resolve(r)):i.Cs.allocateTargetId(n).next(a=>(r=new Uc(e,a,0,n.currentSequenceNumber),i.Cs.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=i.Ui.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.Ui=i.Ui.insert(n.targetId,n),i.qi.set(e,n.targetId)),n})}async function g2(t,e,i){const n=Nt(t),r=n.Ui.get(e),o=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",o,a=>n.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Tg(a))throw a;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ui=n.Ui.remove(e),n.qi.delete(r.target)}function T4(t,e,i){const n=Nt(t);let r=kt.min(),o=Dt();return n.persistence.runTransaction("Execute query","readonly",a=>function(s,l,c){const d=Nt(s),f=d.qi.get(c);return f!==void 0?Le.resolve(d.Ui.get(f)):d.Cs.getTargetData(l,c)}(n,a,ys(e)).next(s=>{if(s)return r=s.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>n.Li.getDocumentsMatchingQuery(a,e,i?r:kt.min(),i?o:Dt())).next(s=>(qte(n,Jee(e),s),{documents:s,Hi:o})))}function qte(t,e,i){let n=t.Ki.get(e)||kt.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.Ki.set(e,n)}class S4{constructor(){this.activeTargetIds=NB()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kte{constructor(){this.Lr=new S4,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,i,n){this.Ur[e]=i}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new S4,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http";this.oo=i+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,i,n,r,o){const a=this.ho(e,i);it("RestConnection","Sending: ",a,n);const s={};return this.lo(s,r,o),this.fo(e,a,s,n).then(l=>(it("RestConnection","Received: ",l),l),l=>{throw s2("RestConnection",`${e} failed with error: `,l,"url: ",a,"request:",n),l})}_o(e,i,n,r,o,a){return this.ao(e,i,n,r,o)}lo(e,i,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>e[o]=r),n&&n.headers.forEach((r,o)=>e[o]=r)}ho(e,i){const n=Jte[e];return`${this.oo}/v1/${i}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,i,n,r){return new Promise((o,a)=>{const s=new xee;s.setWithCredentials(!0),s.listenOnce(yee.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case ik.NO_ERROR:const c=s.getResponseJson();it("Connection","XHR received:",JSON.stringify(c)),o(c);break;case ik.TIMEOUT:it("Connection",'RPC "'+e+'" timed out'),a(new We(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case ik.HTTP_ERROR:const d=s.getStatus();if(it("Connection",'RPC "'+e+'" failed with status:',d,"response text:",s.getResponseText()),d>0){const f=s.getResponseJson().error;if(f&&f.status&&f.message){const h=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(v)>=0?v:Ce.UNKNOWN}(f.status);a(new We(h,f.message))}else a(new We(Ce.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new We(Ce.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{it("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);s.send(i,"POST",l,n,15)})}wo(e,i,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bee(),a=vee(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Aee({})),this.lo(s.initMessageHeaders,i,n),s.encodeInitMessageHeaders=!0;const l=r.join("");it("Connection","Creating WebChannel: "+l,s);const c=o.createWebChannel(l,s);let d=!1,f=!1;const h=new Zte({Hr:v=>{f?it("Connection","Not sending because WebChannel is closed:",v):(d||(it("Connection","Opening WebChannel transport."),c.open(),d=!0),it("Connection","WebChannel sending:",v),c.send(v))},Jr:()=>c.close()}),m=(v,w,g)=>{v.listen(w,A=>{try{g(A)}catch(x){setTimeout(()=>{throw x},0)}})};return m(c,R0.EventType.OPEN,()=>{f||it("Connection","WebChannel transport opened.")}),m(c,R0.EventType.CLOSE,()=>{f||(f=!0,it("Connection","WebChannel transport closed"),h.io())}),m(c,R0.EventType.ERROR,v=>{f||(f=!0,s2("Connection","WebChannel transport errored:",v),h.io(new We(Ce.UNAVAILABLE,"The operation could not be completed")))}),m(c,R0.EventType.MESSAGE,v=>{var w;if(!f){const g=v.data[0];Ni(!!g);const A=g,x=A.error||((w=A[0])===null||w===void 0?void 0:w.error);if(x){it("Connection","WebChannel received error:",x);const T=x.status;let E=function(L){const B=Oi[L];if(B!==void 0)return MB(B)}(T),z=x.message;E===void 0&&(E=Ce.INTERNAL,z="Unknown error status: "+T+" with message "+x.message),f=!0,h.io(new We(E,z)),c.close()}else it("Connection","WebChannel received:",g),h.ro(g)}}),m(a,wee.STAT_EVENT,v=>{v.stat===o4.PROXY?it("Connection","Detected buffering proxy"):v.stat===o4.NOPROXY&&it("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function ok(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){return new mte(t,!0)}class KB{constructor(e,i,n=1e3,r=1.5,o=6e4){this.Hs=e,this.timerId=i,this.mo=n,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const i=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,i-n);r>0&&it("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e,i,n,r,o,a,s,l){this.Hs=e,this.vo=n,this.Vo=r,this.So=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new KB(e,i)}ko(){return this.state===1||this.state===5||this.Oo()}Oo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&this.Co===null&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Oo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,i){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():i&&i.code===Ce.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):i&&i.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(i)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),i=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Do===i&&this.Qo(n,r)},n=>{e(()=>{const r=new We(Ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.jo(r)})})}Qo(e,i){const n=this.Go(this.Do);this.stream=this.Wo(e,i),this.stream.Yr(()=>{n(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{n(()=>this.jo(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Mo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return i=>{this.Hs.enqueueAndForget(()=>this.Do===e?i():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iie extends tie{constructor(e,i,n,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,a),this.It=o}Wo(e,i){return this.So.wo("Listen",e,i)}onMessage(e){this.No.reset();const i=bte(this.It,e),n=function(r){if(!("targetChange"in r))return kt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?kt.min():o.readTime?Tm(o.readTime):kt.min()}(e);return this.listener.zo(i,n)}Ho(e){const i={};i.database=_4(this.It),i.addTarget=function(r,o){let a;const s=o.target;return a=u2(s)?{documents:vte(r,s)}:{query:yte(r,s)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=GB(r,o.resumeToken):o.snapshotVersion.compareTo(kt.min())>0&&(a.readTime=h2(r,o.snapshotVersion.toTimestamp())),a}(this.It,e);const n=Ate(this.It,e);n&&(i.labels=n),this.Lo(i)}Jo(e){const i={};i.database=_4(this.It),i.removeTarget=e,this.Lo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nie extends class{}{constructor(e,i,n,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.So=n,this.It=r,this.su=!1}iu(){if(this.su)throw new We(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,i,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.So.ao(e,i,n,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new We(Ce.UNKNOWN,r.toString())})}_o(e,i,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.So._o(e,i,n,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Ce.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class rie{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){this.ru===0&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(vs(i),this.uu=!1):it("OnlineStateTracker",i)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(e,i,n,r,o){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.qr(a=>{n.enqueueAndForget(async()=>{zg(this)&&(it("RemoteStore","Restarting streams for network reachability change."),await async function(s){const l=Nt(s);l.wu.add(4),await Eg(l),l.yu.set("Unknown"),l.wu.delete(4),await rA(l)}(this))})}),this.yu=new rie(n,r)}}async function rA(t){if(zg(t))for(const e of t.mu)await e(!0)}async function Eg(t){for(const e of t.mu)await e(!1)}function XB(t,e){const i=Nt(t);i._u.has(e.targetId)||(i._u.set(e.targetId,e),wC(i)?yC(i):Gf(i).Oo()&&vC(i,e))}function JB(t,e){const i=Nt(t),n=Gf(i);i._u.delete(e),n.Oo()&&ZB(i,e),i._u.size===0&&(n.Oo()?n.$o():zg(i)&&i.yu.set("Unknown"))}function vC(t,e){t.pu.Mt(e.targetId),Gf(t).Ho(e)}function ZB(t,e){t.pu.Mt(e),Gf(t).Jo(e)}function yC(t){t.pu=new fte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t._u.get(e)||null}),Gf(t).start(),t.yu.cu()}function wC(t){return zg(t)&&!Gf(t).ko()&&t._u.size>0}function zg(t){return Nt(t).wu.size===0}function e6(t){t.pu=void 0}async function aie(t){t._u.forEach((e,i)=>{vC(t,e)})}async function sie(t,e){e6(t),wC(t)?(t.yu.lu(e),yC(t)):t.yu.set("Unknown")}async function lie(t,e,i){if(t.yu.set("Online"),e instanceof UB&&e.state===2&&e.cause)try{await async function(n,r){const o=r.cause;for(const a of r.targetIds)n._u.has(a)&&(await n.remoteSyncer.rejectListen(a,o),n._u.delete(a),n.pu.removeTarget(a))}(t,e)}catch(n){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await E4(t,n)}else if(e instanceof vv?t.pu.Gt(e):e instanceof jB?t.pu.Yt(e):t.pu.Wt(e),!i.isEqual(kt.min()))try{const n=await qB(t.localStore);i.compareTo(n)>=0&&await function(r,o){const a=r.pu.te(o);return a.targetChanges.forEach((s,l)=>{if(s.resumeToken.approximateByteSize()>0){const c=r._u.get(l);c&&r._u.set(l,c.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach(s=>{const l=r._u.get(s);if(!l)return;r._u.set(s,l.withResumeToken(jn.EMPTY_BYTE_STRING,l.snapshotVersion)),ZB(r,s);const c=new Uc(l.target,s,1,l.sequenceNumber);vC(r,c)}),r.remoteSyncer.applyRemoteEvent(a)}(t,i)}catch(n){it("RemoteStore","Failed to raise snapshot:",n),await E4(t,n)}}async function E4(t,e,i){if(!Tg(e))throw e;t.wu.add(1),await Eg(t),t.yu.set("Offline"),i||(i=()=>qB(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{it("RemoteStore","Retrying IndexedDB access"),await i(),t.wu.delete(1),await rA(t)})}async function z4(t,e){const i=Nt(t);i.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const n=zg(i);i.wu.add(3),await Eg(i),n&&i.yu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.wu.delete(3),await rA(i)}async function cie(t,e){const i=Nt(t);e?(i.wu.delete(2),await rA(i)):e||(i.wu.add(2),await Eg(i),i.yu.set("Unknown"))}function Gf(t){return t.Iu||(t.Iu=function(e,i,n){const r=Nt(e);return r.iu(),new iie(i,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(t.datastore,t.asyncQueue,{Yr:aie.bind(null,t),Zr:sie.bind(null,t),zo:lie.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),wC(t)?yC(t):t.yu.set("Unknown")):(await t.Iu.stop(),e6(t))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,i,n,r,o){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,i,n,r,o){const a=Date.now()+n,s=new AC(e,i,a,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t6(t,e){if(vs("AsyncQueue",`${e}: ${t}`),Tg(t))return new We(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.comparator=e?(i,n)=>e(i,n)||et.comparator(i.key,n.key):(i,n)=>et.comparator(i.key,n.key),this.keyedMap=wh(),this.sortedSet=new an(this.comparator)}static emptySet(e){return new Ld(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ld)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){const r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const n=new Ld;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Eu=new an(et.comparator)}track(e){const i=e.doc.key,n=this.Eu.get(i);n?e.type!==0&&n.type===3?this.Eu=this.Eu.insert(i,e):e.type===3&&n.type!==1?this.Eu=this.Eu.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Eu=this.Eu.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Eu=this.Eu.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Eu=this.Eu.remove(i):e.type===1&&n.type===2?this.Eu=this.Eu.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Eu=this.Eu.insert(i,{type:2,doc:e.doc}):At():this.Eu=this.Eu.insert(i,e)}Au(){const e=[];return this.Eu.inorderTraversal((i,n)=>{e.push(n)}),e}}class nf{constructor(e,i,n,r,o,a,s,l,c){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,i,n,r,o){const a=[];return i.forEach(s=>{a.push({type:0,doc:s})}),new nf(e,i,Ld.emptySet(i),a,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(){this.Ru=void 0,this.listeners=[]}}class die{constructor(){this.queries=new Uf(e=>CB(e),Zw),this.onlineState="Unknown",this.bu=new Set}}async function i6(t,e){const i=Nt(t),n=e.query;let r=!1,o=i.queries.get(n);if(o||(r=!0,o=new uie),r)try{o.Ru=await i.onListen(n)}catch(a){const s=t6(a,`Initialization of query '${d2(e.query)}' failed`);return void e.onError(s)}i.queries.set(n,o),o.listeners.push(e),e.Pu(i.onlineState),o.Ru&&e.vu(o.Ru)&&xC(i)}async function n6(t,e){const i=Nt(t),n=e.query;let r=!1;const o=i.queries.get(n);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),r=o.listeners.length===0)}if(r)return i.queries.delete(n),i.onUnlisten(n)}function fie(t,e){const i=Nt(t);let n=!1;for(const r of e){const o=r.query,a=i.queries.get(o);if(a){for(const s of a.listeners)s.vu(r)&&(n=!0);a.Ru=r}}n&&xC(i)}function pie(t,e,i){const n=Nt(t),r=n.queries.get(e);if(r)for(const o of r.listeners)o.onError(i);n.queries.delete(e)}function xC(t){t.bu.forEach(e=>{e.next()})}class r6{constructor(e,i,n){this.query=e,this.Vu=i,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=n||{}}vu(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new nf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),i=!0):this.xu(e,this.onlineState)&&(this.Nu(e),i=!0),this.Du=e,i}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let i=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),i=!0),i}xu(e,i){if(!e.fromCache)return!0;const n=i!=="Offline";return(!this.options.ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const i=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Nu(e){e=nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.key=e}}class a6{constructor(e){this.key=e}}class hie{constructor(e,i){this.query=e,this.Uu=i,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Dt(),this.mutatedKeys=Dt(),this.Gu=EB(e),this.Qu=new Ld(this.Gu)}get ju(){return this.Uu}Wu(e,i){const n=i?i.zu:new I4,r=i?i.Qu:this.Qu;let o=i?i.mutatedKeys:this.mutatedKeys,a=r,s=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const h=r.get(d),m=fC(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let g=!1;h&&m?h.data.isEqual(m.data)?v!==w&&(n.track({type:3,doc:m}),g=!0):this.Hu(h,m)||(n.track({type:2,doc:m}),g=!0,(l&&this.Gu(m,l)>0||c&&this.Gu(m,c)<0)&&(s=!0)):!h&&m?(n.track({type:0,doc:m}),g=!0):h&&!m&&(n.track({type:1,doc:h}),g=!0,(l||c)&&(s=!0)),g&&(m?(a=a.add(m),o=w?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Qu:a,zu:n,$i:s,mutatedKeys:o}}Hu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Au();o.sort((c,d)=>function(f,h){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return m(f)-m(h)}(c.type,d.type)||this.Gu(c.doc,d.doc)),this.Ju(n);const a=i?this.Yu():[],s=this.Ku.size===0&&this.current?1:0,l=s!==this.qu;return this.qu=s,o.length!==0||l?{snapshot:new nf(this.query,e.Qu,r,o,e.mutatedKeys,s===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:a}:{Xu:a}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new I4,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(i=>this.Uu=this.Uu.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Uu=this.Uu.delete(i)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Dt(),this.Qu.forEach(n=>{this.Zu(n.key)&&(this.Ku=this.Ku.add(n.key))});const i=[];return e.forEach(n=>{this.Ku.has(n)||i.push(new a6(n))}),this.Ku.forEach(n=>{e.has(n)||i.push(new o6(n))}),i}tc(e){this.Uu=e.Hi,this.Ku=Dt();const i=this.Wu(e.documents);return this.applyChanges(i,!0)}ec(){return nf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class mie{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}}class gie{constructor(e){this.key=e,this.nc=!1}}class bie{constructor(e,i,n,r,o,a){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.sc={},this.ic=new Uf(s=>CB(s),Zw),this.rc=new Map,this.oc=new Set,this.uc=new an(et.comparator),this.cc=new Map,this.ac=new mC,this.hc={},this.lc=new Map,this.fc=tf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function vie(t,e){const i=Tie(t);let n,r;const o=i.ic.get(e);if(o)n=o.targetId,i.sharedClientState.addLocalQueryTarget(n),r=o.view.ec();else{const a=await Qte(i.localStore,ys(e));i.isPrimaryClient&&XB(i.remoteStore,a);const s=i.sharedClientState.addLocalQueryTarget(a.targetId);n=a.targetId,r=await yie(i,e,n,s==="current",a.resumeToken)}return r}async function yie(t,e,i,n,r){t._c=(f,h,m)=>async function(v,w,g,A){let x=w.view.Wu(g);x.$i&&(x=await T4(v.localStore,w.query,!1).then(({documents:z})=>w.view.Wu(z,x)));const T=A&&A.targetChanges.get(w.targetId),E=w.view.applyChanges(x,v.isPrimaryClient,T);return P4(v,w.targetId,E.Xu),E.snapshot}(t,f,h,m);const o=await T4(t.localStore,e,!0),a=new hie(e,o.Hi),s=a.Wu(o.documents),l=Cg.createSynthesizedTargetChangeForCurrentChange(i,n&&t.onlineState!=="Offline",r),c=a.applyChanges(s,t.isPrimaryClient,l);P4(t,i,c.Xu);const d=new mie(e,i,a);return t.ic.set(e,d),t.rc.has(i)?t.rc.get(i).push(e):t.rc.set(i,[e]),c.snapshot}async function wie(t,e){const i=Nt(t),n=i.ic.get(e),r=i.rc.get(n.targetId);if(r.length>1)return i.rc.set(n.targetId,r.filter(o=>!Zw(o,e))),void i.ic.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await g2(i.localStore,n.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(n.targetId),JB(i.remoteStore,n.targetId),b2(i,n.targetId)}).catch(iC)):(b2(i,n.targetId),await g2(i.localStore,n.targetId,!0))}async function s6(t,e){const i=Nt(t);try{const n=await Vte(i.localStore,e);e.targetChanges.forEach((r,o)=>{const a=i.cc.get(o);a&&(Ni(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.nc=!0:r.modifiedDocuments.size>0?Ni(a.nc):r.removedDocuments.size>0&&(Ni(a.nc),a.nc=!1))}),await c6(i,n,e)}catch(n){await iC(n)}}function R4(t,e,i){const n=Nt(t);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){const r=[];n.ic.forEach((o,a)=>{const s=a.view.Pu(e);s.snapshot&&r.push(s.snapshot)}),function(o,a){const s=Nt(o);s.onlineState=a;let l=!1;s.queries.forEach((c,d)=>{for(const f of d.listeners)f.Pu(a)&&(l=!0)}),l&&xC(s)}(n.eventManager,e),r.length&&n.sc.zo(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Aie(t,e,i){const n=Nt(t);n.sharedClientState.updateQueryState(e,"rejected",i);const r=n.cc.get(e),o=r&&r.key;if(o){let a=new an(et.comparator);a=a.insert(o,gn.newNoDocument(o,kt.min()));const s=Dt().add(o),l=new iA(kt.min(),new Map,new qi(Kt),a,s);await s6(n,l),n.uc=n.uc.remove(o),n.cc.delete(e),kC(n)}else await g2(n.localStore,e,!1).then(()=>b2(n,e,i)).catch(iC)}function b2(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.rc.get(e))t.ic.delete(n),i&&t.sc.wc(n,i);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(n=>{t.ac.containsKey(n)||l6(t,n)})}function l6(t,e){t.oc.delete(e.path.canonicalString());const i=t.uc.get(e);i!==null&&(JB(t.remoteStore,i),t.uc=t.uc.remove(e),t.cc.delete(i),kC(t))}function P4(t,e,i){for(const n of i)n instanceof o6?(t.ac.addReference(n.key,e),xie(t,n)):n instanceof a6?(it("SyncEngine","Document no longer in limbo: "+n.key),t.ac.removeReference(n.key,e),t.ac.containsKey(n.key)||l6(t,n.key)):At()}function xie(t,e){const i=e.key,n=i.path.canonicalString();t.uc.get(i)||t.oc.has(n)||(it("SyncEngine","New document in limbo: "+i),t.oc.add(n),kC(t))}function kC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const i=new et(ni.fromString(e)),n=t.fc.next();t.cc.set(n,new gie(i)),t.uc=t.uc.insert(i,n),XB(t.remoteStore,new Uc(ys(lC(i.path)),n,2,nC.at))}}async function c6(t,e,i){const n=Nt(t),r=[],o=[],a=[];n.ic.isEmpty()||(n.ic.forEach((s,l)=>{a.push(n._c(l,e,i).then(c=>{if((c||i)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const d=bC.Ci(l.targetId,c);o.push(d)}}))}),await Promise.all(a),n.sc.zo(r),await async function(s,l){const c=Nt(s);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Le.forEach(l,f=>Le.forEach(f.Si,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>Le.forEach(f.Di,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Tg(d))throw d;it("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const h=c.Ui.get(f),m=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(m);c.Ui=c.Ui.insert(f,v)}}}(n.localStore,o))}async function kie(t,e){const i=Nt(t);if(!i.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const n=await QB(i.localStore,e);i.currentUser=e,function(r,o){r.lc.forEach(a=>{a.forEach(s=>{s.reject(new We(Ce.CANCELLED,o))})}),r.lc.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await c6(i,n.ji)}}function _ie(t,e){const i=Nt(t),n=i.cc.get(e);if(n&&n.nc)return Dt().add(n.key);{let r=Dt();const o=i.rc.get(e);if(!o)return r;for(const a of o){const s=i.ic.get(a);r=r.unionWith(s.view.ju)}return r}}function Tie(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_ie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aie.bind(null,e),e.sc.zo=fie.bind(null,e.eventManager),e.sc.wc=pie.bind(null,e.eventManager),e}class Sie{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=nA(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,i){return null}Ec(e,i){return null}Ic(e){return Yte(this.persistence,new Hte,e.initialUser,this.It)}yc(e){return new Ute(gC.Bs,this.It)}gc(e){return new Kte}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Cie{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>R4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=kie.bind(null,this.syncEngine),await cie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new die}createDatastore(e){const i=nA(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new eie(r));var r;return function(o,a,s,l){return new nie(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return i=this.localStore,n=this.datastore,r=e.asyncQueue,o=s=>R4(this.syncEngine,s,0),a=C4.C()?new C4:new Xte,new oie(i,n,r,o,a);var i,n,r,o,a}createSyncEngine(e,i){return function(n,r,o,a,s,l,c){const d=new bie(n,r,o,a,s,l);return c&&(d.dc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return async function(e){const i=Nt(e);it("RemoteStore","RemoteStore shutting down."),i.wu.add(5),await Eg(i),i.gu.shutdown(),i.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e,i){if(!i)throw new We(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Eie(t,e,i,n){if(e===!0&&n===!0)throw new We(Ce.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function L4(t){if(!et.isDocumentKey(t))throw new We(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O4(t){if(et.isDocumentKey(t))throw new We(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At()}function Sm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oA(t);throw new We(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function zie(t,e){if(e<=0)throw new We(Ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Map;class M4{constructor(e){var i;if(e.host===void 0){if(e.ssl!==void 0)throw new We(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Eie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i,n,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new We(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M4(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kee;switch(i.type){case"gapi":const n=i.client;return new Cee(n,i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new We(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=D4.get(e);i&&(it("ComponentProvider","Removing Datastore"),D4.delete(e),i.terminate())}(this),Promise.resolve()}}function Iie(t,e,i,n={}){var r;const o=(t=Sm(t,aA))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&s2("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${i}`,ssl:!1})),n.mockUserToken){let a,s;if(typeof n.mockUserToken=="string")a=n.mockUserToken,s=Ln.MOCK_USER;else{a=u8(n.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new We(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Ln(l)}t._authCredentials=new _ee(new xB(a,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class Wl{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Wl(this.firestore,e,this._query)}}class bl extends Wl{constructor(e,i,n){super(e,i,lC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new et(e))}withConverter(e){return new bl(this.firestore,e,this._path)}}function Rie(t,e,...i){if(t=gs(t),u6("collection","path",e),t instanceof aA){const n=ni.fromString(e,...i);return O4(n),new bl(t,null,n)}{if(!(t instanceof _t||t instanceof bl))throw new We(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ni.fromString(e,...i));return O4(n),new bl(t.firestore,null,n)}}function $i(t,e,...i){if(t=gs(t),arguments.length===1&&(e=kB.R()),u6("doc","path",e),t instanceof aA){const n=ni.fromString(e,...i);return L4(n),new _t(t,null,new et(n))}{if(!(t instanceof _t||t instanceof bl))throw new We(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ni.fromString(e,...i));return L4(n),new _t(t.firestore,t instanceof bl?t.converter:null,new et(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e,i,n,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=Ln.UNAUTHENTICATED,this.clientId=kB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async o=>{it("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(it("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const n=t6(i,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Lie(t,e){t.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const i=await t.getConfiguration();await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener(async r=>{n.isEqual(r)||(await QB(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Oie(t,e){t.asyncQueue.verifyOperationInProgress();const i=await Die(t);it("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(i,n),t.setCredentialChangeListener(r=>z4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>z4(e.remoteStore,o)),t.onlineComponents=e}async function Die(t){return t.offlineComponents||(it("FirestoreClient","Using default OfflineComponentProvider"),await Lie(t,new Sie)),t.offlineComponents}async function Mie(t){return t.onlineComponents||(it("FirestoreClient","Using default OnlineComponentProvider"),await Oie(t,new Cie)),t.onlineComponents}async function f6(t){const e=await Mie(t),i=e.eventManager;return i.onListen=vie.bind(null,e.syncEngine),i.onUnlisten=wie.bind(null,e.syncEngine),i}function Bie(t,e,i={}){const n=new gl;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,s,l){const c=new d6({next:f=>{o.enqueueAndForget(()=>n6(r,d));const h=f.docs.has(a);!h&&f.fromCache?l.reject(new We(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&s&&s.source==="server"?l.reject(new We(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new r6(lC(a.path),c,{includeMetadataChanges:!0,ku:!0});return i6(r,d)}(await f6(t),t.asyncQueue,e,i,n)),n.promise}function Fie(t,e,i={}){const n=new gl;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,s,l){const c=new d6({next:f=>{o.enqueueAndForget(()=>n6(r,d)),f.fromCache&&s.source==="server"?l.reject(new We(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new r6(a,c,{includeMetadataChanges:!0,ku:!0});return i6(r,d)}(await f6(t),t.asyncQueue,e,i,n)),n.promise}class Nie{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new KB(this,"async_queue_retry"),this.Wc=()=>{const i=ok();i&&it("AsyncQueue","Visibility state changed to "+i.visibilityState),this.No.Po()};const e=ok();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const i=ok();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const i=new gl;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.No.reset()}catch(e){if(!Tg(e))throw e;it("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.No.Ro(()=>this.Jc())}}Hc(e){const i=this.Bc.then(()=>(this.Gc=!0,e().catch(n=>{this.Kc=n,this.Gc=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw vs("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.Gc=!1,n))));return this.Bc=i,i}enqueueAfterDelay(e,i,n){this.zc(),this.jc.indexOf(e)>-1&&(i=0);const r=AC.createAndSchedule(this,e,i,n,o=>this.Yc(o));return this.qc.push(r),r}zc(){this.Kc&&At()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const i of this.qc)if(i.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(const i of this.qc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const i=this.qc.indexOf(e);this.qc.splice(i,1)}}class _C extends aA{constructor(e,i,n,r){super(e,i,n,r),this.type="firestore",this._queue=new Nie,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||h6(this),this._firestoreClient.terminate()}}function jie(t,e,i){i||(i="(default)");const n=LS(t,"firestore");if(n.isInitialized(i)){const r=n.getImmediate({identifier:i}),o=n.getOptions(i);if(sy(o,e))return r;throw new We(Ce.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:i})}function Uie(t,e){const i=typeof t=="object"?t:b8(),n=typeof t=="string"?t:e||"(default)",r=LS(i,"firestore").getImmediate({identifier:n});if(!r._initialized){const o=c8("firestore");o&&Iie(r,...o)}return r}function p6(t){return t._firestoreClient||h6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function h6(t){var e;const i=t._freezeSettings(),n=function(r,o,a,s){return new Fee(r,o,a,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Pie(t._authCredentials,t._appCheckCredentials,t._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rf(jn.fromBase64String(e))}catch(i){throw new We(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new rf(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new We(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new We(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new We(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gie=/^__.*__$/;function b6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class SC{constructor(e,i,n,r,o,a){this.settings=e,this.databaseId=i,this.It=n,this.ignoreUndefinedProperties=r,o===void 0&&this.na(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new SC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}ca(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return v2(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(b6(this.sa)&&Gie.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Hie{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.It=n||nA(e)}da(e,i,n,r=!1){return new SC({sa:e,methodName:i,fa:n,path:Xn.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function v6(t){const e=t._freezeSettings(),i=nA(t._databaseId);return new Hie(t._databaseId,!!e.ignoreUndefinedProperties,i)}function y6(t,e,i,n=!1){return CC(i,t.da(n?4:3,e))}function CC(t,e){if(w6(t=gs(t)))return Yie("Unsupported field value:",e,t),Wie(t,e);if(t instanceof g6)return function(i,n){if(!b6(n.sa))throw n.ha(`${i._methodName}() can only be used with update() and set()`);if(!n.path)throw n.ha(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(i,n){const r=[];let o=0;for(const a of i){let s=CC(a,n.aa(o));s==null&&(s={nullValue:"NULL_VALUE"}),r.push(s),o++}return{arrayValue:{values:r}}}(t,e)}return function(i,n){if((i=gs(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ete(n.It,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Li.fromDate(i);return{timestampValue:h2(n.It,r)}}if(i instanceof Li){const r=new Li(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:h2(n.It,r)}}if(i instanceof TC)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof rf)return{bytesValue:GB(n.It,i._byteString)};if(i instanceof _t){const r=n.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw n.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:HB(i.firestore._databaseId||n.databaseId,i._key.path)}}throw n.ha(`Unsupported field value: ${oA(i)}`)}(t,e)}function Wie(t,e){const i={};return _B(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sg(t,(n,r)=>{const o=CC(r,e.ra(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function w6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Li||t instanceof TC||t instanceof rf||t instanceof _t||t instanceof g6)}function Yie(t,e,i){if(!w6(i)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(i)){const n=oA(i);throw n==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+n)}}const Vie=new RegExp("[~\\*/\\[\\]]");function $ie(t,e,i){if(e.search(Vie)>=0)throw v2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new m6(...e.split("."))._internalPath}catch{throw v2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function v2(t,e,i,n,r){const o=n&&!n.isEmpty(),a=r!==void 0;let s=`Function ${e}() called with invalid data`;i&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${r}`),l+=")"),new We(Ce.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,i,n,r,o){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(sA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Qie extends EC{data(){return super.data()}}function sA(t,e){return typeof e=="string"?$ie(t,e):e instanceof m6?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lA{}function Kie(t,...e){for(const i of e)t=i._apply(t);return t}class Xie extends lA{constructor(e,i,n){super(),this.ma=e,this.ga=i,this.ya=n,this.type="where"}_apply(e){const i=v6(e.firestore),n=function(r,o,a,s,l,c,d){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new We(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){F4(d,c);const m=[];for(const v of d)m.push(B4(s,r,v));f={arrayValue:{values:m}}}else f=B4(s,r,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||F4(d,c),f=y6(a,o,d,c==="in"||c==="not-in");const h=nr.create(l,c,f);return function(m,v){if(v.dt()){const g=uC(m);if(g!==null&&!g.isEqual(v.field))throw new We(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${g.toString()}' and '${v.field.toString()}'`);const A=cC(m);A!==null&&A6(m,v.field,A)}const w=function(g,A){for(const x of g.filters)if(A.indexOf(x.op)>=0)return x.op;return null}(m,function(g){switch(g){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(v.op));if(w!==null)throw w===v.op?new We(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${v.op.toString()}' filter.`):new We(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${v.op.toString()}' filters with '${w.toString()}' filters.`)}(r,h),h}(e._query,"where",i,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Wl(e.firestore,e.converter,function(r,o){const a=r.filters.concat([o]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function xi(t,e,i){const n=e,r=sA("where",t);return new Xie(r,n,i)}class Jie extends lA{constructor(e,i){super(),this.ma=e,this.pa=i,this.type="orderBy"}_apply(e){const i=function(n,r,o){if(n.startAt!==null)throw new We(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new We(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Pd(r,o);return function(s,l){if(cC(s)===null){const c=uC(s);c!==null&&A6(s,c,l.field)}}(n,a),a}(e._query,this.ma,this.pa);return new Wl(e.firestore,e.converter,function(n,r){const o=n.explicitOrderBy.concat([r]);return new bu(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,i))}}function Dn(t,e="asc"){const i=e,n=sA("orderBy",t);return new Jie(n,i)}class Zie extends lA{constructor(e,i,n){super(),this.type=e,this.Ia=i,this.Ta=n}_apply(e){return new Wl(e.firestore,e.converter,yy(e._query,this.Ia,this.Ta))}}function ou(t){return zie("limit",t),new Zie("limit",t,"F")}class ene extends lA{constructor(e,i,n){super(),this.type=e,this.Ea=i,this.Aa=n}_apply(e){const i=tne(e,this.type,this.Ea,this.Aa);return new Wl(e.firestore,e.converter,function(n,r){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)}(e._query,i))}}function zC(...t){return new ene("startAfter",t,!1)}function tne(t,e,i,n){if(i[0]=gs(i[0]),i[0]instanceof EC)return function(r,o,a,s,l){if(!s)throw new We(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of ef(r))if(d.field.isKeyField())c.push(vy(o,s.key));else{const f=s.data.field(d.field);if(rC(f))throw new We(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const h=d.field.canonicalString();throw new We(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(f)}return new Zd(c,l)}(t._query,t.firestore._databaseId,e,i[0]._document,n);{const r=v6(t.firestore);return function(o,a,s,l,c,d){const f=o.explicitOrderBy;if(c.length>f.length)throw new We(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let m=0;m<c.length;m++){const v=c[m];if(f[m].field.isKeyField()){if(typeof v!="string")throw new We(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof v}`);if(!dC(o)&&v.indexOf("/")!==-1)throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${v}' contains a slash.`);const w=o.path.child(ni.fromString(v));if(!et.isDocumentKey(w))throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const g=new et(w);h.push(vy(a,g))}else{const w=y6(s,l,v);h.push(w)}}return new Zd(h,d)}(t._query,t.firestore._databaseId,r,e,i,n)}}function B4(t,e,i){if(typeof(i=gs(i))=="string"){if(i==="")throw new We(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dC(e)&&i.indexOf("/")!==-1)throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=e.path.child(ni.fromString(i));if(!et.isDocumentKey(n))throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return vy(t,new et(n))}if(i instanceof _t)return vy(t,i._key);throw new We(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oA(i)}.`)}function F4(t,e){if(!Array.isArray(t)||t.length===0)throw new We(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new We(Ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function A6(t,e,i){if(!i.isEqual(e))throw new We(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{convertValue(e,i="none"){switch(ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw At()}}convertObject(e,i){const n={};return Sg(e.fields,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(e){return new TC(Di(e.latitude),Di(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":const n=TB(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(xm(e));default:return null}}convertTimestamp(e){const i=Tl(e);return new Li(i.seconds,i.nanos)}convertDocumentKey(e,i){const n=ni.fromString(e);Ni($B(n));const r=new km(n.get(1),n.get(3)),o=new et(n.popFirst(5));return r.isEqual(i)||vs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x6 extends EC{constructor(e,i,n,r,o,a){super(e,i,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const n=this._document.data.field(sA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}}class yv extends x6{data(e={}){return super.data(e)}}class nne{constructor(e,i,n,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new Ah(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new yv(this._firestore,this._userDataWriter,n.key,n,new Ah(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new We(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(n,r){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(a=>({type:"added",doc:new yv(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Ah(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:o++}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const s=new yv(n._firestore,n._userDataWriter,a.doc.key,a.doc,new Ah(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:rne(a.type),doc:s,oldIndex:l,newIndex:c}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function rne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){t=Sm(t,_t);const e=Sm(t.firestore,_C);return Bie(p6(e),t._key).then(i=>ane(e,t,i))}class k6 extends ine{constructor(e){super(),this.firestore=e}convertBytes(e){return new rf(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,i)}}function one(t){t=Sm(t,Wl);const e=Sm(t.firestore,_C),i=p6(e),n=new k6(e);return qie(t._query),Fie(i,t._query).then(r=>new nne(e,n,t,r))}function ane(t,e,i){const n=i.docs.get(e._key),r=new k6(t);return new x6(t,r,e._key,n,new Ah(i.hasPendingWrites,i.fromCache),e.converter)}(function(t,e=!0){(function(i){jf=i})(m8),hm(new Qd("firestore",(i,{instanceIdentifier:n,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new _C(new Tee(i.getProvider("auth-internal")),new zee(i.getProvider("app-check-internal")),function(s,l){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new We(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new km(s.options.projectId,l)}(o,n),o);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),ml(a4,"3.7.1",t),ml(a4,"3.7.1","esm2017")})();var sne="firebase",lne="9.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ml(sne,lne,"app");class ak{constructor(e,i){this.data=e,this.error=i}}class cne{constructor(e,i){this.data=e,this.error=i}}class RC extends Error{constructor(e){super(`No documents found from querying ${e}`),this.name="NoDocumentsError",Object.setPrototypeOf(this,new.target.prototype)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="firebasestorage.googleapis.com",T6="storageBucket",une=2*60*1e3,dne=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends mu{constructor(e,i,n=0){super(sk(e),`Firebase Storage: ${i} (${sk(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function sk(t){return"storage/"+t}function S6(){const t="An unknown error occurred, please check the error payload for server response.";return new dn("unknown",t)}function fne(t){return new dn("object-not-found","Object '"+t+"' does not exist.")}function pne(t){return new dn("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hne(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dn("unauthenticated",t)}function mne(){return new dn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function gne(t){return new dn("unauthorized","User does not have permission to access '"+t+"'.")}function bne(){return new dn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function vne(){return new dn("canceled","User canceled the upload/download.")}function yne(t){return new dn("invalid-url","Invalid URL '"+t+"'.")}function wne(t){return new dn("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Ane(){return new dn("no-default-bucket","No default bucket found. Did you set the '"+T6+"' property when initializing the app?")}function xne(){return new dn("no-download-url","The given file does not have any download URLs.")}function y2(t){return new dn("invalid-argument",t)}function C6(){return new dn("app-deleted","The Firebase app was deleted.")}function kne(t){return new dn("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rh(t){throw new dn("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=Wr.makeFromUrl(e,i)}catch{return new Wr(e,"")}if(n.path==="")return n;throw wne(e)}static makeFromUrl(e,i){let n=null;const r="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+r+a,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",f=i.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${r}/o${h}`,"i"),v={bucket:1,path:3},w=i===_6?"(?:storage.googleapis.com|storage.cloud.google.com)":i,g="([^?#]*)",A=new RegExp(`^https?://${w}/${r}/${g}`,"i"),T=[{regex:s,indices:l,postModify:o},{regex:m,indices:v,postModify:c},{regex:A,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<T.length;E++){const z=T[E],L=z.regex.exec(e);if(L){const B=L[z.indices.bucket];let O=L[z.indices.path];O||(O=""),n=new Wr(B,O),z.postModify(n);break}}if(n==null)throw yne(e);return n}}class _ne{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tne(t,e,i){let n=1,r=null,o=null,a=!1,s=0;function l(){return s===2}let c=!1;function d(...g){c||(c=!0,e.apply(null,g))}function f(g){r=setTimeout(()=>{r=null,t(m,l())},g)}function h(){o&&clearTimeout(o)}function m(g,...A){if(c){h();return}if(g){h(),d.call(null,g,...A);return}if(l()||a){h(),d.call(null,g,...A);return}n<64&&(n*=2);let T;s===1?(s=2,T=0):T=(n+Math.random())*1e3,f(T)}let v=!1;function w(g){v||(v=!0,h(),!c&&(r!==null?(g||(s=2),clearTimeout(r),f(0)):g||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,w(!0)},i),w}function Sne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(t){return t!==void 0}function Ene(t){return typeof t=="object"&&!Array.isArray(t)}function E6(t){return typeof t=="string"||t instanceof String}function N4(t,e,i,n){if(n<e)throw y2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw y2(`Invalid value for '${t}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e,i){let n=e;return i==null&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function I6(t){const e=encodeURIComponent;let i="?";for(const n in t)if(t.hasOwnProperty(n)){const r=e(n)+"="+e(t[n]);i=i+r+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gc||(Gc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zne(t,e){const i=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return i||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,i,n,r,o,a,s,l,c,d,f,h=!0){this.url_=e,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(n,r)=>{if(r){n(!1,new O0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Gc.NO_ERROR,l=o.getStatus();if((!s||zne(l,this.additionalRetryCodes_))&&this.retry){const d=o.getErrorCode()===Gc.ABORT;n(!1,new O0(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new O0(c,o))})},i=(n,r)=>{const o=this.resolve_,a=this.reject_,s=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());Cne(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=S6();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(r.canceled){const l=this.appDelete_?C6():vne();a(l)}else{const l=bne();a(l)}};this.canceled_?i(!1,new O0(!1,null,!0)):this.backoffId_=Tne(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Sne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class O0{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}}function Rne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Pne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Lne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function One(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Dne(t,e,i,n,r,o,a=!0){const s=I6(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return Lne(c,e),Rne(c,i),Pne(c,o),One(c,n),new Ine(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){let e;try{e=JSON.parse(t)}catch{return null}return Ene(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Bne(t,e){const i=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?i:t+"/"+i}function P6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fne(t,e){return e}class $n{constructor(e,i,n,r){this.server=e,this.local=i||e,this.writable=!!n,this.xform=r||Fne}}let D0=null;function Nne(t){return!E6(t)||t.length<2?t:P6(t)}function jne(){if(D0)return D0;const t=[];t.push(new $n("bucket")),t.push(new $n("generation")),t.push(new $n("metageneration")),t.push(new $n("name","fullPath",!0));function e(o,a){return Nne(a)}const i=new $n("name");i.xform=e,t.push(i);function n(o,a){return a!==void 0?Number(a):a}const r=new $n("size");return r.xform=n,t.push(r),t.push(new $n("timeCreated")),t.push(new $n("updated")),t.push(new $n("md5Hash",null,!0)),t.push(new $n("cacheControl",null,!0)),t.push(new $n("contentDisposition",null,!0)),t.push(new $n("contentEncoding",null,!0)),t.push(new $n("contentLanguage",null,!0)),t.push(new $n("contentType",null,!0)),t.push(new $n("metadata","customMetadata",!0)),D0=t,D0}function Une(t,e){function i(){const n=t.bucket,r=t.fullPath,o=new Wr(n,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:i})}function Gne(t,e,i){const n={};n.type="file";const r=i.length;for(let o=0;o<r;o++){const a=i[o];n[a.local]=a.xform(n,e[a.server])}return Une(n,t),n}function Hne(t,e,i){const n=R6(e);return n===null?null:Gne(t,n,i)}function Wne(t,e,i,n){const r=R6(e);if(r===null||!E6(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(c=>{const d=t.bucket,f=t.fullPath,h="/b/"+a(d)+"/o/"+a(f),m=z6(h,i,n),v=I6({alt:"media",token:c});return m+v})[0]}class Yne{constructor(e,i,n,r){this.url=e,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(t){if(!t)throw S6()}function $ne(t,e){function i(n,r){const o=Hne(t,r,e);return Vne(o!==null),Wne(o,r,t.host,t._protocol)}return i}function Qne(t){function e(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=mne():r=hne():i.getStatus()===402?r=pne(t.bucket):i.getStatus()===403?r=gne(t.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return e}function qne(t){const e=Qne(t);function i(n,r){let o=e(n,r);return n.getStatus()===404&&(o=fne(t.path)),o.serverResponse=r.serverResponse,o}return i}function Kne(t,e,i){const n=e.fullServerUrl(),r=z6(n,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new Yne(r,o,$ne(t,i),a);return s.errorHandler=qne(e),s}class Xne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,n,r){if(this.sent_)throw rh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Jne extends Xne{initXhr(){this.xhr_.responseType="text"}}function Zne(){return new Jne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,i){this._service=e,i instanceof Wr?this._location=i:this._location=Wr.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new au(e,i)}get root(){const e=new Wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P6(this._location.path)}get storage(){return this._service}get parent(){const e=Mne(this._location.path);if(e===null)return null;const i=new Wr(this._location.bucket,e);return new au(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw kne(e)}}function ere(t){t._throwIfRoot("getDownloadURL");const e=Kne(t.storage,t._location,jne());return t.storage.makeRequestWithTokens(e,Zne).then(i=>{if(i===null)throw xne();return i})}function tre(t,e){const i=Bne(t._location.path,e),n=new Wr(t._location.bucket,i);return new au(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ire(t){return/^[A-Za-z]+:\/\//.test(t)}function nre(t,e){return new au(t,e)}function L6(t,e){if(t instanceof PC){const i=t;if(i._bucket==null)throw Ane();const n=new au(i,i._bucket);return e!=null?L6(n,e):n}else return e!==void 0?tre(t,e):t}function rre(t,e){if(e&&ire(e)){if(t instanceof PC)return nre(t,e);throw y2("To use ref(service, url), the first argument must be a Storage instance.")}else return L6(t,e)}function j4(t,e){const i=e==null?void 0:e[T6];return i==null?null:Wr.makeFromBucketSpec(i,t)}function ore(t,e,i,n={}){t.host=`${e}:${i}`,t._protocol="http";const{mockUserToken:r}=n;r&&(t._overrideAuthToken=typeof r=="string"?r:u8(r,t.app.options.projectId))}class PC{constructor(e,i,n,r,o){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=_6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=une,this._maxUploadRetryTime=dne,this._requests=new Set,r!=null?this._bucket=Wr.makeFromBucketSpec(r,this._host):this._bucket=j4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wr.makeFromBucketSpec(this._url,e):this._bucket=j4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new au(this,e)}_makeRequest(e,i,n,r,o=!0){if(this._deleted)return new _ne(C6());{const a=Dne(e,this._appId,n,r,i,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,i){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,r).getPromise()}}const U4="@firebase/storage",G4="0.9.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="storage";function are(t){return t=gs(t),ere(t)}function sre(t,e){return t=gs(t),rre(t,e)}function lre(t=b8(),e){t=gs(t);const n=LS(t,O6).getImmediate({identifier:e}),r=c8("storage");return r&&cre(n,...r),n}function cre(t,e,i,n={}){ore(t,e,i,n)}function ure(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new PC(i,n,r,e,m8)}function dre(){hm(new Qd(O6,ure,"PUBLIC").setMultipleInstances(!0)),ml(U4,G4,""),ml(U4,G4,"esm2017")}dre();var Te=(t=>(t.Body="body",t.Event="event",t.EventMinutesItem="event_minutes_item",t.EventMinutesItemFile="event_minutes_item_file",t.File="file",t.IndexedEventGram="indexed_event_gram",t.Matter="matter",t.MatterFile="matter_file",t.MatterSponsor="matter_sponsor",t.MatterStatus="matter_status",t.MinutesItem="minutes_item",t.Person="person",t.Role="role",t.Seat="seat",t.Session="session",t.Transcript="transcript",t.TranscriptJSON="transcript_json",t.Vote="vote",t))(Te||{}),vt=(t=>(t.EventBodyRef="body_ref",t.EventHoverThumbnailRef="hover_thumbnail_ref",t.EventStaticThumbnailRef="static_thumbnail_ref",t.EventMinutesItemEventRef="event_ref",t.EventMinutesItemMinutesItemRef="minutes_item_ref",t.EventMinutesItemFileEventMinutesItemRef="event_minutes_item_ref",t.IndexedEventGramEventRef="event_ref",t.MatterFileMatterRef="matter_ref",t.MatterStatusEventMinutesItemRef="event_minutes_item_ref",t.MatterStatusMatterRef="matter_ref",t.MatterSponsorMatterRef="matter_ref",t.MatterSponsorPersonRef="person_ref",t.MinutesItemMatterRef="matter_ref",t.PersonPictureRef="picture_ref",t.RoleBodyRef="body_ref",t.RolePersonRef="person_ref",t.RoleSeatRef="seat_ref",t.SeatImageRef="image_ref",t.SessionEventRef="event_ref",t.TranscriptFileRef="file_ref",t.TranscriptSessionRef="session_ref",t.VoteEventMinutesItemRef="event_minutes_item_ref",t.VoteEventRef="event_ref",t.VoteMatterRef="matter_ref",t.VotePersonRef="person_ref",t))(vt||{});function H4(t){switch(t){case"body_ref":return"body";case"hover_thumbnail_ref":return"file";case"static_thumbnail_ref":return"file";case"event_ref":return"event";case"minutes_item_ref":return"minutes_item";case"event_minutes_item_ref":return"event_minutes_item";case"event_ref":return"event";case"matter_ref":return"matter";case"event_minutes_item_ref":return"event_minutes_item";case"matter_ref":return"matter";case"matter_ref":return"matter";case"person_ref":return"person";case"matter_ref":return"matter";case"picture_ref":return"file";case"body_ref":return"body";case"person_ref":return"person";case"seat_ref":return"seat";case"image_ref":return"file";case"event_ref":return"event";case"file_ref":return"file";case"session_ref":return"session";case"event_minutes_item_ref":return"event_minutes_item";case"event_ref":return"event";case"matter_ref":return"matter";case"person_ref":return"person";default:return}}class zi{constructor(e,i,n){this.collectionName=e,this.refName=i,this.cascade=n}}class nn{constructor(e){this.toPopulate=e}}function wa(t){return t instanceof Error?t:typeof t=="string"?new Error(t):new Error(String(t))}class Xt{constructor(e,i){const n=g8(e);jie(n,i),Xt.db=Uie()}static getInstance(e,i){return Xt.instance||(Xt.instance=new Xt(e,i)),Xt.instance}static getDb(){return Xt.db}collateDocumentData(e,i,n){return Promise.all(e).then(r=>(r.forEach((o,a)=>{n.data&&(n.data[i[a]]=o.data)}),Promise.resolve(n))).catch(r=>(n.error=r,Promise.resolve(n)))}async getDocument(e,i,n){const r=$i(Xt.db,i,e),o=new ak;return IC(r).then(a=>{if(!a.exists())return Promise.reject(new Error(`Document ${e} does not exist in Collection ${i}.`));const s=a.data();if(!s)return Promise.reject(new Error("No data on docSnap."));if(s.id=a.id,o.data=s,n&&n.toPopulate){const l=[],c=[];return n.toPopulate.filter(d=>s[d.refName]).forEach(d=>{const f=s[d.refName].id,h=H4(d.refName);f&&h&&(l.push(this.getDocument(f,h,d.cascade)),c.push(d.refName))}),this.collateDocumentData(l,c,o)}else return Promise.resolve(o)}).catch(a=>(a.message=`_getDocument_${a.message}`,o.error=a,Promise.resolve(o)))}async getDocuments(e,i,n){const r=Rie(Xt.db,e),o=Kie(r,...i),a=new cne;try{const s=await one(o);if(s.empty)throw new RC(e);const l=[];if(s.forEach(c=>{const d=c.data();if(!d)return Promise.reject(new Error("No data on docSnap."));d.id=c.id,l.push(d)}),n&&n.toPopulate){const c=[];for(const h of l){const m=[],v=[],w=new ak;w.data=h,n.toPopulate.filter(g=>h[g.refName]).forEach(g=>{const A=h[g.refName].id,x=H4(g.refName);A&&x&&(m.push(this.getDocument(A,x,g.cascade)),v.push(g.refName))}),c.push(this.collateDocumentData(m,v,w))}const f=(await Promise.all(c)).map(({data:h})=>h);return a.data=f,Promise.resolve(a)}else return a.data=l,Promise.resolve(a)}catch(s){return a.error=wa(s),Promise.resolve(a)}}async downloadJson(e){const i=new ak;try{const n=await this.getDownloadUrl(e),r=await fetch(n).then(o=>o.json());if(!r)throw new Error(`No JSON found for uri: ${e}`);i.data=r}catch(n){const r=wa(n);i.error=r}finally{return Promise.resolve(i)}}async getDownloadUrl(e){const i=lre(),n=sre(i,e);return await are(n)}}function fre(t){switch(t){case Te.Body:return["id","is_active","start_datetime","name"];case Te.Event:return["id","body_ref","event_datetime"];case Te.EventMinutesItem:return["id","event_ref","index","minutes_item_ref"];case Te.EventMinutesItemFile:return["id","event_minutes_item_ref","name","uri"];case Te.File:return["id","name","uri"];case Te.IndexedEventGram:return["id","context_span","datetime_weighted_value","event_ref","stemmed_gram","unstemmed_gram","value"];case Te.Matter:return["id","matter_type","name","title"];case Te.MatterFile:return["id","matter_ref","name","uri"];case Te.MatterSponsor:return["id","matter_ref","person_ref"];case Te.MatterStatus:return["id","matter_ref","status","update_datetime"];case Te.MinutesItem:return["id","name"];case Te.Person:return["id","is_active","name","router_string"];case Te.Role:return["id","start_datetime","title","person_ref","seat_ref"];case Te.Seat:return["id","name"];case Te.Session:return["id","event_ref","session_datetime","session_index","video_uri"];case Te.Transcript:return["id","confidence","created","generator","file_ref","session_ref"];case Te.TranscriptJSON:return["confidence","generator","created_datetime","sentences"];case Te.Vote:return["id","event_minutes_item_ref","event_ref","matter_ref","person_ref","decision"]}}function W4(t,e){try{const n=fre(e).filter(r=>!t.hasOwnProperty(r));if(n.length>0)throw new Error(`Missing properties: ${JSON.stringify(n)}`);return}catch(i){return i instanceof Error?(i.message=`validateResponseData_${i.message}`,i):new Error("validateResponseData_somehow threw a incorrectly-typed error")}}class Un{constructor(e,i){this.networkService=Xt.getInstance(i.options,i.settings),this.modelName=e;const n=e.split("_").map(r=>r[0].toUpperCase()+r.slice(1)).join("");this.serviceName=`${n}Service`}async createModel(e,i,n){try{const{data:r,error:o}=await e;if(o)throw o;if(!r)throw new Error(`No ${this.modelName} found.`);const a=W4(r,this.modelName);if(a)throw a;return Promise.resolve(new i(r))}catch(r){const o=wa(r);return o.message=`${this.serviceName}_${n}_${o.message}`,Promise.reject(o)}}async createModels(e,i,n){try{const{data:r,error:o}=await e;if(o){if(o instanceof RC)return Promise.resolve([]);throw o}if(!r||r.length===0)throw new Error(`No ${this.modelName}s found.`);const a=r.map(s=>{const l=W4(s,this.modelName);if(l)throw l;return new i(s)});return Promise.resolve(a)}catch(r){const o=wa(r);return o.message=`${this.serviceName}_${n}_${o.message}`,Promise.reject(o)}}}var gi=(t=>(t.lt="<",t.lteq="<=",t.eq="==",t.gt=">",t.gteq=">=",t.not_eq="!=",t.array_contains="array-contains",t.array_contains_any="array-contains-any",t.in="in",t.not_in="not-in",t))(gi||{}),en=(t=>(t.asc="asc",t.desc="desc",t))(en||{});const LC=10;function Aa(t){return new Date(t.seconds*1e3)}class xy{constructor(e){this.id=e.id,this.is_active=e.is_active,this.start_datetime=Aa(e.start_datetime),this.name=e.name,e.description&&(this.description=e.description),e.end_datetime&&(this.end_datetime=Aa(e.end_datetime)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class D6 extends Un{constructor(e){super(Te.Body,e)}async getBodiesByName(e){const i=this.networkService.getDocuments(Te.Body,[xi("name",gi.eq,e)]);return this.createModels(i,xy,`getBodyByName(${e})`)}async getAllBodies(){const e=this.networkService.getDocuments(Te.Body,[Dn("name")]);return this.createModels(e,xy,"getAllBodies()")}}var ls=function(e,i){if(typeof e=="function"){e(i);return}e!==null&&typeof e=="object"&&(e.current=i)},w2=function(e){return e!==null&&typeof e=="object"&&e.hasOwnProperty("current")},pre=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.prevNode=null,n}var i=e.prototype;return i.componentDidMount=function(){var r=yl.exports.findDOMNode(this);this.prevNode=r,ls(this.props.innerRef,r)},i.componentDidUpdate=function(r){var o=yl.exports.findDOMNode(this);this.prevNode!==o&&(this.prevNode=o,ls(this.props.innerRef,o)),r.innerRef!==this.props.innerRef&&ls(this.props.innerRef,o)},i.componentWillUnmount=function(){ls(this.props.innerRef,null),delete this.prevNode},i.render=function(){var r=this.props.children;return r},e}($.exports.Component),hre=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.currentNode=null,n.handleRefOverride=function(s){var l=n.props,c=l.children,d=l.innerRef;ls(c.ref,s),ls(d,s),n.currentNode=s},n}var i=e.prototype;return i.componentDidUpdate=function(r){r.innerRef!==this.props.innerRef&&ls(this.props.innerRef,this.currentNode)},i.componentWillUnmount=function(){delete this.currentNode},i.render=function(){var r=this.props.children;return $.exports.cloneElement(r,{ref:this.handleRefOverride})},e}($.exports.Component),Cl=function(e){var i=e.children,n=e.innerRef,r=hu(e,["children","innerRef"]),o=$.exports.Children.only(i),a=mS.exports.isForwardRef(o)?hre:pre,s=o&&r&&Object.keys(r).length>0?$.exports.cloneElement(o,r):o;return $.exports.createElement(a,{innerRef:n},s)},mre=Array.isArray,sn=mre,gre=typeof global=="object"&&global&&global.Object===Object&&global,M6=gre,bre=typeof self=="object"&&self&&self.Object===Object&&self,vre=M6||bre||Function("return this")(),Rs=vre,yre=Rs.Symbol,xa=yre,B6=Object.prototype,wre=B6.hasOwnProperty,Are=B6.toString,oh=xa?xa.toStringTag:void 0;function xre(t){var e=wre.call(t,oh),i=t[oh];try{t[oh]=void 0;var n=!0}catch{}var r=Are.call(t);return n&&(e?t[oh]=i:delete t[oh]),r}var kre=Object.prototype,_re=kre.toString;function Tre(t){return _re.call(t)}var Sre="[object Null]",Cre="[object Undefined]",Y4=xa?xa.toStringTag:void 0;function za(t){return t==null?t===void 0?Cre:Sre:Y4&&Y4 in Object(t)?xre(t):Tre(t)}function ka(t){return t!=null&&typeof t=="object"}var Ere="[object Symbol]";function cA(t){return typeof t=="symbol"||ka(t)&&za(t)==Ere}var zre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ire=/^\w*$/;function OC(t,e){if(sn(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||cA(t)?!0:Ire.test(t)||!zre.test(t)||e!=null&&t in Object(e)}function El(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Rre="[object AsyncFunction]",Pre="[object Function]",Lre="[object GeneratorFunction]",Ore="[object Proxy]";function ky(t){if(!El(t))return!1;var e=za(t);return e==Pre||e==Lre||e==Rre||e==Ore}var Dre=Rs["__core-js_shared__"],lk=Dre,V4=function(){var t=/[^.]+$/.exec(lk&&lk.keys&&lk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Mre(t){return!!V4&&V4 in t}var Bre=Function.prototype,Fre=Bre.toString;function vu(t){if(t!=null){try{return Fre.call(t)}catch{}try{return t+""}catch{}}return""}var Nre=/[\\^$.*+?()[\]{}|]/g,jre=/^\[object .+?Constructor\]$/,Ure=Function.prototype,Gre=Object.prototype,Hre=Ure.toString,Wre=Gre.hasOwnProperty,Yre=RegExp("^"+Hre.call(Wre).replace(Nre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vre(t){if(!El(t)||Mre(t))return!1;var e=ky(t)?Yre:jre;return e.test(vu(t))}function $re(t,e){return t==null?void 0:t[e]}function yu(t,e){var i=$re(t,e);return Vre(i)?i:void 0}var Qre=yu(Object,"create"),Cm=Qre;function qre(){this.__data__=Cm?Cm(null):{},this.size=0}function Kre(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Xre="__lodash_hash_undefined__",Jre=Object.prototype,Zre=Jre.hasOwnProperty;function eoe(t){var e=this.__data__;if(Cm){var i=e[t];return i===Xre?void 0:i}return Zre.call(e,t)?e[t]:void 0}var toe=Object.prototype,ioe=toe.hasOwnProperty;function noe(t){var e=this.__data__;return Cm?e[t]!==void 0:ioe.call(e,t)}var roe="__lodash_hash_undefined__";function ooe(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Cm&&e===void 0?roe:e,this}function su(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}su.prototype.clear=qre;su.prototype.delete=Kre;su.prototype.get=eoe;su.prototype.has=noe;su.prototype.set=ooe;function aoe(){this.__data__=[],this.size=0}function uA(t,e){return t===e||t!==t&&e!==e}function dA(t,e){for(var i=t.length;i--;)if(uA(t[i][0],e))return i;return-1}var soe=Array.prototype,loe=soe.splice;function coe(t){var e=this.__data__,i=dA(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():loe.call(e,i,1),--this.size,!0}function uoe(t){var e=this.__data__,i=dA(e,t);return i<0?void 0:e[i][1]}function doe(t){return dA(this.__data__,t)>-1}function foe(t,e){var i=this.__data__,n=dA(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function Ps(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ps.prototype.clear=aoe;Ps.prototype.delete=coe;Ps.prototype.get=uoe;Ps.prototype.has=doe;Ps.prototype.set=foe;var poe=yu(Rs,"Map"),Em=poe;function hoe(){this.size=0,this.__data__={hash:new su,map:new(Em||Ps),string:new su}}function moe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function fA(t,e){var i=t.__data__;return moe(e)?i[typeof e=="string"?"string":"hash"]:i.map}function goe(t){var e=fA(this,t).delete(t);return this.size-=e?1:0,e}function boe(t){return fA(this,t).get(t)}function voe(t){return fA(this,t).has(t)}function yoe(t,e){var i=fA(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function Ls(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ls.prototype.clear=hoe;Ls.prototype.delete=goe;Ls.prototype.get=boe;Ls.prototype.has=voe;Ls.prototype.set=yoe;var woe="Expected a function";function pA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(woe);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var a=t.apply(this,n);return i.cache=o.set(r,a)||o,a};return i.cache=new(pA.Cache||Ls),i}pA.Cache=Ls;var Aoe=500;function xoe(t){var e=pA(t,function(n){return i.size===Aoe&&i.clear(),n}),i=e.cache;return e}var koe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_oe=/\\(\\)?/g,Toe=xoe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(koe,function(i,n,r,o){e.push(r?o.replace(_oe,"$1"):n||i)}),e}),Soe=Toe;function DC(t,e){for(var i=-1,n=t==null?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}var Coe=1/0,$4=xa?xa.prototype:void 0,Q4=$4?$4.toString:void 0;function F6(t){if(typeof t=="string")return t;if(sn(t))return DC(t,F6)+"";if(cA(t))return Q4?Q4.call(t):"";var e=t+"";return e=="0"&&1/t==-Coe?"-0":e}function hA(t){return t==null?"":F6(t)}function Ig(t,e){return sn(t)?t:OC(t,e)?[t]:Soe(hA(t))}var Eoe="[object Arguments]";function q4(t){return ka(t)&&za(t)==Eoe}var N6=Object.prototype,zoe=N6.hasOwnProperty,Ioe=N6.propertyIsEnumerable,Roe=q4(function(){return arguments}())?q4:function(t){return ka(t)&&zoe.call(t,"callee")&&!Ioe.call(t,"callee")},mA=Roe,Poe=9007199254740991,Loe=/^(?:0|[1-9]\d*)$/;function gA(t,e){var i=typeof t;return e=e==null?Poe:e,!!e&&(i=="number"||i!="symbol"&&Loe.test(t))&&t>-1&&t%1==0&&t<e}var Ooe=9007199254740991;function MC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ooe}var Doe=1/0;function Hf(t){if(typeof t=="string"||cA(t))return t;var e=t+"";return e=="0"&&1/t==-Doe?"-0":e}function Moe(t,e,i){e=Ig(e,t);for(var n=-1,r=e.length,o=!1;++n<r;){var a=Hf(e[n]);if(!(o=t!=null&&i(t,a)))break;t=t[a]}return o||++n!=r?o:(r=t==null?0:t.length,!!r&&MC(r)&&gA(a,r)&&(sn(t)||mA(t)))}function j6(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Boe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function bA(t,e){e=Ig(e,t);for(var i=0,n=e.length;t!=null&&i<n;)t=t[Hf(e[i++])];return i&&i==n?t:void 0}function U6(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),i=i>r?r:i,i<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(r);++n<r;)o[n]=t[n+e];return o}function Foe(t,e){return e.length<2?t:bA(t,U6(e,0,-1))}function Noe(t,e,i){e=Ig(e,t),t=Foe(t,e);var n=t==null?t:t[Hf(Boe(e))];return n==null?void 0:j6(n,t,i)}function Rg(t){return t}var K4=Math.max;function G6(t,e,i){return e=K4(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=K4(n.length-e,0),a=Array(o);++r<o;)a[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=i(a),j6(t,this,s)}}function H6(t){return function(){return t}}var joe=function(){try{var t=yu(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_y=joe,Uoe=_y?function(t,e){return _y(t,"toString",{configurable:!0,enumerable:!1,value:H6(e),writable:!0})}:Rg,Goe=Uoe,Hoe=800,Woe=16,Yoe=Date.now;function Voe(t){var e=0,i=0;return function(){var n=Yoe(),r=Woe-(n-i);if(i=n,r>0){if(++e>=Hoe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $oe=Voe(Goe),W6=$oe;function Qoe(t,e){return W6(G6(t,e,Rg),t+"")}var qoe=Qoe(Noe),pt=qoe;function re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BC(t){return t===void 0}var Koe=/\s/;function Xoe(t){for(var e=t.length;e--&&Koe.test(t.charAt(e)););return e}var Joe=/^\s+/;function Zoe(t){return t&&t.slice(0,Xoe(t)+1).replace(Joe,"")}var X4=0/0,eae=/^[-+]0x[0-9a-f]+$/i,tae=/^0b[01]+$/i,iae=/^0o[0-7]+$/i,nae=parseInt;function Y6(t){if(typeof t=="number")return t;if(cA(t))return X4;if(El(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=El(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zoe(t);var i=tae.test(t);return i||iae.test(t)?nae(t.slice(2),i?2:8):eae.test(t)?X4:+t}var J4=1/0,rae=17976931348623157e292;function A2(t){if(!t)return t===0?t:0;if(t=Y6(t),t===J4||t===-J4){var e=t<0?-1:1;return e*rae}return t===t?t:0}function oae(t){var e=A2(t),i=e%1;return e===e?i?e-i:e:0}function aae(t,e){for(var i=-1,n=t==null?0:t.length,r=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[r++]=a)}return o}function sae(t){return function(e,i,n){for(var r=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++r];if(i(o[l],l,o)===!1)break}return e}}var lae=sae(),cae=lae;function uae(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function dae(){return!1}var V6=typeof cs=="object"&&cs&&!cs.nodeType&&cs,Z4=V6&&typeof us=="object"&&us&&!us.nodeType&&us,fae=Z4&&Z4.exports===V6,eR=fae?Rs.Buffer:void 0,pae=eR?eR.isBuffer:void 0,hae=pae||dae,Ty=hae,mae="[object Arguments]",gae="[object Array]",bae="[object Boolean]",vae="[object Date]",yae="[object Error]",wae="[object Function]",Aae="[object Map]",xae="[object Number]",kae="[object Object]",_ae="[object RegExp]",Tae="[object Set]",Sae="[object String]",Cae="[object WeakMap]",Eae="[object ArrayBuffer]",zae="[object DataView]",Iae="[object Float32Array]",Rae="[object Float64Array]",Pae="[object Int8Array]",Lae="[object Int16Array]",Oae="[object Int32Array]",Dae="[object Uint8Array]",Mae="[object Uint8ClampedArray]",Bae="[object Uint16Array]",Fae="[object Uint32Array]",si={};si[Iae]=si[Rae]=si[Pae]=si[Lae]=si[Oae]=si[Dae]=si[Mae]=si[Bae]=si[Fae]=!0;si[mae]=si[gae]=si[Eae]=si[bae]=si[zae]=si[vae]=si[yae]=si[wae]=si[Aae]=si[xae]=si[kae]=si[_ae]=si[Tae]=si[Sae]=si[Cae]=!1;function Nae(t){return ka(t)&&MC(t.length)&&!!si[za(t)]}function jae(t){return function(e){return t(e)}}var $6=typeof cs=="object"&&cs&&!cs.nodeType&&cs,Wh=$6&&typeof us=="object"&&us&&!us.nodeType&&us,Uae=Wh&&Wh.exports===$6,ck=Uae&&M6.process,Gae=function(){try{var t=Wh&&Wh.require&&Wh.require("util").types;return t||ck&&ck.binding&&ck.binding("util")}catch{}}(),tR=Gae,iR=tR&&tR.isTypedArray,Hae=iR?jae(iR):Nae,FC=Hae,Wae=Object.prototype,Yae=Wae.hasOwnProperty;function Vae(t,e){var i=sn(t),n=!i&&mA(t),r=!i&&!n&&Ty(t),o=!i&&!n&&!r&&FC(t),a=i||n||r||o,s=a?uae(t.length,String):[],l=s.length;for(var c in t)(e||Yae.call(t,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gA(c,l)))&&s.push(c);return s}var $ae=Object.prototype;function Q6(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||$ae;return t===i}function q6(t,e){return function(i){return t(e(i))}}var Qae=q6(Object.keys,Object),qae=Qae,Kae=Object.prototype,Xae=Kae.hasOwnProperty;function K6(t){if(!Q6(t))return qae(t);var e=[];for(var i in Object(t))Xae.call(t,i)&&i!="constructor"&&e.push(i);return e}function Wf(t){return t!=null&&MC(t.length)&&!ky(t)}function Pg(t){return Wf(t)?Vae(t):K6(t)}function X6(t,e){return t&&cae(t,e,Pg)}function Jae(t,e){return function(i,n){if(i==null)return i;if(!Wf(i))return t(i,n);for(var r=i.length,o=e?r:-1,a=Object(i);(e?o--:++o<r)&&n(a[o],o,a)!==!1;);return i}}var Zae=Jae(X6),vA=Zae;function ese(){this.__data__=new Ps,this.size=0}function tse(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function ise(t){return this.__data__.get(t)}function nse(t){return this.__data__.has(t)}var rse=200;function ose(t,e){var i=this.__data__;if(i instanceof Ps){var n=i.__data__;if(!Em||n.length<rse-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ls(n)}return i.set(t,e),this.size=i.size,this}function fs(t){var e=this.__data__=new Ps(t);this.size=e.size}fs.prototype.clear=ese;fs.prototype.delete=tse;fs.prototype.get=ise;fs.prototype.has=nse;fs.prototype.set=ose;var ase="__lodash_hash_undefined__";function sse(t){return this.__data__.set(t,ase),this}function lse(t){return this.__data__.has(t)}function zm(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new Ls;++e<i;)this.add(t[e])}zm.prototype.add=zm.prototype.push=sse;zm.prototype.has=lse;function J6(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function Z6(t,e){return t.has(e)}var cse=1,use=2;function eF(t,e,i,n,r,o){var a=i&cse,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=i&use?new zm:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],w=e[f];if(n)var g=a?n(w,v,f,e,t,o):n(v,w,f,t,e,o);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!J6(e,function(A,x){if(!Z6(m,x)&&(v===A||r(v,A,i,n,o)))return m.push(x)})){h=!1;break}}else if(!(v===w||r(v,w,i,n,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var dse=Rs.Uint8Array,nR=dse;function fse(t){var e=-1,i=Array(t.size);return t.forEach(function(n,r){i[++e]=[r,n]}),i}function NC(t){var e=-1,i=Array(t.size);return t.forEach(function(n){i[++e]=n}),i}var pse=1,hse=2,mse="[object Boolean]",gse="[object Date]",bse="[object Error]",vse="[object Map]",yse="[object Number]",wse="[object RegExp]",Ase="[object Set]",xse="[object String]",kse="[object Symbol]",_se="[object ArrayBuffer]",Tse="[object DataView]",rR=xa?xa.prototype:void 0,uk=rR?rR.valueOf:void 0;function Sse(t,e,i,n,r,o,a){switch(i){case Tse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _se:return!(t.byteLength!=e.byteLength||!o(new nR(t),new nR(e)));case mse:case gse:case yse:return uA(+t,+e);case bse:return t.name==e.name&&t.message==e.message;case wse:case xse:return t==e+"";case vse:var s=fse;case Ase:var l=n&pse;if(s||(s=NC),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=hse,a.set(t,e);var d=eF(s(t),s(e),n,r,o,a);return a.delete(t),d;case kse:if(uk)return uk.call(t)==uk.call(e)}return!1}function tF(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function Cse(t,e,i){var n=e(t);return sn(t)?n:tF(n,i(t))}function Ese(){return[]}var zse=Object.prototype,Ise=zse.propertyIsEnumerable,oR=Object.getOwnPropertySymbols,Rse=oR?function(t){return t==null?[]:(t=Object(t),aae(oR(t),function(e){return Ise.call(t,e)}))}:Ese,Pse=Rse;function aR(t){return Cse(t,Pg,Pse)}var Lse=1,Ose=Object.prototype,Dse=Ose.hasOwnProperty;function Mse(t,e,i,n,r,o){var a=i&Lse,s=aR(t),l=s.length,c=aR(e),d=c.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:Dse.call(e,h)))return!1}var m=o.get(t),v=o.get(e);if(m&&v)return m==e&&v==t;var w=!0;o.set(t,e),o.set(e,t);for(var g=a;++f<l;){h=s[f];var A=t[h],x=e[h];if(n)var T=a?n(x,A,h,e,t,o):n(A,x,h,t,e,o);if(!(T===void 0?A===x||r(A,x,i,n,o):T)){w=!1;break}g||(g=h=="constructor")}if(w&&!g){var E=t.constructor,z=e.constructor;E!=z&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof z=="function"&&z instanceof z)&&(w=!1)}return o.delete(t),o.delete(e),w}var Bse=yu(Rs,"DataView"),x2=Bse,Fse=yu(Rs,"Promise"),k2=Fse,Nse=yu(Rs,"Set"),Od=Nse,jse=yu(Rs,"WeakMap"),_2=jse,sR="[object Map]",Use="[object Object]",lR="[object Promise]",cR="[object Set]",uR="[object WeakMap]",dR="[object DataView]",Gse=vu(x2),Hse=vu(Em),Wse=vu(k2),Yse=vu(Od),Vse=vu(_2),gc=za;(x2&&gc(new x2(new ArrayBuffer(1)))!=dR||Em&&gc(new Em)!=sR||k2&&gc(k2.resolve())!=lR||Od&&gc(new Od)!=cR||_2&&gc(new _2)!=uR)&&(gc=function(t){var e=za(t),i=e==Use?t.constructor:void 0,n=i?vu(i):"";if(n)switch(n){case Gse:return dR;case Hse:return sR;case Wse:return lR;case Yse:return cR;case Vse:return uR}return e});var T2=gc,$se=1,fR="[object Arguments]",pR="[object Array]",M0="[object Object]",Qse=Object.prototype,hR=Qse.hasOwnProperty;function qse(t,e,i,n,r,o){var a=sn(t),s=sn(e),l=a?pR:T2(t),c=s?pR:T2(e);l=l==fR?M0:l,c=c==fR?M0:c;var d=l==M0,f=c==M0,h=l==c;if(h&&Ty(t)){if(!Ty(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new fs),a||FC(t)?eF(t,e,i,n,r,o):Sse(t,e,l,i,n,r,o);if(!(i&$se)){var m=d&&hR.call(t,"__wrapped__"),v=f&&hR.call(e,"__wrapped__");if(m||v){var w=m?t.value():t,g=v?e.value():e;return o||(o=new fs),r(w,g,i,n,o)}}return h?(o||(o=new fs),Mse(t,e,i,n,r,o)):!1}function jC(t,e,i,n,r){return t===e?!0:t==null||e==null||!ka(t)&&!ka(e)?t!==t&&e!==e:qse(t,e,i,n,jC,r)}var Kse=1,Xse=2;function Jse(t,e,i,n){var r=i.length,o=r,a=!n;if(t==null)return!o;for(t=Object(t);r--;){var s=i[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=i[r];var l=s[0],c=t[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new fs;if(n)var h=n(c,d,l,t,e,f);if(!(h===void 0?jC(d,c,Kse|Xse,n,f):h))return!1}}return!0}function iF(t){return t===t&&!El(t)}function Zse(t){for(var e=Pg(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,iF(r)]}return e}function nF(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}function ele(t){var e=Zse(t);return e.length==1&&e[0][2]?nF(e[0][0],e[0][1]):function(i){return i===t||Jse(i,t,e)}}function rF(t,e,i){var n=t==null?void 0:bA(t,e);return n===void 0?i:n}function tle(t,e){return t!=null&&e in Object(t)}function oF(t,e){return t!=null&&Moe(t,e,tle)}var ile=1,nle=2;function rle(t,e){return OC(t)&&iF(e)?nF(Hf(t),e):function(i){var n=rF(i,t);return n===void 0&&n===e?oF(i,t):jC(e,n,ile|nle)}}function ole(t){return function(e){return e==null?void 0:e[t]}}function ale(t){return function(e){return bA(e,t)}}function sle(t){return OC(t)?ole(Hf(t)):ale(t)}function UC(t){return typeof t=="function"?t:t==null?Rg:typeof t=="object"?sn(t)?rle(t[0],t[1]):ele(t):sle(t)}var lle="[object Map]",cle="[object Set]",ule=Object.prototype,dle=ule.hasOwnProperty;function fle(t){if(t==null)return!0;if(Wf(t)&&(sn(t)||typeof t=="string"||typeof t.splice=="function"||Ty(t)||FC(t)||mA(t)))return!t.length;var e=T2(t);if(e==lle||e==cle)return!t.size;if(Q6(t))return!K6(t).length;for(var i in t)if(dle.call(t,i))return!1;return!0}function ple(t,e,i,n){for(var r=t.length,o=i+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function hle(t){return t!==t}function mle(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function aF(t,e,i){return e===e?mle(t,e,i):ple(t,hle,i)}function gle(t,e){var i=t==null?0:t.length;return!!i&&aF(t,e,0)>-1}function ble(t,e,i){for(var n=-1,r=t==null?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}function vle(t,e){for(var i=-1,n=t==null?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}function yle(t){return typeof t=="function"?t:Rg}function wle(t,e){var i=sn(t)?vle:vA;return i(t,yle(e))}var Ale=function(e){return"default"+(e[0].toUpperCase()+e.slice(1))},xle=function(e,i,n,r){r===void 0&&(r=!1);var o=i[e];if(o!==void 0)return o;if(r){var a=i[Ale(e)];if(a!==void 0)return a;if(n){var s=n[e];if(s!==void 0)return s}}if(e==="checked")return!1;if(e==="value")return i.multiple?[]:""},yA=function(t){ye(e,t);function e(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i=t.call.apply(t,[this].concat(r))||this;var a=i.constructor,s=a.autoControlledProps,l=a.getAutoControlledStateFromProps,c=pt(re(i),"getInitialAutoControlledState",i.props)||{},d=s.reduce(function(f,h){return f[h]=xle(h,i.props,c,!0),f},{});return i.state=Me({},c,d,{autoControlledProps:s,getAutoControlledStateFromProps:l}),i}return e.getDerivedStateFromProps=function(n,r){var o=r.autoControlledProps,a=r.getAutoControlledStateFromProps,s=o.reduce(function(c,d){var f=!BC(n[d]);return f&&(c[d]=n[d]),c},{});if(a){var l=a(n,Me({},r,s),r);return Me({},s,l)}return s},e.getAutoControlledStateFromProps=function(){return null},e}(ze.Component);function kle(t,e){var i;return vA(t,function(n,r,o){return i=e(n,r,o),!i}),!!i}function _le(t,e,i){if(!El(i))return!1;var n=typeof e;return(n=="number"?Wf(i)&&gA(e,i.length):n=="string"&&e in i)?uA(i[e],t):!1}function dk(t,e,i){var n=sn(t)?J6:kle;return i&&_le(t,e,i)&&(e=void 0),n(t,UC(e))}var Lt=function(e){return e==null||Array.isArray(e)&&e.length===0},Tle={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function mR(t){var e=typeof t;return e==="string"||e==="number"?Tle[t]||t:""}var pe=function(e,i){return e&&i},Bo=function(e,i){return e&&e!==!0&&e+" "+i},Pi=function(e,i){return e&&(e===!0?i:e+" "+i)},Sy=function(e,i){return!e||e===!0?null:e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(n){return n.replace("-"," ")+" "+i}).join(" ")},wA=function(e){return e==="justified"?"justified":Bo(e,"aligned")},Lg=function(e){return Bo(e,"aligned")},Zo=function(e,i,n){if(i===void 0&&(i=""),n===void 0&&(n=!1),n&&e==="equal")return"equal width";var r=typeof e;return(r==="string"||r==="number")&&i?mR(e)+" "+i:mR(e)},gR=xa?xa.isConcatSpreadable:void 0;function Sle(t){return sn(t)||mA(t)||!!(gR&&t&&t[gR])}function sF(t,e,i,n,r){var o=-1,a=t.length;for(i||(i=Sle),r||(r=[]);++o<a;){var s=t[o];e>0&&i(s)?e>1?sF(s,e-1,i,n,r):tF(r,s):n||(r[r.length]=s)}return r}function Cle(t,e,i){var n=t.length;return i=i===void 0?n:i,!e&&i>=n?t:U6(t,e,i)}function Ele(t){return t.split("")}var zle="\\ud800-\\udfff",Ile="\\u0300-\\u036f",Rle="\\ufe20-\\ufe2f",Ple="\\u20d0-\\u20ff",Lle=Ile+Rle+Ple,Ole="\\ufe0e\\ufe0f",Dle="\\u200d",Mle=RegExp("["+Dle+zle+Lle+Ole+"]");function lF(t){return Mle.test(t)}var cF="\\ud800-\\udfff",Ble="\\u0300-\\u036f",Fle="\\ufe20-\\ufe2f",Nle="\\u20d0-\\u20ff",jle=Ble+Fle+Nle,Ule="\\ufe0e\\ufe0f",Gle="["+cF+"]",S2="["+jle+"]",C2="\\ud83c[\\udffb-\\udfff]",Hle="(?:"+S2+"|"+C2+")",uF="[^"+cF+"]",dF="(?:\\ud83c[\\udde6-\\uddff]){2}",fF="[\\ud800-\\udbff][\\udc00-\\udfff]",Wle="\\u200d",pF=Hle+"?",hF="["+Ule+"]?",Yle="(?:"+Wle+"(?:"+[uF,dF,fF].join("|")+")"+hF+pF+")*",Vle=hF+pF+Yle,$le="(?:"+[uF+S2+"?",S2,dF,fF,Gle].join("|")+")",Qle=RegExp(C2+"(?="+C2+")|"+$le+Vle,"g");function qle(t){return t.match(Qle)||[]}function Kle(t){return lF(t)?qle(t):Ele(t)}function Xle(t,e,i){e=="__proto__"&&_y?_y(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Jle=Object.prototype,Zle=Jle.hasOwnProperty;function ece(t,e,i){var n=t[e];(!(Zle.call(t,e)&&uA(n,i))||i===void 0&&!(e in t))&&Xle(t,e,i)}function tce(t,e,i,n){if(!El(t))return t;e=Ig(e,t);for(var r=-1,o=e.length,a=o-1,s=t;s!=null&&++r<o;){var l=Hf(e[r]),c=i;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=a){var d=s[l];c=n?n(d,l,s):void 0,c===void 0&&(c=El(d)?d:gA(e[r+1])?[]:{})}ece(s,l,c),s=s[l]}return t}function ice(t,e,i){for(var n=-1,r=e.length,o={};++n<r;){var a=e[n],s=bA(t,a);i(s,a)&&tce(o,Ig(a,t),s)}return o}function nce(t,e){return ice(t,e,function(i,n){return oF(t,n)})}function rce(t){var e=t==null?0:t.length;return e?sF(t,1):[]}function oce(t){return W6(G6(t,void 0,rce),t+"")}var ace=oce(function(t,e){return t==null?{}:nce(t,e)}),mF=ace,sce=q6(Object.getPrototypeOf,Object),lce=sce,cce="[object Object]",uce=Function.prototype,dce=Object.prototype,gF=uce.toString,fce=dce.hasOwnProperty,pce=gF.call(Object);function bF(t){if(!ka(t)||za(t)!=cce)return!1;var e=lce(t);if(e===null)return!0;var i=fce.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&gF.call(i)==pce}function Bi(t){return t==null}function hce(t,e){var i=-1,n=Wf(t)?Array(t.length):[];return vA(t,function(r,o,a){n[++i]=e(r,o,a)}),n}function Im(t,e){var i=sn(t)?DC:hce;return i(t,UC(e))}var GC={exports:{}},Cy={},vF={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window!="undefined"&&window.document&&window.document.createElement),i={canUseDOM:e,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=i:window.ExecutionEnvironment=i})()})(vF);Object.defineProperty(Cy,"__esModule",{value:!0});var bR=vF.exports,mce=$.exports;function yF(t){return(yF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Og(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vR(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dg(t,e,i){return e&&vR(t.prototype,e),i&&vR(t,i),t}function fo(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AF(t,e)}function wF(t){return(wF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function AF(t,e){return(AF=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(t,e)}function bce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vce(t,e){return!e||typeof e!="object"&&typeof e!="function"?bce(t):e}var xF=function(){function t(e){Og(this,t),fo(this,"handlers",void 0),this.handlers=e.slice(0)}return Dg(t,[{key:"addHandlers",value:function(e){for(var i=this.handlers.slice(0),n=e.length,r=0;r<n;r+=1)i.push(e[r]);return new t(i)}},{key:"dispatchEvent",value:function(e,i){var n=this.handlers.length-1;if(i){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var o=n;o>=0;o-=1)this.handlers[o].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var i=[],n=this.handlers.length,r=0;r<n;r+=1){var o=this.handlers[r];e.indexOf(o)===-1&&i.push(o)}return new t(i)}}]),t}();function yR(t){var e=new Map;return t.forEach(function(i,n){e.set(n,i)}),e}function wR(t){return Array.isArray(t)?t:[t]}var yce=function(t){return t!==null&&yF(t)==="object"&&t.hasOwnProperty("current")};function AR(t){return t==="document"?document:t==="window"?window:yce(t)?t.current||document:t||document}var E2=function(){function t(e,i){Og(this,t),fo(this,"handlerSets",void 0),fo(this,"poolName",void 0),this.handlerSets=i,this.poolName=e}return Dg(t,[{key:"addHandlers",value:function(e,i){var n=yR(this.handlerSets);if(n.has(e)){var r=n.get(e);n.set(e,r.addHandlers(i))}else n.set(e,new xF(i));return new t(this.poolName,n)}},{key:"dispatchEvent",value:function(e,i){var n=this.handlerSets.get(e),r=this.poolName==="default";n&&n.dispatchEvent(i,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var i=this.handlerSets.get(e);return!!i&&i.hasHandlers()}},{key:"removeHandlers",value:function(e,i){var n=yR(this.handlerSets);if(!n.has(e))return new t(this.poolName,n);var r=n.get(e).removeHandlers(i);return r.hasHandlers()?n.set(e,r):n.delete(e),new t(this.poolName,n)}}]),t}();fo(E2,"createByType",function(t,e,i){var n=new Map;return n.set(e,new xF(i)),new E2(t,n)});var wce=function(){function t(e){var i=this;Og(this,t),fo(this,"handlers",new Map),fo(this,"pools",new Map),fo(this,"target",void 0),fo(this,"createEmitter",function(n){return function(r){i.pools.forEach(function(o){o.dispatchEvent(n,r)})}}),this.target=e}return Dg(t,[{key:"addHandlers",value:function(e,i,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(i,n))}else this.pools.set(e,E2.createByType(e,i,n));this.handlers.has(i)||this.addTargetHandler(i)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,i,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(i,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var o=!1;this.pools.forEach(function(a){return o=o||a.hasHandlers(i)}),o||this.removeTargetHandler(i)}}},{key:"addTargetHandler",value:function(e){var i=this.createEmitter(e);this.handlers.set(e,i),this.target.addEventListener(e,i,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),t}(),Ace=function(){function t(){var e=this;Og(this,t),fo(this,"targets",new Map),fo(this,"getTarget",function(i){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=AR(i);if(e.targets.has(r))return e.targets.get(r);if(!n)return null;var o=new wce(r);return e.targets.set(r,o),o}),fo(this,"removeTarget",function(i){e.targets.delete(AR(i))})}return Dg(t,[{key:"sub",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(bR.canUseDOM){var r=n.target,o=r===void 0?document:r,a=n.pool,s=a===void 0?"default":a;this.getTarget(o).addHandlers(s,e,wR(i))}}},{key:"unsub",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(bR.canUseDOM){var r=n.target,o=r===void 0?document:r,a=n.pool,s=a===void 0?"default":a,l=this.getTarget(o,!1);l&&(l.removeHandlers(s,e,wR(i)),l.hasHandlers()||this.removeTarget(o))}}}]),t}(),z2=new Ace,fk=function(t){function e(){return Og(this,e),vce(this,wF(e).apply(this,arguments))}return gce(e,mce.PureComponent),Dg(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(i){this.unsubscribe(i),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(i){var n=i.name,r=i.on,o=i.pool,a=i.target;z2.sub(n,r,{pool:o,target:a})}},{key:"unsubscribe",value:function(i){var n=i.name,r=i.on,o=i.pool,a=i.target;z2.unsub(n,r,{pool:o,target:a})}},{key:"render",value:function(){return null}}]),e}();fo(fk,"defaultProps",{pool:"default",target:"document"}),fk.propTypes={},Cy.instance=z2,Cy.default=fk;var HC;HC=Cy;GC.exports=HC.default;var xh=GC.exports.instance=HC.instance,sd=GC.exports;function xce(){}var kce=1/0,_ce=Od&&1/NC(new Od([,-0]))[1]==kce?function(t){return new Od(t)}:xce,Tce=_ce,Sce=200;function Cce(t,e,i){var n=-1,r=gle,o=t.length,a=!0,s=[],l=s;if(i)a=!1,r=ble;else if(o>=Sce){var c=e?null:Tce(t);if(c)return NC(c);a=!1,r=Z6,l=new zm}else l=e?[]:s;e:for(;++n<o;){var d=t[n],f=e?e(d):d;if(d=i||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else r(l,f,i)||(l!==s&&l.push(f),s.push(d))}return s}function Ece(t){return t&&t.length?Cce(t):[]}var zce="[object Number]";function Ice(t){return typeof t=="number"||ka(t)&&za(t)==zce}var Rce="[object String]";function kF(t){return typeof t=="string"||!sn(t)&&ka(t)&&za(t)==Rce}var Pce="[object Boolean]";function Lce(t){return t===!0||t===!1||ka(t)&&za(t)==Pce}function _F(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=_F(t[e]))&&(n&&(n+=" "),n+=i);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function rt(){for(var t=0,e,i,n="";t<arguments.length;)(e=arguments[t++])&&(i=_F(e))&&(n&&(n+=" "),n+=i);return n}function Oce(t,e,i,n){if(n===void 0&&(n={}),typeof t!="function"&&typeof t!="string")throw new Error("createShorthand() Component must be a string or function.");if(Bi(i)||Lce(i))return null;var r=kF(i),o=Ice(i),a=ky(i),s=$.exports.isValidElement(i),l=bF(i),c=r||o||sn(i);if(!a&&!s&&!l&&!c)return null;var d=n,f=d.defaultProps,h=f===void 0?{}:f,m=s&&i.props||l&&i||c&&e(i),v=n,w=v.overrideProps,g=w===void 0?{}:w;g=ky(g)?g(Me({},h,m)):g;var A=Me({},h,m,g);if(h.className||g.className||m.className){var x=rt(h.className,g.className,m.className);A.className=Ece(x.split(" ")).join(" ")}if((h.style||g.style||m.style)&&(A.style=Me({},h.style,m.style,g.style)),Bi(A.key)){var T=A.childKey,E=n,z=E.autoGenerateKey,L=z===void 0?!0:z;Bi(T)?L&&(r||o)&&(A.key=i):(A.key=typeof T=="function"?T(A):T,delete A.childKey)}if(s)return $.exports.cloneElement(i,A);if(typeof A.children=="function")return A.children(t,Me({},A,{children:void 0}));if(c||l)return $.exports.createElement(t,A);if(a)return i(t,A,A.children)}function _n(t,e){if(typeof t!="function"&&typeof t!="string")throw new Error("createShorthandFactory() Component must be a string or function.");return function(i,n){return Oce(t,e,i,n)}}var Dce=_n("div",function(t){return{children:t}}),Mce=function(e,i){var n=e.handledProps,r=n===void 0?[]:n;return Object.keys(i).reduce(function(o,a){return a==="childKey"||r.indexOf(a)===-1&&(o[a]=i[a]),o},{})},Ct=Mce;function zt(t,e,i){var n=t.defaultProps,r=n===void 0?{}:n;if(e.as&&e.as!==r.as)return e.as;if(i){var o=i();if(o)return o}return e.href?"a":r.as||"div"}function Bce(t,e){return DC(e,function(i){return t[i]})}function Fce(t){return t==null?[]:Bce(t,Pg(t))}var Nce=Math.max;function vd(t,e,i,n){t=Wf(t)?t:Fce(t),i=i&&!n?oae(i):0;var r=t.length;return i<0&&(i=Nce(r+i,0)),kF(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&aF(t,e,i)>-1}var jce=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Uce=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Gce=[].concat(jce,Uce),Hce=["alt","height","src","srcSet","width","loading"],Wce=function(e,i){i===void 0&&(i={});var n=i,r=n.htmlProps,o=r===void 0?Gce:r,a=n.includeAria,s=a===void 0?!0:a,l={},c={};return wle(e,function(d,f){var h=s&&(/^aria-.*$/.test(f)||f==="role"),m=vd(o,f)||h?l:c;m[f]=d}),[l,c]},Yce=typeof document=="object"&&document!==null,Vce=typeof window=="object"&&window!==null&&window.self===window,$ce=function t(){return Bi(t.override)?Yce&&Vce:t.override},Hc=$ce,Qce=Math.max,qce=Math.min;function Kce(t,e,i){return t>=qce(e,i)&&t<Qce(e,i)}function xR(t,e,i){return e=A2(e),i===void 0?(i=e,e=0):i=A2(i),t=Y6(t),Kce(t,e,i)}function Xce(t){return t&&t.length?t[0]:void 0}var Jce=function(e,i){if(dk([i,e],Bi))return!1;if(i.target&&(pt(i.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return pt(i.target,"removeAttribute","data-suir-click-target"),e.contains(i.target);var n=i.clientX,r=i.clientY;if(dk([n,r],Bi))return!1;var o=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!o||!o.length)return!1;var a=Xce(o),s=a.top,l=a.bottom,c=a.left,d=a.right;return dk([s,l,c,d],Bi)?!1:xR(r,s,l+.001)&&xR(n,c,d+.001)},Dd=Jce,Zce=Hc()?ze.useLayoutEffect:ze.useEffect,kR=Zce,eue=/\s+/;function tue(t){var e=[];return t?(t.forEach(function(i){if(typeof i.current=="string"){var n=i.current.split(eue);n.forEach(function(r){e.push(r)})}}),e.filter(function(i,n,r){return i.length>0&&r.indexOf(i)===n})):[]}function iue(t,e){return[e.filter(function(i){return t.indexOf(i)===-1}),t.filter(function(i){return e.indexOf(i)===-1})]}var _R=new Map,pk=function(e,i){var n=tue(i),r=iue(_R.get(e)||[],n),o=r[0],a=r[1];e&&(o.forEach(function(s){return e.classList.add(s)}),a.forEach(function(s){return e.classList.remove(s)})),_R.set(e,n)},nue=function(){var e=this;this.add=function(i,n){if(e.nodes.has(i)){var r=e.nodes.get(i);r.add(n);return}var o=new Set;o.add(n),e.nodes.set(i,o)},this.del=function(i,n){if(!!e.nodes.has(i)){var r=e.nodes.get(i);if(r.size===1){e.nodes.delete(i);return}r.delete(n)}},this.emit=function(i,n){n(i,e.nodes.get(i))},this.nodes=new Map},ah=new nue;function rue(t,e){var i=ze.useRef(),n=ze.useRef(!1);kR(function(){if(i.current=e,n.current){var r=w2(t)?t.current:t;ah.emit(r,pk)}n.current=!0},[e]),kR(function(){var r=w2(t)?t.current:t;return ah.add(r,i),ah.emit(r,pk),function(){ah.del(r,i),ah.emit(r,pk)}},[t])}function of(t){var e=t.children,i=t.className,n=t.content,r=t.size,o=rt(r,"icons",i),a=Ct(of,t),s=zt(of,t);return ze.createElement(s,Me({},a,{className:o}),Lt(e)?n:e)}of.handledProps=["as","children","className","content","size"];of.propTypes={};of.defaultProps={as:"i"};var lu=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.disabled;if(l){s.preventDefault();return}pt(n.props,"onClick",s,n.props)},n}var i=e.prototype;return i.getIconAriaOptions=function(){var r={},o=this.props,a=o["aria-label"],s=o["aria-hidden"];return Bi(a)?r["aria-hidden"]="true":r["aria-label"]=a,Bi(s)||(r["aria-hidden"]=s),r},i.render=function(){var r=this.props,o=r.bordered,a=r.circular,s=r.className,l=r.color,c=r.corner,d=r.disabled,f=r.fitted,h=r.flipped,m=r.inverted,v=r.link,w=r.loading,g=r.name,A=r.rotated,x=r.size,T=rt(l,g,x,pe(o,"bordered"),pe(a,"circular"),pe(d,"disabled"),pe(f,"fitted"),pe(m,"inverted"),pe(v,"link"),pe(w,"loading"),Pi(c,"corner"),Bo(h,"flipped"),Bo(A,"rotated"),"icon",s),E=Ct(e,this.props),z=zt(e,this.props),L=this.getIconAriaOptions();return P(z,{...E,...L,className:T,onClick:this.handleClick})},e}($.exports.PureComponent);lu.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"];lu.propTypes={};lu.defaultProps={as:"i"};lu.Group=of;lu.create=_n(lu,function(t){return{name:t}});var af=lu,TR=function(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"},Ey={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(var B0=0;B0<24;B0+=1)Ey[112+B0]="F"+(B0+1);for(var hk=0;hk<26;hk+=1){var mk=hk+65;Ey[mk]=[String.fromCharCode(mk+32),String.fromCharCode(mk)]}var je={codes:Ey,getCode:function(e){return TR(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var i=TR(e);if(i&&e.key)return e.key;var n=Ey[i?e.keyCode||e.which:e];return Array.isArray(n)&&(i?n=n[e.shiftKey?1:0]:n=n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};je.Spacebar=je[" "];je.Digit0=je[0];je.Digit1=je[1];je.Digit2=je[2];je.Digit3=je[3];je.Digit4=je[4];je.Digit5=je[5];je.Digit6=je[6];je.Digit7=je[7];je.Digit8=je[8];je.Digit9=je[9];je.Tilde=je["~"];je.GraveAccent=je["`"];je.ExclamationPoint=je["!"];je.AtSign=je["@"];je.PoundSign=je["#"];je.PercentSign=je["%"];je.Caret=je["^"];je.Ampersand=je["&"];je.PlusSign=je["+"];je.MinusSign=je["-"];je.EqualsSign=je["="];je.DivisionSign=je["/"];je.MultiplicationSign=je["*"];je.Comma=je[","];je.Decimal=je["."];je.Colon=je[":"];je.Semicolon=je[";"];je.Pipe=je["|"];je.BackSlash=je["\\"];je.QuestionMark=je["?"];je.SingleQuote=je["'"];je.DoubleQuote=je['"'];je.LeftCurlyBrace=je["{"];je.RightCurlyBrace=je["}"];je.LeftParenthesis=je["("];je.RightParenthesis=je[")"];je.LeftAngleBracket=je["<"];je.RightAngleBracket=je[">"];je.LeftSquareBracket=je["["];je.RightSquareBracket=je["]"];var SR=je,WC=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleRef=function(s){ls(n.props.innerRef,s)},n}var i=e.prototype;return i.componentDidMount=function(){pt(this.props,"onMount",null,this.props)},i.componentWillUnmount=function(){pt(this.props,"onUnmount",null,this.props)},i.render=function(){if(!Hc())return null;var r=this.props,o=r.children,a=r.mountNode,s=a===void 0?document.body:a;return yl.exports.createPortal(P(Cl,{innerRef:this.handleRef,children:o}),s)},e}($.exports.Component);WC.handledProps=["children","innerRef","mountNode","onMount","onUnmount"];WC.propTypes={};var TF=WC,Yf=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.contentRef=ze.createRef(),n.triggerRef=ze.createRef(),n.latestDocumentMouseDownEvent=null,n.handleDocumentMouseDown=function(s){n.latestDocumentMouseDownEvent=s},n.handleDocumentClick=function(s){var l=n.props.closeOnDocumentClick,c=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!(!n.contentRef.current||Dd(n.triggerRef.current,s)||c&&Dd(n.contentRef.current,c)||Dd(n.contentRef.current,s))&&l&&n.close(s)},n.handleEscape=function(s){!n.props.closeOnEscape||SR.getCode(s)===SR.Escape&&n.close(s)},n.handlePortalMouseLeave=function(s){var l=n.props,c=l.closeOnPortalMouseLeave,d=l.mouseLeaveDelay;!c||s.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(s,d))},n.handlePortalMouseEnter=function(){var s=n.props.closeOnPortalMouseLeave;!s||clearTimeout(n.mouseLeaveTimer)},n.handleTriggerBlur=function(s){for(var l=n.props,c=l.trigger,d=l.closeOnTriggerBlur,f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];pt.apply(void 0,[c,"props.onBlur",s].concat(h));var v=s.relatedTarget||document.activeElement,w=pt(n.contentRef.current,"contains",v);!d||w||n.close(s)},n.handleTriggerClick=function(s){for(var l=n.props,c=l.trigger,d=l.closeOnTriggerClick,f=l.openOnTriggerClick,h=n.state.open,m=arguments.length,v=new Array(m>1?m-1:0),w=1;w<m;w++)v[w-1]=arguments[w];pt.apply(void 0,[c,"props.onClick",s].concat(v)),h&&d?n.close(s):!h&&f&&n.open(s)},n.handleTriggerFocus=function(s){for(var l=n.props,c=l.trigger,d=l.openOnTriggerFocus,f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];pt.apply(void 0,[c,"props.onFocus",s].concat(h)),d&&n.open(s)},n.handleTriggerMouseLeave=function(s){clearTimeout(n.mouseEnterTimer);for(var l=n.props,c=l.trigger,d=l.closeOnTriggerMouseLeave,f=l.mouseLeaveDelay,h=arguments.length,m=new Array(h>1?h-1:0),v=1;v<h;v++)m[v-1]=arguments[v];pt.apply(void 0,[c,"props.onMouseLeave",s].concat(m)),d&&(n.mouseLeaveTimer=n.closeWithTimeout(s,f))},n.handleTriggerMouseEnter=function(s){clearTimeout(n.mouseLeaveTimer);for(var l=n.props,c=l.trigger,d=l.mouseEnterDelay,f=l.openOnTriggerMouseEnter,h=arguments.length,m=new Array(h>1?h-1:0),v=1;v<h;v++)m[v-1]=arguments[v];pt.apply(void 0,[c,"props.onMouseEnter",s].concat(m)),f&&(n.mouseEnterTimer=n.openWithTimeout(s,d))},n.open=function(s){pt(n.props,"onOpen",s,Me({},n.props,{open:!0})),n.setState({open:!0})},n.openWithTimeout=function(s,l){var c=Me({},s);return setTimeout(function(){return n.open(c)},l||0)},n.close=function(s){n.setState({open:!1}),pt(n.props,"onClose",s,Me({},n.props,{open:!1}))},n.closeWithTimeout=function(s,l){var c=Me({},s);return setTimeout(function(){return n.close(c)},l||0)},n.handleMount=function(){pt(n.props,"onMount",null,n.props)},n.handleUnmount=function(){pt(n.props,"onUnmount",null,n.props)},n.handleTriggerRef=function(s){n.triggerRef.current=s,ls(n.props.triggerRef,s)},n}var i=e.prototype;return i.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},i.render=function(){var r=this.props,o=r.children,a=r.eventPool,s=r.mountNode,l=r.trigger,c=this.state.open;return ze.createElement(ze.Fragment,null,c&&ze.createElement(ze.Fragment,null,ze.createElement(TF,{innerRef:this.contentRef,mountNode:s,onMount:this.handleMount,onUnmount:this.handleUnmount},o),ze.createElement(sd,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:a,target:this.contentRef}),ze.createElement(sd,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:a,target:this.contentRef}),ze.createElement(sd,{name:"mousedown",on:this.handleDocumentMouseDown,pool:a}),ze.createElement(sd,{name:"click",on:this.handleDocumentClick,pool:a}),ze.createElement(sd,{name:"keydown",on:this.handleEscape,pool:a})),l&&ze.createElement(Cl,{innerRef:this.handleTriggerRef},ze.cloneElement(l,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},e}(yA);Yf.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"];Yf.propTypes={};Yf.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0};Yf.autoControlledProps=["open"];Yf.Inner=TF;var Md=Yf;function Rm(t){var e=t.blurring,i=t.className,n=t.children,r=t.content,o=t.dimmed,a=rt(pe(e,"blurring"),pe(o,"dimmed"),"dimmable",i),s=Ct(Rm,t),l=zt(Rm,t);return ze.createElement(l,Me({},s,{className:a}),Lt(n)?r:n)}Rm.handledProps=["as","blurring","children","className","content","dimmed"];Rm.propTypes={};var Pm=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.containerRef=$.exports.createRef(),n.contentRef=$.exports.createRef(),n.handleClick=function(s){var l=n.contentRef.current;pt(n.props,"onClick",s,n.props),!(l&&l!==s.target&&Dd(l,s))&&pt(n.props,"onClickOutside",s,n.props)},n}var i=e.prototype;return i.componentDidMount=function(){var r=this.props.active;this.toggleStyles(r)},i.componentDidUpdate=function(r){var o=this.props.active,a=r.active;a!==o&&this.toggleStyles(o)},i.toggleStyles=function(r){var o=this.containerRef.current;!o||!o.style||(r?o.style.setProperty("display","flex","important"):o.style.removeProperty("display"))},i.render=function(){var r=this.props,o=r.active,a=r.children,s=r.className,l=r.content,c=r.disabled,d=r.inverted,f=r.page,h=r.simple,m=r.verticalAlign,v=rt("ui",pe(o,"active transition visible"),pe(c,"disabled"),pe(d,"inverted"),pe(f,"page"),pe(h,"simple"),Lg(m),"dimmer",s),w=Ct(e,this.props),g=zt(e,this.props),A=Lt(a)?l:a;return P(Cl,{innerRef:this.containerRef,children:P(g,{...w,className:v,onClick:this.handleClick,children:A&&P("div",{className:"content",ref:this.contentRef,children:A})})})},e}($.exports.Component);Pm.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"];Pm.propTypes={};var cu=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handlePortalMount=function(){!Hc()||(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},n.handlePortalUnmount=function(){!Hc()||(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.page,s=Ct(e,this.props);return a?P(Md,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:o,openOnTriggerClick:!1,children:P(Pm,{...s,active:o,page:a})}):P(Pm,{...s,active:o,page:a})},e}($.exports.Component);cu.handledProps=["active","page"];cu.propTypes={};cu.Dimmable=Rm;cu.Inner=Pm;cu.create=_n(cu,function(t){return{content:t}});function Lm(t){var e=t.children,i=t.className,n=t.content,r=t.size,o=rt("ui",r,i,"images"),a=Ct(Lm,t),s=zt(Lm,t);return ze.createElement(s,Me({},a,{className:o}),Lt(e)?n:e)}Lm.handledProps=["as","children","className","content","size"];Lm.propTypes={};function ws(t){var e=t.avatar,i=t.bordered,n=t.centered,r=t.children,o=t.circular,a=t.className,s=t.content,l=t.dimmer,c=t.disabled,d=t.floated,f=t.fluid,h=t.hidden,m=t.href,v=t.inline,w=t.label,g=t.rounded,A=t.size,x=t.spaced,T=t.verticalAlign,E=t.wrapped,z=t.ui,L=rt(pe(z,"ui"),A,pe(e,"avatar"),pe(i,"bordered"),pe(o,"circular"),pe(n,"centered"),pe(c,"disabled"),pe(f,"fluid"),pe(h,"hidden"),pe(v,"inline"),pe(g,"rounded"),Pi(x,"spaced"),Bo(d,"floated"),Lg(T),"image",a),B=Ct(ws,t),O=Wce(B,{htmlProps:Hce}),F=O[0],H=O[1],X=zt(ws,t,function(){if(!Bi(l)||!Bi(w)||!Bi(E)||!Lt(r))return"div"});return Lt(r)?Lt(s)?X==="img"?ze.createElement(X,Me({},H,F,{className:L})):ze.createElement(X,Me({},H,{className:L,href:m}),cu.create(l,{autoGenerateKey:!1}),Il.create(w,{autoGenerateKey:!1}),ze.createElement("img",F)):ze.createElement(X,Me({},B,{className:L}),s):ze.createElement(X,Me({},B,{className:L}),r)}ws.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"];ws.Group=Lm;ws.propTypes={};ws.defaultProps={as:"img",ui:!0};ws.create=_n(ws,function(t){return{src:t}});function zl(t){var e=t.children,i=t.className,n=t.content,r=rt("detail",i),o=Ct(zl,t),a=zt(zl,t);return ze.createElement(a,Me({},o,{className:r}),Lt(e)?n:e)}zl.handledProps=["as","children","className","content"];zl.propTypes={};zl.create=_n(zl,function(t){return{content:t}});function Om(t){var e=t.children,i=t.circular,n=t.className,r=t.color,o=t.content,a=t.size,s=t.tag,l=rt("ui",r,a,pe(i,"circular"),pe(s,"tag"),"labels",n),c=Ct(Om,t),d=zt(Om,t);return ze.createElement(d,Me({},c,{className:l}),Lt(e)?o:e)}Om.handledProps=["as","children","circular","className","color","content","size","tag"];Om.propTypes={};var Il=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.onClick;l&&l(s,n.props)},n.handleIconOverrides=function(s){return{onClick:function(c){pt(s,"onClick",c),pt(n.props,"onRemove",c,n.props)}}},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.attached,s=r.basic,l=r.children,c=r.circular,d=r.className,f=r.color,h=r.content,m=r.corner,v=r.detail,w=r.empty,g=r.floating,A=r.horizontal,x=r.icon,T=r.image,E=r.onRemove,z=r.pointing,L=r.prompt,B=r.removeIcon,O=r.ribbon,F=r.size,H=r.tag,X=z===!0&&"pointing"||(z==="left"||z==="right")&&z+" pointing"||(z==="above"||z==="below")&&"pointing "+z,de=rt("ui",f,X,F,pe(o,"active"),pe(s,"basic"),pe(c,"circular"),pe(w,"empty"),pe(g,"floating"),pe(A,"horizontal"),pe(T===!0,"image"),pe(L,"prompt"),pe(H,"tag"),Pi(m,"corner"),Pi(O,"ribbon"),Bo(a,"attached"),"label",d),we=Ct(e,this.props),Ee=zt(e,this.props);if(!Lt(l))return P(Ee,{...we,className:de,onClick:this.handleClick,children:l});var _e=BC(B)?"delete":B;return ue(Ee,{className:de,onClick:this.handleClick,...we,children:[af.create(x,{autoGenerateKey:!1}),typeof T!="boolean"&&ws.create(T,{autoGenerateKey:!1}),h,zl.create(v,{autoGenerateKey:!1}),E&&af.create(_e,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides})]})},e}($.exports.Component);Il.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"];Il.propTypes={};Il.Detail=zl;Il.Group=Om;Il.create=_n(Il,function(t){return{content:t}});function Dm(t){var e=t.children,i=t.className,n=t.content,r=t.hidden,o=t.visible,a=rt(pe(o,"visible"),pe(r,"hidden"),"content",i),s=Ct(Dm,t),l=zt(Dm,t);return ze.createElement(l,Me({},s,{className:a}),Lt(e)?n:e)}Dm.handledProps=["as","children","className","content","hidden","visible"];Dm.propTypes={};function Mm(t){var e=t.attached,i=t.basic,n=t.buttons,r=t.children,o=t.className,a=t.color,s=t.compact,l=t.content,c=t.floated,d=t.fluid,f=t.icon,h=t.inverted,m=t.labeled,v=t.negative,w=t.positive,g=t.primary,A=t.secondary,x=t.size,T=t.toggle,E=t.vertical,z=t.widths,L=rt("ui",a,x,pe(i,"basic"),pe(s,"compact"),pe(d,"fluid"),pe(f,"icon"),pe(h,"inverted"),pe(m,"labeled"),pe(v,"negative"),pe(w,"positive"),pe(g,"primary"),pe(A,"secondary"),pe(T,"toggle"),pe(E,"vertical"),Pi(e,"attached"),Bo(c,"floated"),Zo(z),"buttons",o),B=Ct(Mm,t),O=zt(Mm,t);return Bi(n)?ze.createElement(O,Me({},B,{className:L}),Lt(r)?l:r):ze.createElement(O,Me({},B,{className:L}),Im(n,function(F){return SF.create(F)}))}Mm.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"];Mm.propTypes={};function Bm(t){var e=t.className,i=t.text,n=rt("or",e),r=Ct(Bm,t),o=zt(Bm,t);return ze.createElement(o,Me({},r,{className:n,"data-text":i}))}Bm.handledProps=["as","className","text"];Bm.propTypes={};var As=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.ref=$.exports.createRef(),n.computeElementType=function(){var s=n.props,l=s.attached,c=s.label;if(!Bi(l)||!Bi(c))return"div"},n.computeTabIndex=function(s){var l=n.props,c=l.disabled,d=l.tabIndex;if(!Bi(d))return d;if(c)return-1;if(s==="div")return 0},n.focus=function(){return pt(n.ref.current,"focus")},n.handleClick=function(s){var l=n.props.disabled;if(l){s.preventDefault();return}pt(n.props,"onClick",s,n.props)},n.hasIconClass=function(){var s=n.props,l=s.labelPosition,c=s.children,d=s.content,f=s.icon;return f===!0?!0:f&&(l||Lt(c)&&Bi(d))},n}var i=e.prototype;return i.computeButtonAriaRole=function(r){var o=this.props.role;if(!Bi(o))return o;if(r!=="button")return"button"},i.render=function(){var r=this.props,o=r.active,a=r.animated,s=r.attached,l=r.basic,c=r.children,d=r.circular,f=r.className,h=r.color,m=r.compact,v=r.content,w=r.disabled,g=r.floated,A=r.fluid,x=r.icon,T=r.inverted,E=r.label,z=r.labelPosition,L=r.loading,B=r.negative,O=r.positive,F=r.primary,H=r.secondary,X=r.size,de=r.toggle,we=rt(h,X,pe(o,"active"),pe(l,"basic"),pe(d,"circular"),pe(m,"compact"),pe(A,"fluid"),pe(this.hasIconClass(),"icon"),pe(T,"inverted"),pe(L,"loading"),pe(B,"negative"),pe(O,"positive"),pe(F,"primary"),pe(H,"secondary"),pe(de,"toggle"),Pi(a,"animated"),Pi(s,"attached")),Ee=rt(Pi(z||!!E,"labeled")),_e=rt(pe(w,"disabled"),Bo(g,"floated")),Ne=Ct(e,this.props),Be=zt(e,this.props,this.computeElementType),Ve=this.computeTabIndex(Be);if(!Bi(E)){var Pe=rt("ui",we,"button",f),De=rt("ui",Ee,"button",f,_e),se=Il.create(E,{defaultProps:{basic:!0,pointing:z==="left"?"right":"left"},autoGenerateKey:!1});return ue(Be,{...Ne,className:De,onClick:this.handleClick,children:[z==="left"&&se,P(Cl,{innerRef:this.ref,children:ue("button",{className:Pe,"aria-pressed":de?!!o:void 0,disabled:w,tabIndex:Ve,children:[af.create(x,{autoGenerateKey:!1})," ",v]})}),(z==="right"||!z)&&se]})}var Z=rt("ui",we,_e,Ee,"button",f),ce=!Lt(c),te=this.computeButtonAriaRole(Be);return P(Cl,{innerRef:this.ref,children:ue(Be,{...Ne,className:Z,"aria-pressed":de?!!o:void 0,disabled:w&&Be==="button"||void 0,onClick:this.handleClick,role:te,tabIndex:Ve,children:[ce&&c,!ce&&af.create(x,{autoGenerateKey:!1}),!ce&&v]})})},e}($.exports.Component);As.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"];As.propTypes={};As.defaultProps={as:"button"};As.Content=Dm;As.Group=Mm;As.Or=Bm;As.create=_n(As,function(t){return{content:t}});var SF=As;function CF(t,e,i,n){var r=-1,o=t==null?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function oue(t,e,i,n,r){return r(t,function(o,a,s){i=n?(n=!1,o):e(i,o,a,s)}),i}function EF(t,e,i){var n=sn(t)?CF:oue,r=arguments.length<3;return n(t,UC(e),i,r,vA)}var zF=function(e,i,n,r){var o=n?n.call(r,e,i):void 0;if(o!==void 0)return!!o;if(e===i)return!0;if(typeof e!="object"||!e||typeof i!="object"||!i)return!1;var a=Object.keys(e),s=Object.keys(i);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(i),c=0;c<a.length;c++){var d=a[c];if(!l(d))return!1;var f=e[d],h=i[d];if(o=n?n.call(r,f,h,d):void 0,o===!1||o===void 0&&f!==h)return!1}return!0},sf=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleButtonOverrides=function(s){return{onClick:function(c,d){pt(s,"onClick",c,d),pt(n.props,"onActionClick",c,d)}}},n}var i=e.prototype;return i.render=function(){var r=this,o=this.props,a=o.actions,s=o.children,l=o.className,c=o.content,d=rt("actions",l),f=Ct(e,this.props),h=zt(e,this.props);return Lt(s)?Lt(c)?P(h,{...f,className:d,children:Im(a,function(m){return SF.create(m,{overrideProps:r.handleButtonOverrides})})}):P(h,{...f,className:d,children:c}):P(h,{...f,className:d,children:s})},e}($.exports.Component);sf.handledProps=["actions","as","children","className","content","onActionClick"];sf.propTypes={};sf.create=_n(sf,function(t){return{actions:t}});function Rl(t){var e=t.children,i=t.className,n=t.content,r=t.image,o=t.scrolling,a=rt(i,pe(r,"image"),pe(o,"scrolling"),"content"),s=Ct(Rl,t),l=zt(Rl,t);return ze.createElement(l,Me({},s,{className:a}),Lt(e)?n:e)}Rl.handledProps=["as","children","className","content","image","scrolling"];Rl.propTypes={};Rl.create=_n(Rl,function(t){return{content:t}});function Fm(t){var e=t.children,i=t.className,n=t.content,r=rt("description",i),o=Ct(Fm,t),a=zt(Fm,t);return ze.createElement(a,Me({},o,{className:r}),Lt(e)?n:e)}Fm.handledProps=["as","children","className","content"];Fm.propTypes={};function Pl(t){var e=t.blurring,i=t.children,n=t.className,r=t.centered,o=t.content,a=t.inverted,s=t.mountNode,l=t.scrolling,c=ze.useRef(),d=rt("ui",pe(a,"inverted"),pe(!r,"top aligned"),"page modals dimmer transition visible active",n),f=rt("dimmable dimmed",pe(e,"blurring"),pe(l,"scrolling")),h=Ct(Pl,t),m=zt(Pl,t);return rue(s,f),ze.useEffect(function(){c.current&&c.current.style&&c.current.style.setProperty("display","flex","important")},[]),ze.createElement(Cl,{innerRef:c},ze.createElement(m,Me({},h,{className:d}),Lt(i)?o:i))}Pl.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"];Pl.propTypes={};Pl.create=_n(Pl,function(t){return{content:t}});function Ll(t){var e=t.children,i=t.className,n=t.content,r=rt("header",i),o=Ct(Ll,t),a=zt(Ll,t);return ze.createElement(a,Me({},o,{className:r}),Lt(e)?n:e)}Ll.handledProps=["as","children","className","content"];Ll.propTypes={};Ll.create=_n(Ll,function(t){return{content:t}});var CR=0,aue=50,sue=function(e){var i=e.height+CR,n=e.height+CR,r=window.innerHeight,o=r/2,a=-(n/2),s=aue,l=o+a;return l+i+s<r},lue=function(e,i,n){var r=i&&e?-(n.height/2):0,o=-(n.width/2);return{marginLeft:o,marginTop:r}},cue=function(){return!window.ActiveXObject&&"ActiveXObject"in window},Ia=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.legacy=Hc()&&cue(),n.ref=$.exports.createRef(),n.dimmerRef=$.exports.createRef(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return Hc()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(s){return{onActionClick:function(c,d){pt(s,"onActionClick",c,d),pt(n.props,"onActionClick",c,n.props),n.handleClose(c)}}},n.handleClose=function(s){n.setState({open:!1}),pt(n.props,"onClose",s,Me({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(s){n.latestDocumentMouseDownEvent=s},n.handleDocumentClick=function(s){var l=n.props.closeOnDimmerClick,c=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!(!l||Dd(n.ref.current,c)||Dd(n.ref.current,s))&&(n.setState({open:!1}),pt(n.props,"onClose",s,Me({},n.props,{open:!1})))},n.handleIconOverrides=function(s){return{onClick:function(c){pt(s,"onClick",c),n.handleClose(c)}}},n.handleOpen=function(s){pt(n.props,"onOpen",s,Me({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(s){var l=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),xh.sub("mousedown",n.handleDocumentMouseDown,{pool:l,target:n.dimmerRef.current}),xh.sub("click",n.handleDocumentClick,{pool:l,target:n.dimmerRef.current}),pt(n.props,"onMount",s,n.props)},n.handlePortalUnmount=function(s){var l=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),xh.unsub("mousedown",n.handleDocumentMouseDown,{pool:l,target:n.dimmerRef.current}),xh.unsub("click",n.handleDocumentClick,{pool:l,target:n.dimmerRef.current}),pt(n.props,"onUnmount",s,n.props)},n.setPositionAndClassNames=function(){var s=n.props.centered,l,c={};if(n.ref.current){var d=n.ref.current.getBoundingClientRect(),f=sue(d);l=!f;var h=n.legacy?lue(f,s,d):{};zF(n.state.legacyStyles,h)||(c.legacyStyles=h),n.state.scrolling!==l&&(c.scrolling=l)}fle(c)||n.setState(c),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(s){var l=n.props,c=l.actions,d=l.basic,f=l.children,h=l.className,m=l.closeIcon,v=l.content,w=l.header,g=l.size,A=l.style,x=n.state,T=x.legacyStyles,E=x.scrolling,z=rt("ui",g,pe(d,"basic"),pe(n.legacy,"legacy"),pe(E,"scrolling"),"modal transition visible active",h),L=zt(e,n.props),B=m===!0?"close":m,O=af.create(B,{overrideProps:n.handleIconOverrides});return P(Cl,{innerRef:n.ref,children:ue(L,{...s,className:z,style:Me({},T,A),children:[O,Lt(f)?ue(Jr,{children:[Ll.create(w,{autoGenerateKey:!1}),Rl.create(v,{autoGenerateKey:!1}),sf.create(c,{overrideProps:n.handleActionsOverrides})]}):f]})})},n}var i=e.prototype;return i.componentWillUnmount=function(){this.handlePortalUnmount()},i.render=function(){var r=this.props,o=r.centered,a=r.closeOnDocumentClick,s=r.dimmer,l=r.eventPool,c=r.trigger,d=this.state,f=d.open,h=d.scrolling,m=this.getMountNode();if(!Hc())return $.exports.isValidElement(c)?c:null;var v=Ct(e,this.props),w=Md.handledProps,g=EF(v,function(x,T,E){return vd(w,E)||(x[E]=T),x},{}),A=mF(v,w);return P(Md,{closeOnDocumentClick:a,...A,trigger:c,eventPool:l,mountNode:m,open:f,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,children:P(Cl,{innerRef:this.dimmerRef,children:Pl.create(bF(s)?s:{},{autoGenerateKey:!1,defaultProps:{blurring:s==="blurring",inverted:s==="inverted"},overrideProps:{children:this.renderContent(g),centered:o,mountNode:m,scrolling:h}})})})},e}(yA);Ia.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"];Ia.propTypes={};Ia.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"};Ia.autoControlledProps=["open"];Ia.Actions=sf;Ia.Content=Rl;Ia.Description=Fm;Ia.Dimmer=Pl;Ia.Header=Ll;var I2=Ia;function Nm(t){var e=t.children,i=t.className,n=t.content,r=rt("header",i),o=Ct(Nm,t),a=zt(Nm,t);return ze.createElement(a,Me({},o,{className:r}),Lt(e)?n:e)}Nm.handledProps=["as","children","className","content"];Nm.propTypes={};function uue(t){return function(e){return t==null?void 0:t[e]}}var due={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},fue=uue(due),pue=fue,hue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mue="\\u0300-\\u036f",gue="\\ufe20-\\ufe2f",bue="\\u20d0-\\u20ff",vue=mue+gue+bue,yue="["+vue+"]",wue=RegExp(yue,"g");function Aue(t){return t=hA(t),t&&t.replace(hue,pue).replace(wue,"")}var xue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function kue(t){return t.match(xue)||[]}var _ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Tue(t){return _ue.test(t)}var IF="\\ud800-\\udfff",Sue="\\u0300-\\u036f",Cue="\\ufe20-\\ufe2f",Eue="\\u20d0-\\u20ff",zue=Sue+Cue+Eue,RF="\\u2700-\\u27bf",PF="a-z\\xdf-\\xf6\\xf8-\\xff",Iue="\\xac\\xb1\\xd7\\xf7",Rue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pue="\\u2000-\\u206f",Lue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",LF="A-Z\\xc0-\\xd6\\xd8-\\xde",Oue="\\ufe0e\\ufe0f",OF=Iue+Rue+Pue+Lue,DF="['\u2019]",ER="["+OF+"]",Due="["+zue+"]",MF="\\d+",Mue="["+RF+"]",BF="["+PF+"]",FF="[^"+IF+OF+MF+RF+PF+LF+"]",Bue="\\ud83c[\\udffb-\\udfff]",Fue="(?:"+Due+"|"+Bue+")",Nue="[^"+IF+"]",NF="(?:\\ud83c[\\udde6-\\uddff]){2}",jF="[\\ud800-\\udbff][\\udc00-\\udfff]",ld="["+LF+"]",jue="\\u200d",zR="(?:"+BF+"|"+FF+")",Uue="(?:"+ld+"|"+FF+")",IR="(?:"+DF+"(?:d|ll|m|re|s|t|ve))?",RR="(?:"+DF+"(?:D|LL|M|RE|S|T|VE))?",UF=Fue+"?",GF="["+Oue+"]?",Gue="(?:"+jue+"(?:"+[Nue,NF,jF].join("|")+")"+GF+UF+")*",Hue="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wue="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yue=GF+UF+Gue,Vue="(?:"+[Mue,NF,jF].join("|")+")"+Yue,$ue=RegExp([ld+"?"+BF+"+"+IR+"(?="+[ER,ld,"$"].join("|")+")",Uue+"+"+RR+"(?="+[ER,ld+zR,"$"].join("|")+")",ld+"?"+zR+"+"+IR,ld+"+"+RR,Wue,Hue,MF,Vue].join("|"),"g");function Que(t){return t.match($ue)||[]}function que(t,e,i){return t=hA(t),e=i?void 0:e,e===void 0?Tue(t)?Que(t):kue(t):t.match(e)||[]}var Kue="['\u2019]",Xue=RegExp(Kue,"g");function Jue(t){return function(e){return CF(que(Aue(e).replace(Xue,"")),t,"")}}function Zue(t){return function(e){e=hA(e);var i=lF(e)?Kle(e):void 0,n=i?i[0]:e.charAt(0),r=i?Cle(i,1).join(""):e.slice(1);return n[t]()+r}}var ede=Zue("toUpperCase"),tde=ede,ide=Jue(function(t,e,i){return t+(i?" ":"")+tde(e)}),nde=ide,lf=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.disabled;l||pt(n.props,"onClick",s,n.props)},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.children,s=r.className,l=r.color,c=r.content,d=r.disabled,f=r.fitted,h=r.header,m=r.icon,v=r.link,w=r.name,g=r.onClick,A=r.position,x=rt(l,A,pe(o,"active"),pe(d,"disabled"),pe(m===!0||m&&!(w||c),"icon"),pe(h,"header"),pe(v,"link"),Pi(f,"fitted"),"item",s),T=zt(e,this.props,function(){if(g)return"a"}),E=Ct(e,this.props);return Lt(a)?ue(T,{...E,className:x,onClick:this.handleClick,children:[af.create(m,{autoGenerateKey:!1}),Lt(c)?nde(w):c]}):P(T,{...E,className:x,onClick:this.handleClick,children:a})},e}($.exports.Component);lf.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"];lf.propTypes={};lf.create=_n(lf,function(t){return{content:t,name:t}});function jm(t){var e=t.children,i=t.className,n=t.content,r=t.position,o=rt(r,"menu",i),a=Ct(jm,t),s=zt(jm,t);return ze.createElement(s,Me({},a,{className:o}),Lt(e)?n:e)}jm.handledProps=["as","children","className","content","position"];jm.propTypes={};var xs=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleItemOverrides=function(s){return{onClick:function(c,d){var f=d.index;n.setState({activeIndex:f}),pt(s,"onClick",c,d),pt(n.props,"onItemClick",c,d)}}},n}var i=e.prototype;return i.renderItems=function(){var r=this,o=this.props.items,a=this.state.activeIndex;return Im(o,function(s,l){return lf.create(s,{defaultProps:{active:parseInt(a,10)===l,index:l},overrideProps:r.handleItemOverrides})})},i.render=function(){var r=this.props,o=r.attached,a=r.borderless,s=r.children,l=r.className,c=r.color,d=r.compact,f=r.fixed,h=r.floated,m=r.fluid,v=r.icon,w=r.inverted,g=r.pagination,A=r.pointing,x=r.secondary,T=r.size,E=r.stackable,z=r.tabular,L=r.text,B=r.vertical,O=r.widths,F=rt("ui",c,T,pe(a,"borderless"),pe(d,"compact"),pe(m,"fluid"),pe(w,"inverted"),pe(g,"pagination"),pe(A,"pointing"),pe(x,"secondary"),pe(E,"stackable"),pe(L,"text"),pe(B,"vertical"),Pi(o,"attached"),Pi(h,"floated"),Pi(v,"icon"),Pi(z,"tabular"),Bo(f,"fixed"),Zo(O,"item"),l,"menu"),H=Ct(e,this.props),X=zt(e,this.props);return ze.createElement(X,Me({},H,{className:F}),Lt(s)?this.renderItems():s)},e}(yA);xs.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"];xs.propTypes={};xs.autoControlledProps=["activeIndex"];xs.Header=Nm;xs.Item=lf;xs.Menu=jm;xs.create=_n(xs,function(t){return{items:t}});var rde=xs;function fa(t){var e=t.children,i=t.className,n=t.computer,r=t.color,o=t.floated,a=t.largeScreen,s=t.mobile,l=t.only,c=t.stretched,d=t.tablet,f=t.textAlign,h=t.verticalAlign,m=t.widescreen,v=t.width,w=rt(r,pe(c,"stretched"),Sy(l,"only"),wA(f),Bo(o,"floated"),Lg(h),Zo(n,"wide computer"),Zo(a,"wide large screen"),Zo(s,"wide mobile"),Zo(d,"wide tablet"),Zo(m,"wide widescreen"),Zo(v,"wide"),"column",i),g=Ct(fa,t),A=zt(fa,t);return ze.createElement(A,Me({},g,{className:w}),e)}fa.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"];fa.propTypes={};fa.create=_n(fa,function(t){return{children:t}});function Um(t){var e=t.centered,i=t.children,n=t.className,r=t.color,o=t.columns,a=t.divided,s=t.only,l=t.reversed,c=t.stretched,d=t.textAlign,f=t.verticalAlign,h=rt(r,pe(e,"centered"),pe(a,"divided"),pe(c,"stretched"),Sy(s,"only"),Sy(l,"reversed"),wA(d),Lg(f),Zo(o,"column",!0),"row",n),m=Ct(Um,t),v=zt(Um,t);return ze.createElement(v,Me({},m,{className:h}),i)}Um.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"];Um.propTypes={};function uu(t){var e=t.celled,i=t.centered,n=t.children,r=t.className,o=t.columns,a=t.container,s=t.divided,l=t.doubling,c=t.inverted,d=t.padded,f=t.relaxed,h=t.reversed,m=t.stackable,v=t.stretched,w=t.textAlign,g=t.verticalAlign,A=rt("ui",pe(i,"centered"),pe(a,"container"),pe(l,"doubling"),pe(c,"inverted"),pe(m,"stackable"),pe(v,"stretched"),Pi(e,"celled"),Pi(s,"divided"),Pi(d,"padded"),Pi(f,"relaxed"),Sy(h,"reversed"),wA(w),Lg(g),Zo(o,"column",!0),"grid",r),x=Ct(uu,t),T=zt(uu,t);return ze.createElement(T,Me({},x,{className:A}),n)}uu.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"];uu.Column=fa;uu.Row=Um;uu.propTypes={};function _a(t){var e=t.active,i=t.children,n=t.className,r=t.content,o=t.disabled,a=t.indeterminate,s=t.inline,l=t.inverted,c=t.size,d=rt("ui",c,pe(e,"active"),pe(o,"disabled"),pe(a,"indeterminate"),pe(l,"inverted"),pe(i||r,"text"),Pi(s,"inline"),"loader",n),f=Ct(_a,t),h=zt(_a,t);return ze.createElement(h,Me({},f,{className:d}),Lt(i)?r:i)}_a.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"];_a.propTypes={};function Gm(t){var e=t.children,i=t.className,n=t.compact,r=t.content,o=t.horizontal,a=t.piled,s=t.raised,l=t.size,c=t.stacked,d=rt("ui",l,pe(n,"compact"),pe(o,"horizontal"),pe(a,"piled"),pe(s,"raised"),pe(c,"stacked"),"segments",i),f=Ct(Gm,t),h=zt(Gm,t);return ze.createElement(h,Me({},f,{className:d}),Lt(e)?r:e)}Gm.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"];Gm.propTypes={};function Hm(t){var e=t.children,i=t.className,n=t.content,r=rt("inline",i),o=Ct(Hm,t),a=zt(Hm,t);return ze.createElement(a,Me({},o,{className:r}),Lt(e)?n:e)}Hm.handledProps=["as","children","className","content"];Hm.propTypes={};function Ol(t){var e=t.attached,i=t.basic,n=t.children,r=t.circular,o=t.className,a=t.clearing,s=t.color,l=t.compact,c=t.content,d=t.disabled,f=t.floated,h=t.inverted,m=t.loading,v=t.placeholder,w=t.padded,g=t.piled,A=t.raised,x=t.secondary,T=t.size,E=t.stacked,z=t.tertiary,L=t.textAlign,B=t.vertical,O=rt("ui",s,T,pe(i,"basic"),pe(r,"circular"),pe(a,"clearing"),pe(l,"compact"),pe(d,"disabled"),pe(h,"inverted"),pe(m,"loading"),pe(v,"placeholder"),pe(g,"piled"),pe(A,"raised"),pe(x,"secondary"),pe(E,"stacked"),pe(z,"tertiary"),pe(B,"vertical"),Pi(e,"attached"),Pi(w,"padded"),wA(L),Bo(f,"floated"),"segment",o),F=Ct(Ol,t),H=zt(Ol,t);return ze.createElement(H,Me({},F,{className:O}),Lt(n)?c:n)}Ol.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"];Ol.Group=Gm;Ol.Inline=Hm;Ol.propTypes={};var ode=$.exports.createContext();$.exports.createContext();var ade=function(e){return Array.isArray(e)?e[0]:e},sde=function(e){if(typeof e=="function"){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},lde=function(e,i){if(typeof e=="function")return sde(e,i);e!=null&&(e.current=i)},PR=function(e){return e.reduce(function(i,n){var r=n[0],o=n[1];return i[r]=o,i},{})},LR=typeof window!="undefined"&&window.document&&window.document.createElement?$.exports.useLayoutEffect:$.exports.useEffect,Ar="top",bo="bottom",vo="right",xr="left",YC="auto",Mg=[Ar,bo,vo,xr],cf="start",Wm="end",cde="clippingParents",HF="viewport",sh="popper",ude="reference",OR=Mg.reduce(function(t,e){return t.concat([e+"-"+cf,e+"-"+Wm])},[]),WF=[].concat(Mg,[YC]).reduce(function(t,e){return t.concat([e,e+"-"+cf,e+"-"+Wm])},[]),dde="beforeRead",fde="read",pde="afterRead",hde="beforeMain",mde="main",gde="afterMain",bde="beforeWrite",vde="write",yde="afterWrite",wde=[dde,fde,pde,hde,mde,gde,bde,vde,yde];function Ta(t){return t?(t.nodeName||"").toLowerCase():null}function Uo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function uf(t){var e=Uo(t).Element;return t instanceof e||t instanceof Element}function ho(t){var e=Uo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function YF(t){if(typeof ShadowRoot=="undefined")return!1;var e=Uo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Ade(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var n=e.styles[i]||{},r=e.attributes[i]||{},o=e.elements[i];!ho(o)||!Ta(o)||(Object.assign(o.style,n),Object.keys(r).forEach(function(a){var s=r[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function xde(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],o=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:i[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!ho(r)||!Ta(r)||(Object.assign(r.style,s),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var kde={name:"applyStyles",enabled:!0,phase:"write",fn:Ade,effect:xde,requires:["computeStyles"]};function pa(t){return t.split("-")[0]}var Wc=Math.max,zy=Math.min,df=Math.round;function ff(t,e){e===void 0&&(e=!1);var i=t.getBoundingClientRect(),n=1,r=1;if(ho(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(n=df(i.width)/a||1),o>0&&(r=df(i.height)/o||1)}return{width:i.width/n,height:i.height/r,top:i.top/r,right:i.right/n,bottom:i.bottom/r,left:i.left/n,x:i.left/n,y:i.top/r}}function VC(t){var e=ff(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function VF(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&YF(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Sa(t){return Uo(t).getComputedStyle(t)}function _de(t){return["table","td","th"].indexOf(Ta(t))>=0}function Yl(t){return((uf(t)?t.ownerDocument:t.document)||window.document).documentElement}function AA(t){return Ta(t)==="html"?t:t.assignedSlot||t.parentNode||(YF(t)?t.host:null)||Yl(t)}function DR(t){return!ho(t)||Sa(t).position==="fixed"?null:t.offsetParent}function Tde(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&ho(t)){var n=Sa(t);if(n.position==="fixed")return null}for(var r=AA(t);ho(r)&&["html","body"].indexOf(Ta(r))<0;){var o=Sa(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Bg(t){for(var e=Uo(t),i=DR(t);i&&_de(i)&&Sa(i).position==="static";)i=DR(i);return i&&(Ta(i)==="html"||Ta(i)==="body"&&Sa(i).position==="static")?e:i||Tde(t)||e}function $C(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Yh(t,e,i){return Wc(t,zy(e,i))}function Sde(t,e,i){var n=Yh(t,e,i);return n>i?i:n}function $F(){return{top:0,right:0,bottom:0,left:0}}function QF(t){return Object.assign({},$F(),t)}function qF(t,e){return e.reduce(function(i,n){return i[n]=t,i},{})}var Cde=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,QF(typeof e!="number"?e:qF(e,Mg))};function Ede(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,a=i.modifiersData.popperOffsets,s=pa(i.placement),l=$C(s),c=[xr,vo].indexOf(s)>=0,d=c?"height":"width";if(!(!o||!a)){var f=Cde(r.padding,i),h=VC(o),m=l==="y"?Ar:xr,v=l==="y"?bo:vo,w=i.rects.reference[d]+i.rects.reference[l]-a[l]-i.rects.popper[d],g=a[l]-i.rects.reference[l],A=Bg(o),x=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,T=w/2-g/2,E=f[m],z=x-h[d]-f[v],L=x/2-h[d]/2+T,B=Yh(E,L,z),O=l;i.modifiersData[n]=(e={},e[O]=B,e.centerOffset=B-L,e)}}function zde(t){var e=t.state,i=t.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!VF(e.elements.popper,r)||(e.elements.arrow=r))}var Ide={name:"arrow",enabled:!0,phase:"main",fn:Ede,effect:zde,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pf(t){return t.split("-")[1]}var Rde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pde(t){var e=t.x,i=t.y,n=window,r=n.devicePixelRatio||1;return{x:df(e*r)/r||0,y:df(i*r)/r||0}}function MR(t){var e,i=t.popper,n=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=d===!0?Pde(a):typeof d=="function"?d(a):a,m=h.x,v=m===void 0?0:m,w=h.y,g=w===void 0?0:w,A=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),T=xr,E=Ar,z=window;if(c){var L=Bg(i),B="clientHeight",O="clientWidth";if(L===Uo(i)&&(L=Yl(i),Sa(L).position!=="static"&&s==="absolute"&&(B="scrollHeight",O="scrollWidth")),L=L,r===Ar||(r===xr||r===vo)&&o===Wm){E=bo;var F=f&&z.visualViewport?z.visualViewport.height:L[B];g-=F-n.height,g*=l?1:-1}if(r===xr||(r===Ar||r===bo)&&o===Wm){T=vo;var H=f&&z.visualViewport?z.visualViewport.width:L[O];v-=H-n.width,v*=l?1:-1}}var X=Object.assign({position:s},c&&Rde);if(l){var de;return Object.assign({},X,(de={},de[E]=x?"0":"",de[T]=A?"0":"",de.transform=(z.devicePixelRatio||1)<=1?"translate("+v+"px, "+g+"px)":"translate3d("+v+"px, "+g+"px, 0)",de))}return Object.assign({},X,(e={},e[E]=x?g+"px":"",e[T]=A?v+"px":"",e.transform="",e))}function Lde(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=n===void 0?!0:n,o=i.adaptive,a=o===void 0?!0:o,s=i.roundOffsets,l=s===void 0?!0:s,c={placement:pa(e.placement),variation:pf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,MR(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,MR(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Ode={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Lde,data:{}},F0={passive:!0};function Dde(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=r===void 0?!0:r,a=n.resize,s=a===void 0?!0:a,l=Uo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",i.update,F0)}),s&&l.addEventListener("resize",i.update,F0),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",i.update,F0)}),s&&l.removeEventListener("resize",i.update,F0)}}var Mde={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Dde,data:{}},Bde={left:"right",right:"left",bottom:"top",top:"bottom"};function wv(t){return t.replace(/left|right|bottom|top/g,function(e){return Bde[e]})}var Fde={start:"end",end:"start"};function BR(t){return t.replace(/start|end/g,function(e){return Fde[e]})}function QC(t){var e=Uo(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function qC(t){return ff(Yl(t)).left+QC(t).scrollLeft}function Nde(t){var e=Uo(t),i=Yl(t),n=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,s=0;return n&&(r=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:r,height:o,x:a+qC(t),y:s}}function jde(t){var e,i=Yl(t),n=QC(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Wc(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Wc(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-n.scrollLeft+qC(t),l=-n.scrollTop;return Sa(r||i).direction==="rtl"&&(s+=Wc(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function KC(t){var e=Sa(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function KF(t){return["html","body","#document"].indexOf(Ta(t))>=0?t.ownerDocument.body:ho(t)&&KC(t)?t:KF(AA(t))}function Vh(t,e){var i;e===void 0&&(e=[]);var n=KF(t),r=n===((i=t.ownerDocument)==null?void 0:i.body),o=Uo(n),a=r?[o].concat(o.visualViewport||[],KC(n)?n:[]):n,s=e.concat(a);return r?s:s.concat(Vh(AA(a)))}function R2(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ude(t){var e=ff(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function FR(t,e){return e===HF?R2(Nde(t)):uf(e)?Ude(e):R2(jde(Yl(t)))}function Gde(t){var e=Vh(AA(t)),i=["absolute","fixed"].indexOf(Sa(t).position)>=0,n=i&&ho(t)?Bg(t):t;return uf(n)?e.filter(function(r){return uf(r)&&VF(r,n)&&Ta(r)!=="body"&&(i?Sa(r).position!=="static":!0)}):[]}function Hde(t,e,i){var n=e==="clippingParents"?Gde(t):[].concat(e),r=[].concat(n,[i]),o=r[0],a=r.reduce(function(s,l){var c=FR(t,l);return s.top=Wc(c.top,s.top),s.right=zy(c.right,s.right),s.bottom=zy(c.bottom,s.bottom),s.left=Wc(c.left,s.left),s},FR(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function XF(t){var e=t.reference,i=t.element,n=t.placement,r=n?pa(n):null,o=n?pf(n):null,a=e.x+e.width/2-i.width/2,s=e.y+e.height/2-i.height/2,l;switch(r){case Ar:l={x:a,y:e.y-i.height};break;case bo:l={x:a,y:e.y+e.height};break;case vo:l={x:e.x+e.width,y:s};break;case xr:l={x:e.x-i.width,y:s};break;default:l={x:e.x,y:e.y}}var c=r?$C(r):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case cf:l[c]=l[c]-(e[d]/2-i[d]/2);break;case Wm:l[c]=l[c]+(e[d]/2-i[d]/2);break}}return l}function Ym(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=n===void 0?t.placement:n,o=i.boundary,a=o===void 0?cde:o,s=i.rootBoundary,l=s===void 0?HF:s,c=i.elementContext,d=c===void 0?sh:c,f=i.altBoundary,h=f===void 0?!1:f,m=i.padding,v=m===void 0?0:m,w=QF(typeof v!="number"?v:qF(v,Mg)),g=d===sh?ude:sh,A=t.rects.popper,x=t.elements[h?g:d],T=Hde(uf(x)?x:x.contextElement||Yl(t.elements.popper),a,l),E=ff(t.elements.reference),z=XF({reference:E,element:A,strategy:"absolute",placement:r}),L=R2(Object.assign({},A,z)),B=d===sh?L:E,O={top:T.top-B.top+w.top,bottom:B.bottom-T.bottom+w.bottom,left:T.left-B.left+w.left,right:B.right-T.right+w.right},F=t.modifiersData.offset;if(d===sh&&F){var H=F[r];Object.keys(O).forEach(function(X){var de=[vo,bo].indexOf(X)>=0?1:-1,we=[Ar,bo].indexOf(X)>=0?"y":"x";O[X]+=H[we]*de})}return O}function Wde(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,a=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?WF:l,d=pf(n),f=d?s?OR:OR.filter(function(v){return pf(v)===d}):Mg,h=f.filter(function(v){return c.indexOf(v)>=0});h.length===0&&(h=f);var m=h.reduce(function(v,w){return v[w]=Ym(t,{placement:w,boundary:r,rootBoundary:o,padding:a})[pa(w)],v},{});return Object.keys(m).sort(function(v,w){return m[v]-m[w]})}function Yde(t){if(pa(t)===YC)return[];var e=wv(t);return[BR(t),e,BR(e)]}function Vde(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=r===void 0?!0:r,a=i.altAxis,s=a===void 0?!0:a,l=i.fallbackPlacements,c=i.padding,d=i.boundary,f=i.rootBoundary,h=i.altBoundary,m=i.flipVariations,v=m===void 0?!0:m,w=i.allowedAutoPlacements,g=e.options.placement,A=pa(g),x=A===g,T=l||(x||!v?[wv(g)]:Yde(g)),E=[g].concat(T).reduce(function(te,ae){return te.concat(pa(ae)===YC?Wde(e,{placement:ae,boundary:d,rootBoundary:f,padding:c,flipVariations:v,allowedAutoPlacements:w}):ae)},[]),z=e.rects.reference,L=e.rects.popper,B=new Map,O=!0,F=E[0],H=0;H<E.length;H++){var X=E[H],de=pa(X),we=pf(X)===cf,Ee=[Ar,bo].indexOf(de)>=0,_e=Ee?"width":"height",Ne=Ym(e,{placement:X,boundary:d,rootBoundary:f,altBoundary:h,padding:c}),Be=Ee?we?vo:xr:we?bo:Ar;z[_e]>L[_e]&&(Be=wv(Be));var Ve=wv(Be),Pe=[];if(o&&Pe.push(Ne[de]<=0),s&&Pe.push(Ne[Be]<=0,Ne[Ve]<=0),Pe.every(function(te){return te})){F=X,O=!1;break}B.set(X,Pe)}if(O)for(var De=v?3:1,se=function(ae){var fe=E.find(function(ve){var be=B.get(ve);if(be)return be.slice(0,ae).every(function(Ie){return Ie})});if(fe)return F=fe,"break"},Z=De;Z>0;Z--){var ce=se(Z);if(ce==="break")break}e.placement!==F&&(e.modifiersData[n]._skip=!0,e.placement=F,e.reset=!0)}}var $de={name:"flip",enabled:!0,phase:"main",fn:Vde,requiresIfExists:["offset"],data:{_skip:!1}};function NR(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function jR(t){return[Ar,vo,bo,xr].some(function(e){return t[e]>=0})}function Qde(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Ym(e,{elementContext:"reference"}),s=Ym(e,{altBoundary:!0}),l=NR(a,n),c=NR(s,r,o),d=jR(l),f=jR(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var qde={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qde};function Kde(t,e,i){var n=pa(t),r=[xr,Ar].indexOf(n)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[xr,vo].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function Xde(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=r===void 0?[0,0]:r,a=WF.reduce(function(d,f){return d[f]=Kde(f,e.rects,o),d},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}var Jde={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xde};function Zde(t){var e=t.state,i=t.name;e.modifiersData[i]=XF({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var efe={name:"popperOffsets",enabled:!0,phase:"read",fn:Zde,data:{}};function tfe(t){return t==="x"?"y":"x"}function ife(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=r===void 0?!0:r,a=i.altAxis,s=a===void 0?!1:a,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,f=i.padding,h=i.tether,m=h===void 0?!0:h,v=i.tetherOffset,w=v===void 0?0:v,g=Ym(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),A=pa(e.placement),x=pf(e.placement),T=!x,E=$C(A),z=tfe(E),L=e.modifiersData.popperOffsets,B=e.rects.reference,O=e.rects.popper,F=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,H=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),X=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,de={x:0,y:0};if(!!L){if(o){var we,Ee=E==="y"?Ar:xr,_e=E==="y"?bo:vo,Ne=E==="y"?"height":"width",Be=L[E],Ve=Be+g[Ee],Pe=Be-g[_e],De=m?-O[Ne]/2:0,se=x===cf?B[Ne]:O[Ne],Z=x===cf?-O[Ne]:-B[Ne],ce=e.elements.arrow,te=m&&ce?VC(ce):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$F(),fe=ae[Ee],ve=ae[_e],be=Yh(0,B[Ne],te[Ne]),Ie=T?B[Ne]/2-De-be-fe-H.mainAxis:se-be-fe-H.mainAxis,Ye=T?-B[Ne]/2+De+be+ve+H.mainAxis:Z+be+ve+H.mainAxis,$e=e.elements.arrow&&Bg(e.elements.arrow),tt=$e?E==="y"?$e.clientTop||0:$e.clientLeft||0:0,ti=(we=X==null?void 0:X[E])!=null?we:0,Ot=Be+Ie-ti-tt,Rr=Be+Ye-ti,Tt=Yh(m?zy(Ve,Ot):Ve,Be,m?Wc(Pe,Rr):Pe);L[E]=Tt,de[E]=Tt-Be}if(s){var fn,Ke=E==="x"?Ar:xr,Ra=E==="x"?bo:vo,bi=L[z],pi=z==="y"?"height":"width",to=bi+g[Ke],io=bi-g[Ra],Pa=[Ar,xr].indexOf(A)!==-1,wo=(fn=X==null?void 0:X[z])!=null?fn:0,ql=Pa?to:bi-B[pi]-O[pi]-wo+H.altAxis,Ao=Pa?bi+B[pi]+O[pi]-wo-H.altAxis:io,ht=m&&Pa?Sde(ql,bi,Ao):Yh(m?ql:to,bi,m?Ao:io);L[z]=ht,de[z]=ht-bi}e.modifiersData[n]=de}}var nfe={name:"preventOverflow",enabled:!0,phase:"main",fn:ife,requiresIfExists:["offset"]};function rfe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ofe(t){return t===Uo(t)||!ho(t)?QC(t):rfe(t)}function afe(t){var e=t.getBoundingClientRect(),i=df(e.width)/t.offsetWidth||1,n=df(e.height)/t.offsetHeight||1;return i!==1||n!==1}function sfe(t,e,i){i===void 0&&(i=!1);var n=ho(e),r=ho(e)&&afe(e),o=Yl(e),a=ff(t,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((Ta(e)!=="body"||KC(o))&&(s=ofe(e)),ho(e)?(l=ff(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=qC(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function lfe(t){var e=new Map,i=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function r(o){i.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!i.has(s)){var l=e.get(s);l&&r(l)}}),n.push(o)}return t.forEach(function(o){i.has(o.name)||r(o)}),n}function cfe(t){var e=lfe(t);return wde.reduce(function(i,n){return i.concat(e.filter(function(r){return r.phase===n}))},[])}function ufe(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function dfe(t){var e=t.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(e).map(function(i){return e[i]})}var UR={placement:"bottom",modifiers:[],strategy:"absolute"};function GR(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ffe(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,n=i===void 0?[]:i,r=e.defaultOptions,o=r===void 0?UR:r;return function(s,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},UR,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,m={state:d,setOptions:function(A){var x=typeof A=="function"?A(d.options):A;w(),d.options=Object.assign({},o,d.options,x),d.scrollParents={reference:uf(s)?Vh(s):s.contextElement?Vh(s.contextElement):[],popper:Vh(l)};var T=cfe(dfe([].concat(n,d.options.modifiers)));return d.orderedModifiers=T.filter(function(E){return E.enabled}),v(),m.update()},forceUpdate:function(){if(!h){var A=d.elements,x=A.reference,T=A.popper;if(!!GR(x,T)){d.rects={reference:sfe(x,Bg(T),d.options.strategy==="fixed"),popper:VC(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(H){return d.modifiersData[H.name]=Object.assign({},H.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var z=d.orderedModifiers[E],L=z.fn,B=z.options,O=B===void 0?{}:B,F=z.name;typeof L=="function"&&(d=L({state:d,options:O,name:F,instance:m})||d)}}}},update:ufe(function(){return new Promise(function(g){m.forceUpdate(),g(d)})}),destroy:function(){w(),h=!0}};if(!GR(s,l))return m;m.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function v(){d.orderedModifiers.forEach(function(g){var A=g.name,x=g.options,T=x===void 0?{}:x,E=g.effect;if(typeof E=="function"){var z=E({state:d,name:A,instance:m,options:T}),L=function(){};f.push(z||L)}})}function w(){f.forEach(function(g){return g()}),f=[]}return m}}var pfe=[Mde,efe,Ode,kde,Jde,$de,nfe,Ide,qde],hfe=ffe({defaultModifiers:pfe}),mfe=typeof Element!="undefined",gfe=typeof Map=="function",bfe=typeof Set=="function",vfe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Av(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var i,n,r;if(Array.isArray(t)){if(i=t.length,i!=e.length)return!1;for(n=i;n--!==0;)if(!Av(t[n],e[n]))return!1;return!0}var o;if(gfe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(n=o.next()).done;)if(!e.has(n.value[0]))return!1;for(o=t.entries();!(n=o.next()).done;)if(!Av(n.value[1],e.get(n.value[0])))return!1;return!0}if(bfe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(n=o.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(vfe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(i=t.length,i!=e.length)return!1;for(n=i;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(r=Object.keys(t),i=r.length,i!==Object.keys(e).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[n]))return!1;if(mfe&&t instanceof Element)return!1;for(n=i;n--!==0;)if(!((r[n]==="_owner"||r[n]==="__v"||r[n]==="__o")&&t.$$typeof)&&!Av(t[r[n]],e[r[n]]))return!1;return!0}return t!==t&&e!==e}var yfe=function(e,i){try{return Av(e,i)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},wfe=[],Afe=function(e,i,n){n===void 0&&(n={});var r=$.exports.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||wfe},a=$.exports.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],l=a[1],c=$.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(m){var v=m.state,w=Object.keys(v.elements);l({styles:PR(w.map(function(g){return[g,v.styles[g]||{}]})),attributes:PR(w.map(function(g){return[g,v.attributes[g]]}))})},requires:["computeStyles"]}},[]),d=$.exports.useMemo(function(){var h={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return yfe(r.current,h)?r.current||h:(r.current=h,h)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),f=$.exports.useRef();return LR(function(){f.current&&f.current.setOptions(d)},[d]),LR(function(){if(!(e==null||i==null)){var h=n.createPopper||hfe,m=h(e,i,d);return f.current=m,function(){m.destroy(),f.current=null}}},[e,i,n.createPopper]),{state:f.current?f.current.state:null,styles:s.styles,attributes:s.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},xfe=function(){},kfe=function(){return Promise.resolve(null)},_fe=[];function Tfe(t){var e=t.placement,i=e===void 0?"bottom":e,n=t.strategy,r=n===void 0?"absolute":n,o=t.modifiers,a=o===void 0?_fe:o,s=t.referenceElement,l=t.onFirstUpdate,c=t.innerRef,d=t.children,f=$.exports.useContext(ode),h=$.exports.useState(null),m=h[0],v=h[1],w=$.exports.useState(null),g=w[0],A=w[1];$.exports.useEffect(function(){lde(c,m)},[c,m]);var x=$.exports.useMemo(function(){return{placement:i,strategy:r,onFirstUpdate:l,modifiers:[].concat(a,[{name:"arrow",enabled:g!=null,options:{element:g}}])}},[i,r,l,a,g]),T=Afe(s||f,m,x),E=T.state,z=T.styles,L=T.forceUpdate,B=T.update,O=$.exports.useMemo(function(){return{ref:v,style:z.popper,placement:E?E.placement:i,hasPopperEscaped:E&&E.modifiersData.hide?E.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:E&&E.modifiersData.hide?E.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:z.arrow,ref:A},forceUpdate:L||xfe,update:B||kfe}},[v,A,i,E,z,B,L]);return ade(d)(O)}function Sfe(t,e,i,n){return X6(t,function(r,o,a){e(n,i(r),o,a)}),n}function Cfe(t,e){return function(i,n){return Sfe(i,t,e(n),{})}}var Efe=Object.prototype,zfe=Efe.toString,Ife=Cfe(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=zfe.call(e)),t[e]=i},H6(Rg)),Rfe=Ife,XC={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"};Pg(XC);var Pfe=Rfe(XC);function HR(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ui(t,e,i){return e&&HR(t.prototype,e),i&&HR(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var Lfe=function(){function t(i){this.ref=i}var e=t.prototype;return e.getBoundingClientRect=function(){return pt(this.ref.current,"getBoundingClientRect")||{}},Ui(t,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}}]),t}(),Ofe=pA(function(t){return new Lfe(w2(t)?t:{current:t})}),Dfe=Ofe;function Dl(t){var e=t.children,i=t.className,n=t.content,r=rt("content",i),o=Ct(Dl,t),a=zt(Dl,t);return ze.createElement(a,Me({},o,{className:r}),Lt(e)?n:e)}Dl.handledProps=["as","children","className","content"];Dl.propTypes={};Dl.create=_n(Dl,function(t){return{children:t}});function Ml(t){var e=t.children,i=t.className,n=t.content,r=rt("header",i),o=Ct(Ml,t),a=zt(Ml,t);return ze.createElement(a,Me({},o,{className:r}),Lt(e)?n:e)}Ml.handledProps=["as","children","className","content"];Ml.propTypes={};Ml.create=_n(Ml,function(t){return{children:t}});var ha=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.state={},n.open=!1,n.zIndexWasSynced=!1,n.triggerRef=ze.createRef(),n.getPortalProps=function(){var s={},l=n.props,c=l.on,d=l.hoverable,f=sn(c)?c:[c];return d&&(s.closeOnPortalMouseLeave=!0,s.mouseLeaveDelay=300),vd(f,"hover")&&(s.openOnTriggerClick=!1,s.closeOnTriggerClick=!1,s.openOnTriggerMouseEnter=!0,s.closeOnTriggerMouseLeave=!0,s.mouseLeaveDelay=70,s.mouseEnterDelay=50),vd(f,"click")&&(s.openOnTriggerClick=!0,s.closeOnTriggerClick=!0,s.closeOnDocumentClick=!0),vd(f,"focus")&&(s.openOnTriggerFocus=!0,s.closeOnTriggerBlur=!0),s},n.hideOnScroll=function(s){n.setState({closed:!0}),xh.unsub("scroll",n.hideOnScroll,{target:window}),n.timeoutId=setTimeout(function(){n.setState({closed:!1})},50),n.handleClose(s)},n.handleClose=function(s){pt(n.props,"onClose",s,Me({},n.props,{open:!1}))},n.handleOpen=function(s){pt(n.props,"onOpen",s,Me({},n.props,{open:!0}))},n.handlePortalMount=function(s){pt(n.props,"onMount",s,n.props)},n.handlePortalUnmount=function(s){n.positionUpdate=null,pt(n.props,"onUnmount",s,n.props)},n.renderContent=function(s){var l=s.placement,c=s.ref,d=s.update,f=s.style,h=n.props,m=h.basic,v=h.children,w=h.className,g=h.content,A=h.hideOnScroll,x=h.flowing,T=h.header,E=h.inverted,z=h.popper,L=h.size,B=h.style,O=h.wide,F=n.state.contentRestProps;n.positionUpdate=d;var H=rt("ui",Pfe[l],L,Pi(O,"wide"),pe(m,"basic"),pe(x,"flowing"),pe(E,"inverted"),"popup transition visible",w),X=zt(e,n.props),de=Me({left:"auto",right:"auto",position:"initial"},B),we=ue(X,{...F,className:H,style:de,children:[Lt(v)?ue(Jr,{children:[Ml.create(T,{autoGenerateKey:!1}),Dl.create(g,{autoGenerateKey:!1})]}):v,A&&P(sd,{on:n.hideOnScroll,name:"scroll",target:"window"})]});return Dce(z||{},{overrideProps:{children:we,ref:c,style:Me({display:"flex"},f)}})},n}e.getDerivedStateFromProps=function(r,o){if(o.closed||o.disabled)return{};var a=Ct(e,r),s=EF(a,function(c,d,f){return vd(Md.handledProps,f)||(c[f]=d),c},{}),l=mF(a,Md.handledProps);return{contentRestProps:s,portalRestProps:l}};var i=e.prototype;return i.componentDidUpdate=function(r){var o=zF(this.props.popperDependencies,r.popperDependencies);o||this.handleUpdate()},i.componentWillUnmount=function(){clearTimeout(this.timeoutId)},i.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},i.render=function(){var r=this,o=this.props,a=o.context,s=o.disabled,l=o.eventsEnabled,c=o.offset,d=o.pinned,f=o.popper,h=o.popperModifiers,m=o.position,v=o.positionFixed,w=o.trigger,g=this.state,A=g.closed,x=g.portalRestProps;if(A||s)return w;var T=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!l,resize:!!l}},{name:"flip",enabled:!d},{name:"preventOverflow",enabled:!!c},{name:"offset",enabled:!!c,options:{offset:c}}].concat(h,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(B){var O,F=B.state;if(!r.zIndexWasSynced){var H=f==null||(O=f.style)==null?void 0:O.zIndex;BC(H)&&(F.elements.popper.style.zIndex=window.getComputedStyle(F.elements.popper.firstChild).zIndex),r.zIndexWasSynced=!0}},effect:function(){return function(){r.zIndexWasSynced=!1}}}]),E=Dfe(Bi(a)?this.triggerRef:a),z=Me({},this.getPortalProps(),x);return P(Md,{...z,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:w,triggerRef:this.triggerRef,children:P(Tfe,{modifiers:T,placement:XC[m],strategy:v?"fixed":null,referenceElement:E,children:this.renderContent})})},e}($.exports.Component);ha.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"];ha.propTypes={};ha.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"};ha.Content=Dl;ha.Header=Ml;function ks(t){var e=t.active,i=t.children,n=t.className,r=t.content,o=t.loading,a=rt(pe(e,"active"),pe(o,"loading"),"tab",n),s=Ct(ks,t),l=zt(ks,t),c={};return l===Ol&&(c.attached="bottom"),ze.createElement(l,Me({},c,s,{className:a}),Lt(i)?r:i)}ks.handledProps=["active","as","children","className","content","loading"];ks.defaultProps={as:Ol,active:!0};ks.propTypes={};ks.create=_n(ks,function(t){return{content:t}});var Vf=function(t){ye(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleItemClick=function(s,l){var c=l.index;pt(n.props,"onTabChange",s,Me({},n.props,{activeIndex:c})),n.setState({activeIndex:c})},n}var i=e.prototype;return i.getInitialAutoControlledState=function(){return{activeIndex:0}},i.renderItems=function(){var r=this.props,o=r.panes,a=r.renderActiveOnly,s=this.state.activeIndex;return a?pt(rF(o,"["+s+"]"),"render",this.props):Im(o,function(l,c){var d=l.pane;return ks.create(d,{overrideProps:{active:c===s}})})},i.renderMenu=function(){var r=this.props,o=r.menu,a=r.panes,s=r.menuPosition,l=this.state.activeIndex;return o.tabular===!0&&s==="right"&&(o.tabular="right"),rde.create(o,{autoGenerateKey:!1,overrideProps:{items:Im(a,"menuItem"),onItemClick:this.handleItemClick,activeIndex:l}})},i.renderVertical=function(r){var o=this.props,a=o.grid,s=o.menuPosition,l=a.paneWidth,c=a.tabWidth,d=hu(a,["paneWidth","tabWidth"]),f=s||r.props.tabular==="right"&&"right"||"left";return ze.createElement(uu,d,f==="left"&&fa.create({width:c,children:r},{autoGenerateKey:!1}),fa.create({width:l,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),f==="right"&&fa.create({width:c,children:r},{autoGenerateKey:!1}))},i.render=function(){var r=this.renderMenu(),o=Ct(e,this.props),a=zt(e,this.props);return r.props.vertical?ze.createElement(a,o,this.renderVertical(r)):ze.createElement(a,o,r.props.attached!=="bottom"&&r,this.renderItems(),r.props.attached==="bottom"&&r)},e}(yA);Vf.handledProps=["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"];Vf.propTypes={};Vf.autoControlledProps=["activeIndex"];Vf.defaultProps={grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0};Vf.Pane=ks;var Mfe=Vf;const JF=({error:t})=>{const e=xS(),i=t?t.toString():"";return ue("div",{children:[P("h1",{className:"mzp-u-title-sm",children:"Sorry, we can\u2019t find that page."}),P("p",{children:i}),P("button",{className:"mzp-c-button mzp-t-secondary mzp-t-md",onClick:()=>e.goBack(),children:"Back"})]})},$f=({isLoading:t,children:e,error:i})=>t?P(_a,{active:!0,size:"massive"}):i?P(JF,{error:i}):P(Jr,{children:e}),Io={isLoading:!1,error:null,hasFetchRequest:!0};var Iy=(t=>(t.FETCH_INIT="FETCH_INIT",t.FETCH_SUCCESS="FETCH_SUCCESS",t.FETCH_FAILURE="FETCH_FAILURE",t.FETCH="FETCH",t))(Iy||{});const Bfe=()=>(t,e)=>{switch(e.type){case"FETCH_INIT":return{...t,isLoading:!0,error:null};case"FETCH_SUCCESS":return{...t,isLoading:!1,data:e.payload,hasFetchRequest:!1};case"FETCH_FAILURE":return{...t,isLoading:!1,error:e.payload,hasFetchRequest:!1};case"FETCH":return{...t,hasFetchRequest:!0};default:return t}};function bn(t,e){const i=Bfe(),[n,r]=$.exports.useReducer(i,t);return $.exports.useEffect(()=>{let o=!1;const a=async()=>{try{r({type:"FETCH_INIT"});const s=await e();o||r({type:"FETCH_SUCCESS",payload:s})}catch(s){if(!o){const l=wa(s);r({type:"FETCH_FAILURE",payload:l})}}};return n.hasFetchRequest&&a(),()=>{o=!0}},[n.hasFetchRequest,e]),{state:n,dispatch:r}}var Yc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var i,n="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",f=1,h=2,m=4,v=1,w=2,g=1,A=2,x=4,T=8,E=16,z=32,L=64,B=128,O=256,F=512,H=30,X="...",de=800,we=16,Ee=1,_e=2,Ne=3,Be=1/0,Ve=9007199254740991,Pe=17976931348623157e292,De=0/0,se=4294967295,Z=se-1,ce=se>>>1,te=[["ary",B],["bind",g],["bindKey",A],["curry",T],["curryRight",E],["flip",F],["partial",z],["partialRight",L],["rearg",O]],ae="[object Arguments]",fe="[object Array]",ve="[object AsyncFunction]",be="[object Boolean]",Ie="[object Date]",Ye="[object DOMException]",$e="[object Error]",tt="[object Function]",ti="[object GeneratorFunction]",Ot="[object Map]",Rr="[object Number]",Tt="[object Null]",fn="[object Object]",Ke="[object Promise]",Ra="[object Proxy]",bi="[object RegExp]",pi="[object Set]",to="[object String]",io="[object Symbol]",Pa="[object Undefined]",wo="[object WeakMap]",ql="[object WeakSet]",Ao="[object ArrayBuffer]",ht="[object DataView]",np="[object Float32Array]",rp="[object Float64Array]",op="[object Int8Array]",ap="[object Int16Array]",sp="[object Int32Array]",Ms="[object Uint8Array]",lp="[object Uint8ClampedArray]",cp="[object Uint16Array]",up="[object Uint32Array]",qA=/\b__p \+= '';/g,Pr=/\b(__p \+=) '' \+/g,tb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ib=/&(?:amp|lt|gt|quot|#39);/g,nb=/[&<>"']/g,KA=RegExp(ib.source),XA=RegExp(nb.source),JA=/<%-([\s\S]+?)%>/g,Kl=/<%([\s\S]+?)%>/g,Tn=/<%=([\s\S]+?)%>/g,ZA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ex=/^\w*$/,ku=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lr=/[\\^$.*+?()[\]{}|]/g,_u=RegExp(Lr.source),Gt=/^\s+/,tx=/\s/,Tu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Su=/\{\n\/\* \[wrapped with (.+)\] \*/,ix=/,? & /,La=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ai=/[()=,{}\[\]\/\s]/,Cu=/\\(\\)?/g,Hi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rb=/\w*$/,nx=/^[-+]0x[0-9a-f]+$/i,ob=/^0b[01]+$/i,dp=/^\[object .+?Constructor\]$/,ab=/^0o[0-7]+$/i,sb=/^(?:0|[1-9]\d*)$/,lb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oa=/($^)/,rx=/['\n\r\u2028\u2029\\]/g,Da="\\ud800-\\udfff",cb="\\u0300-\\u036f",Eu="\\ufe20-\\ufe2f",ox="\\u20d0-\\u20ff",ub=cb+Eu+ox,Xl="\\u2700-\\u27bf",Bs="a-z\\xdf-\\xf6\\xf8-\\xff",zu="\\xac\\xb1\\xd7\\xf7",Fs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fp="\\u2000-\\u206f",db=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Iu="A-Z\\xc0-\\xd6\\xd8-\\xde",no="\\ufe0e\\ufe0f",fb=zu+Fs+fp+db,Ns="['\u2019]",pb="["+Da+"]",pp="["+fb+"]",Jl="["+ub+"]",hb="\\d+",Ru="["+Xl+"]",js="["+Bs+"]",hp="[^"+Da+fb+hb+Xl+Bs+Iu+"]",mp="\\ud83c[\\udffb-\\udfff]",ax="(?:"+Jl+"|"+mp+")",gp="[^"+Da+"]",bp="(?:\\ud83c[\\udde6-\\uddff]){2}",vp="[\\ud800-\\udbff][\\udc00-\\udfff]",Ma="["+Iu+"]",mb="\\u200d",gb="(?:"+js+"|"+hp+")",sx="(?:"+Ma+"|"+hp+")",bb="(?:"+Ns+"(?:d|ll|m|re|s|t|ve))?",vb="(?:"+Ns+"(?:D|LL|M|RE|S|T|VE))?",yb=ax+"?",Zl="["+no+"]?",Pu="(?:"+mb+"(?:"+[gp,bp,vp].join("|")+")"+Zl+yb+")*",lx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lu=Zl+yb+Pu,ux="(?:"+[Ru,bp,vp].join("|")+")"+Lu,yp="(?:"+[gp+Jl+"?",Jl,bp,vp,pb].join("|")+")",dx=RegExp(Ns,"g"),fx=RegExp(Jl,"g"),wp=RegExp(mp+"(?="+mp+")|"+yp+Lu,"g"),ec=RegExp([Ma+"?"+js+"+"+bb+"(?="+[pp,Ma,"$"].join("|")+")",sx+"+"+vb+"(?="+[pp,Ma+gb,"$"].join("|")+")",Ma+"?"+gb+"+"+bb,Ma+"+"+vb,cx,lx,hb,ux].join("|"),"g"),Us=RegExp("["+mb+Da+ub+no+"]"),Ou=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ba=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],px=-1,ii={};ii[np]=ii[rp]=ii[op]=ii[ap]=ii[sp]=ii[Ms]=ii[lp]=ii[cp]=ii[up]=!0,ii[ae]=ii[fe]=ii[Ao]=ii[be]=ii[ht]=ii[Ie]=ii[$e]=ii[tt]=ii[Ot]=ii[Rr]=ii[fn]=ii[bi]=ii[pi]=ii[to]=ii[wo]=!1;var $t={};$t[ae]=$t[fe]=$t[Ao]=$t[ht]=$t[be]=$t[Ie]=$t[np]=$t[rp]=$t[op]=$t[ap]=$t[sp]=$t[Ot]=$t[Rr]=$t[fn]=$t[bi]=$t[pi]=$t[to]=$t[io]=$t[Ms]=$t[lp]=$t[cp]=$t[up]=!0,$t[$e]=$t[tt]=$t[wo]=!1;var Ap={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},hx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Du=parseFloat,bx=parseInt,Wo=typeof zo=="object"&&zo&&zo.Object===Object&&zo,vx=typeof self=="object"&&self&&self.Object===Object&&self,Wi=Wo||vx||Function("return this")(),Qt=e&&!e.nodeType&&e,Yo=Qt&&!0&&t&&!t.nodeType&&t,wb=Yo&&Yo.exports===Qt,Mu=wb&&Wo.process,sr=function(){try{var Y=Yo&&Yo.require&&Yo.require("util").types;return Y||Mu&&Mu.binding&&Mu.binding("util")}catch{}}(),xp=sr&&sr.isArrayBuffer,Ab=sr&&sr.isDate,kp=sr&&sr.isMap,xb=sr&&sr.isRegExp,_p=sr&&sr.isSet,kb=sr&&sr.isTypedArray;function Hn(Y,le,oe){switch(oe.length){case 0:return Y.call(le);case 1:return Y.call(le,oe[0]);case 2:return Y.call(le,oe[0],oe[1]);case 3:return Y.call(le,oe[0],oe[1],oe[2])}return Y.apply(le,oe)}function yx(Y,le,oe,Ge){for(var lt=-1,It=Y==null?0:Y.length;++lt<It;){var vi=Y[lt];le(Ge,vi,oe(vi),Y)}return Ge}function lr(Y,le){for(var oe=-1,Ge=Y==null?0:Y.length;++oe<Ge&&le(Y[oe],oe,Y)!==!1;);return Y}function wx(Y,le){for(var oe=Y==null?0:Y.length;oe--&&le(Y[oe],oe,Y)!==!1;);return Y}function _b(Y,le){for(var oe=-1,Ge=Y==null?0:Y.length;++oe<Ge;)if(!le(Y[oe],oe,Y))return!1;return!0}function Vo(Y,le){for(var oe=-1,Ge=Y==null?0:Y.length,lt=0,It=[];++oe<Ge;){var vi=Y[oe];le(vi,oe,Y)&&(It[lt++]=vi)}return It}function Bu(Y,le){var oe=Y==null?0:Y.length;return!!oe&&xo(Y,le,0)>-1}function Tp(Y,le,oe){for(var Ge=-1,lt=Y==null?0:Y.length;++Ge<lt;)if(oe(le,Y[Ge]))return!0;return!1}function jt(Y,le){for(var oe=-1,Ge=Y==null?0:Y.length,lt=Array(Ge);++oe<Ge;)lt[oe]=le(Y[oe],oe,Y);return lt}function cr(Y,le){for(var oe=-1,Ge=le.length,lt=Y.length;++oe<Ge;)Y[lt+oe]=le[oe];return Y}function Fu(Y,le,oe,Ge){var lt=-1,It=Y==null?0:Y.length;for(Ge&&It&&(oe=Y[++lt]);++lt<It;)oe=le(oe,Y[lt],lt,Y);return oe}function Tb(Y,le,oe,Ge){var lt=Y==null?0:Y.length;for(Ge&&lt&&(oe=Y[--lt]);lt--;)oe=le(oe,Y[lt],lt,Y);return oe}function Nu(Y,le){for(var oe=-1,Ge=Y==null?0:Y.length;++oe<Ge;)if(le(Y[oe],oe,Y))return!0;return!1}var Sb=Ep("length");function Cb(Y){return Y.split("")}function Sp(Y){return Y.match(La)||[]}function Cp(Y,le,oe){var Ge;return oe(Y,function(lt,It,vi){if(le(lt,It,vi))return Ge=It,!1}),Ge}function tc(Y,le,oe,Ge){for(var lt=Y.length,It=oe+(Ge?1:-1);Ge?It--:++It<lt;)if(le(Y[It],It,Y))return It;return-1}function xo(Y,le,oe){return le===le?I(Y,le,oe):tc(Y,Eb,oe)}function ju(Y,le,oe,Ge){for(var lt=oe-1,It=Y.length;++lt<It;)if(Ge(Y[lt],le))return lt;return-1}function Eb(Y){return Y!==Y}function zb(Y,le){var oe=Y==null?0:Y.length;return oe?Rp(Y,le)/oe:De}function Ep(Y){return function(le){return le==null?i:le[Y]}}function zp(Y){return function(le){return Y==null?i:Y[le]}}function Ib(Y,le,oe,Ge,lt){return lt(Y,function(It,vi,Ht){oe=Ge?(Ge=!1,It):le(oe,It,vi,Ht)}),oe}function Ip(Y,le){var oe=Y.length;for(Y.sort(le);oe--;)Y[oe]=Y[oe].value;return Y}function Rp(Y,le){for(var oe,Ge=-1,lt=Y.length;++Ge<lt;){var It=le(Y[Ge]);It!==i&&(oe=oe===i?It:oe+It)}return oe}function Pp(Y,le){for(var oe=-1,Ge=Array(Y);++oe<Y;)Ge[oe]=le(oe);return Ge}function Gs(Y,le){return jt(le,function(oe){return[oe,Y[oe]]})}function Bt(Y){return Y&&Y.slice(0,q(Y)+1).replace(Gt,"")}function _i(Y){return function(le){return Y(le)}}function Yi(Y,le){return jt(le,function(oe){return Y[oe]})}function Sn(Y,le){return Y.has(le)}function Rb(Y,le){for(var oe=-1,Ge=Y.length;++oe<Ge&&xo(le,Y[oe],0)>-1;);return oe}function Lp(Y,le){for(var oe=Y.length;oe--&&xo(le,Y[oe],0)>-1;);return oe}function Ax(Y,le){for(var oe=Y.length,Ge=0;oe--;)Y[oe]===le&&++Ge;return Ge}var xx=zp(Ap),kx=zp(hx);function _x(Y){return"\\"+gx[Y]}function Tx(Y,le){return Y==null?i:Y[le]}function Hs(Y){return Us.test(Y)}function Sx(Y){return Ou.test(Y)}function Pb(Y){for(var le,oe=[];!(le=Y.next()).done;)oe.push(le.value);return oe}function M(Y){var le=-1,oe=Array(Y.size);return Y.forEach(function(Ge,lt){oe[++le]=[lt,Ge]}),oe}function y(Y,le){return function(oe){return Y(le(oe))}}function _(Y,le){for(var oe=-1,Ge=Y.length,lt=0,It=[];++oe<Ge;){var vi=Y[oe];(vi===le||vi===d)&&(Y[oe]=d,It[lt++]=oe)}return It}function k(Y){var le=-1,oe=Array(Y.size);return Y.forEach(function(Ge){oe[++le]=Ge}),oe}function S(Y){var le=-1,oe=Array(Y.size);return Y.forEach(function(Ge){oe[++le]=[Ge,Ge]}),oe}function I(Y,le,oe){for(var Ge=oe-1,lt=Y.length;++Ge<lt;)if(Y[Ge]===le)return Ge;return-1}function R(Y,le,oe){for(var Ge=oe+1;Ge--;)if(Y[Ge]===le)return Ge;return Ge}function U(Y){return Hs(Y)?J(Y):Sb(Y)}function G(Y){return Hs(Y)?he(Y):Cb(Y)}function q(Y){for(var le=Y.length;le--&&tx.test(Y.charAt(le)););return le}var V=zp(mx);function J(Y){for(var le=wp.lastIndex=0;wp.test(Y);)++le;return le}function he(Y){return Y.match(wp)||[]}function Ue(Y){return Y.match(ec)||[]}var Qe=function Y(le){le=le==null?Wi:Se.defaults(Wi.Object(),le,Se.pick(Wi,Ba));var oe=le.Array,Ge=le.Date,lt=le.Error,It=le.Function,vi=le.Math,Ht=le.Object,ic=le.RegExp,Lb=le.String,Rt=le.TypeError,nc=oe.prototype,Fa=It.prototype,Uu=Ht.prototype,Ob=le["__core-js_shared__"],Db=Fa.toString,qt=Uu.hasOwnProperty,e9=0,bz=function(){var u=/[^.]+$/.exec(Ob&&Ob.keys&&Ob.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Mb=Uu.toString,t9=Db.call(Ht),i9=Wi._,n9=ic("^"+Db.call(qt).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bb=wb?le.Buffer:i,Ws=le.Symbol,Fb=le.Uint8Array,vz=Bb?Bb.allocUnsafe:i,Nb=y(Ht.getPrototypeOf,Ht),yz=Ht.create,wz=Uu.propertyIsEnumerable,jb=nc.splice,Az=Ws?Ws.isConcatSpreadable:i,Op=Ws?Ws.iterator:i,rc=Ws?Ws.toStringTag:i,Ub=function(){try{var u=cc(Ht,"defineProperty");return u({},"",{}),u}catch{}}(),r9=le.clearTimeout!==Wi.clearTimeout&&le.clearTimeout,o9=Ge&&Ge.now!==Wi.Date.now&&Ge.now,a9=le.setTimeout!==Wi.setTimeout&&le.setTimeout,Gb=vi.ceil,Hb=vi.floor,Cx=Ht.getOwnPropertySymbols,s9=Bb?Bb.isBuffer:i,xz=le.isFinite,l9=nc.join,c9=y(Ht.keys,Ht),Vi=vi.max,Cn=vi.min,u9=Ge.now,d9=le.parseInt,kz=vi.random,f9=nc.reverse,Ex=cc(le,"DataView"),Dp=cc(le,"Map"),zx=cc(le,"Promise"),Gu=cc(le,"Set"),Mp=cc(le,"WeakMap"),Bp=cc(Ht,"create"),Wb=Mp&&new Mp,Hu={},p9=uc(Ex),h9=uc(Dp),m9=uc(zx),g9=uc(Gu),b9=uc(Mp),Yb=Ws?Ws.prototype:i,Fp=Yb?Yb.valueOf:i,_z=Yb?Yb.toString:i;function N(u){if(yi(u)&&!dt(u)&&!(u instanceof St)){if(u instanceof ro)return u;if(qt.call(u,"__wrapped__"))return TI(u)}return new ro(u)}var Wu=function(){function u(){}return function(p){if(!hi(p))return{};if(yz)return yz(p);u.prototype=p;var b=new u;return u.prototype=i,b}}();function Vb(){}function ro(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=i}N.templateSettings={escape:JA,evaluate:Kl,interpolate:Tn,variable:"",imports:{_:N}},N.prototype=Vb.prototype,N.prototype.constructor=N,ro.prototype=Wu(Vb.prototype),ro.prototype.constructor=ro;function St(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function v9(){var u=new St(this.__wrapped__);return u.__actions__=ur(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ur(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ur(this.__views__),u}function y9(){if(this.__filtered__){var u=new St(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function w9(){var u=this.__wrapped__.value(),p=this.__dir__,b=dt(u),C=p<0,D=b?u.length:0,j=PG(0,D,this.__views__),W=j.start,K=j.end,ie=K-W,me=C?K:W-1,ge=this.__iteratees__,ke=ge.length,He=0,Xe=Cn(ie,this.__takeCount__);if(!b||!C&&D==ie&&Xe==ie)return Qz(u,this.__actions__);var at=[];e:for(;ie--&&He<Xe;){me+=p;for(var bt=-1,st=u[me];++bt<ke;){var xt=ge[bt],Et=xt.iteratee,Mr=xt.type,Vn=Et(st);if(Mr==_e)st=Vn;else if(!Vn){if(Mr==Ee)continue e;break e}}at[He++]=st}return at}St.prototype=Wu(Vb.prototype),St.prototype.constructor=St;function oc(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var C=u[p];this.set(C[0],C[1])}}function A9(){this.__data__=Bp?Bp(null):{},this.size=0}function x9(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function k9(u){var p=this.__data__;if(Bp){var b=p[u];return b===l?i:b}return qt.call(p,u)?p[u]:i}function _9(u){var p=this.__data__;return Bp?p[u]!==i:qt.call(p,u)}function T9(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Bp&&p===i?l:p,this}oc.prototype.clear=A9,oc.prototype.delete=x9,oc.prototype.get=k9,oc.prototype.has=_9,oc.prototype.set=T9;function Na(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var C=u[p];this.set(C[0],C[1])}}function S9(){this.__data__=[],this.size=0}function C9(u){var p=this.__data__,b=$b(p,u);if(b<0)return!1;var C=p.length-1;return b==C?p.pop():jb.call(p,b,1),--this.size,!0}function E9(u){var p=this.__data__,b=$b(p,u);return b<0?i:p[b][1]}function z9(u){return $b(this.__data__,u)>-1}function I9(u,p){var b=this.__data__,C=$b(b,u);return C<0?(++this.size,b.push([u,p])):b[C][1]=p,this}Na.prototype.clear=S9,Na.prototype.delete=C9,Na.prototype.get=E9,Na.prototype.has=z9,Na.prototype.set=I9;function ja(u){var p=-1,b=u==null?0:u.length;for(this.clear();++p<b;){var C=u[p];this.set(C[0],C[1])}}function R9(){this.size=0,this.__data__={hash:new oc,map:new(Dp||Na),string:new oc}}function P9(u){var p=o0(this,u).delete(u);return this.size-=p?1:0,p}function L9(u){return o0(this,u).get(u)}function O9(u){return o0(this,u).has(u)}function D9(u,p){var b=o0(this,u),C=b.size;return b.set(u,p),this.size+=b.size==C?0:1,this}ja.prototype.clear=R9,ja.prototype.delete=P9,ja.prototype.get=L9,ja.prototype.has=O9,ja.prototype.set=D9;function ac(u){var p=-1,b=u==null?0:u.length;for(this.__data__=new ja;++p<b;)this.add(u[p])}function M9(u){return this.__data__.set(u,l),this}function B9(u){return this.__data__.has(u)}ac.prototype.add=ac.prototype.push=M9,ac.prototype.has=B9;function ko(u){var p=this.__data__=new Na(u);this.size=p.size}function F9(){this.__data__=new Na,this.size=0}function N9(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b}function j9(u){return this.__data__.get(u)}function U9(u){return this.__data__.has(u)}function G9(u,p){var b=this.__data__;if(b instanceof Na){var C=b.__data__;if(!Dp||C.length<r-1)return C.push([u,p]),this.size=++b.size,this;b=this.__data__=new ja(C)}return b.set(u,p),this.size=b.size,this}ko.prototype.clear=F9,ko.prototype.delete=N9,ko.prototype.get=j9,ko.prototype.has=U9,ko.prototype.set=G9;function Tz(u,p){var b=dt(u),C=!b&&dc(u),D=!b&&!C&&qs(u),j=!b&&!C&&!D&&Qu(u),W=b||C||D||j,K=W?Pp(u.length,Lb):[],ie=K.length;for(var me in u)(p||qt.call(u,me))&&!(W&&(me=="length"||D&&(me=="offset"||me=="parent")||j&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||Wa(me,ie)))&&K.push(me);return K}function Sz(u){var p=u.length;return p?u[jx(0,p-1)]:i}function H9(u,p){return a0(ur(u),sc(p,0,u.length))}function W9(u){return a0(ur(u))}function Ix(u,p,b){(b!==i&&!_o(u[p],b)||b===i&&!(p in u))&&Ua(u,p,b)}function Np(u,p,b){var C=u[p];(!(qt.call(u,p)&&_o(C,b))||b===i&&!(p in u))&&Ua(u,p,b)}function $b(u,p){for(var b=u.length;b--;)if(_o(u[b][0],p))return b;return-1}function Y9(u,p,b,C){return Ys(u,function(D,j,W){p(C,D,b(D),W)}),C}function Cz(u,p){return u&&Qo(p,Ki(p),u)}function V9(u,p){return u&&Qo(p,fr(p),u)}function Ua(u,p,b){p=="__proto__"&&Ub?Ub(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function Rx(u,p){for(var b=-1,C=p.length,D=oe(C),j=u==null;++b<C;)D[b]=j?i:d1(u,p[b]);return D}function sc(u,p,b){return u===u&&(b!==i&&(u=u<=b?u:b),p!==i&&(u=u>=p?u:p)),u}function oo(u,p,b,C,D,j){var W,K=p&f,ie=p&h,me=p&m;if(b&&(W=D?b(u,C,D,j):b(u)),W!==i)return W;if(!hi(u))return u;var ge=dt(u);if(ge){if(W=OG(u),!K)return ur(u,W)}else{var ke=En(u),He=ke==tt||ke==ti;if(qs(u))return Xz(u,K);if(ke==fn||ke==ae||He&&!D){if(W=ie||He?{}:gI(u),!K)return ie?kG(u,V9(W,u)):xG(u,Cz(W,u))}else{if(!$t[ke])return D?u:{};W=DG(u,ke,K)}}j||(j=new ko);var Xe=j.get(u);if(Xe)return Xe;j.set(u,W),YI(u)?u.forEach(function(st){W.add(oo(st,p,b,st,u,j))}):HI(u)&&u.forEach(function(st,xt){W.set(xt,oo(st,p,b,xt,u,j))});var at=me?ie?Xx:Kx:ie?fr:Ki,bt=ge?i:at(u);return lr(bt||u,function(st,xt){bt&&(xt=st,st=u[xt]),Np(W,xt,oo(st,p,b,xt,u,j))}),W}function $9(u){var p=Ki(u);return function(b){return Ez(b,u,p)}}function Ez(u,p,b){var C=b.length;if(u==null)return!C;for(u=Ht(u);C--;){var D=b[C],j=p[D],W=u[D];if(W===i&&!(D in u)||!j(W))return!1}return!0}function zz(u,p,b){if(typeof u!="function")throw new Rt(a);return Vp(function(){u.apply(i,b)},p)}function jp(u,p,b,C){var D=-1,j=Bu,W=!0,K=u.length,ie=[],me=p.length;if(!K)return ie;b&&(p=jt(p,_i(b))),C?(j=Tp,W=!1):p.length>=r&&(j=Sn,W=!1,p=new ac(p));e:for(;++D<K;){var ge=u[D],ke=b==null?ge:b(ge);if(ge=C||ge!==0?ge:0,W&&ke===ke){for(var He=me;He--;)if(p[He]===ke)continue e;ie.push(ge)}else j(p,ke,C)||ie.push(ge)}return ie}var Ys=iI($o),Iz=iI(Lx,!0);function Q9(u,p){var b=!0;return Ys(u,function(C,D,j){return b=!!p(C,D,j),b}),b}function Qb(u,p,b){for(var C=-1,D=u.length;++C<D;){var j=u[C],W=p(j);if(W!=null&&(K===i?W===W&&!Dr(W):b(W,K)))var K=W,ie=j}return ie}function q9(u,p,b,C){var D=u.length;for(b=mt(b),b<0&&(b=-b>D?0:D+b),C=C===i||C>D?D:mt(C),C<0&&(C+=D),C=b>C?0:$I(C);b<C;)u[b++]=p;return u}function Rz(u,p){var b=[];return Ys(u,function(C,D,j){p(C,D,j)&&b.push(C)}),b}function pn(u,p,b,C,D){var j=-1,W=u.length;for(b||(b=BG),D||(D=[]);++j<W;){var K=u[j];p>0&&b(K)?p>1?pn(K,p-1,b,C,D):cr(D,K):C||(D[D.length]=K)}return D}var Px=nI(),Pz=nI(!0);function $o(u,p){return u&&Px(u,p,Ki)}function Lx(u,p){return u&&Pz(u,p,Ki)}function qb(u,p){return Vo(p,function(b){return Ya(u[b])})}function lc(u,p){p=$s(p,u);for(var b=0,C=p.length;u!=null&&b<C;)u=u[qo(p[b++])];return b&&b==C?u:i}function Lz(u,p,b){var C=p(u);return dt(u)?C:cr(C,b(u))}function Wn(u){return u==null?u===i?Pa:Tt:rc&&rc in Ht(u)?RG(u):WG(u)}function Ox(u,p){return u>p}function K9(u,p){return u!=null&&qt.call(u,p)}function X9(u,p){return u!=null&&p in Ht(u)}function J9(u,p,b){return u>=Cn(p,b)&&u<Vi(p,b)}function Dx(u,p,b){for(var C=b?Tp:Bu,D=u[0].length,j=u.length,W=j,K=oe(j),ie=1/0,me=[];W--;){var ge=u[W];W&&p&&(ge=jt(ge,_i(p))),ie=Cn(ge.length,ie),K[W]=!b&&(p||D>=120&&ge.length>=120)?new ac(W&&ge):i}ge=u[0];var ke=-1,He=K[0];e:for(;++ke<D&&me.length<ie;){var Xe=ge[ke],at=p?p(Xe):Xe;if(Xe=b||Xe!==0?Xe:0,!(He?Sn(He,at):C(me,at,b))){for(W=j;--W;){var bt=K[W];if(!(bt?Sn(bt,at):C(u[W],at,b)))continue e}He&&He.push(at),me.push(Xe)}}return me}function Z9(u,p,b,C){return $o(u,function(D,j,W){p(C,b(D),j,W)}),C}function Up(u,p,b){p=$s(p,u),u=wI(u,p);var C=u==null?u:u[qo(so(p))];return C==null?i:Hn(C,u,b)}function Oz(u){return yi(u)&&Wn(u)==ae}function eG(u){return yi(u)&&Wn(u)==Ao}function tG(u){return yi(u)&&Wn(u)==Ie}function Gp(u,p,b,C,D){return u===p?!0:u==null||p==null||!yi(u)&&!yi(p)?u!==u&&p!==p:iG(u,p,b,C,Gp,D)}function iG(u,p,b,C,D,j){var W=dt(u),K=dt(p),ie=W?fe:En(u),me=K?fe:En(p);ie=ie==ae?fn:ie,me=me==ae?fn:me;var ge=ie==fn,ke=me==fn,He=ie==me;if(He&&qs(u)){if(!qs(p))return!1;W=!0,ge=!1}if(He&&!ge)return j||(j=new ko),W||Qu(u)?pI(u,p,b,C,D,j):zG(u,p,ie,b,C,D,j);if(!(b&v)){var Xe=ge&&qt.call(u,"__wrapped__"),at=ke&&qt.call(p,"__wrapped__");if(Xe||at){var bt=Xe?u.value():u,st=at?p.value():p;return j||(j=new ko),D(bt,st,b,C,j)}}return He?(j||(j=new ko),IG(u,p,b,C,D,j)):!1}function nG(u){return yi(u)&&En(u)==Ot}function Mx(u,p,b,C){var D=b.length,j=D,W=!C;if(u==null)return!j;for(u=Ht(u);D--;){var K=b[D];if(W&&K[2]?K[1]!==u[K[0]]:!(K[0]in u))return!1}for(;++D<j;){K=b[D];var ie=K[0],me=u[ie],ge=K[1];if(W&&K[2]){if(me===i&&!(ie in u))return!1}else{var ke=new ko;if(C)var He=C(me,ge,ie,u,p,ke);if(!(He===i?Gp(ge,me,v|w,C,ke):He))return!1}}return!0}function Dz(u){if(!hi(u)||NG(u))return!1;var p=Ya(u)?n9:dp;return p.test(uc(u))}function rG(u){return yi(u)&&Wn(u)==bi}function oG(u){return yi(u)&&En(u)==pi}function aG(u){return yi(u)&&f0(u.length)&&!!ii[Wn(u)]}function Mz(u){return typeof u=="function"?u:u==null?pr:typeof u=="object"?dt(u)?Nz(u[0],u[1]):Fz(u):r5(u)}function Bx(u){if(!Yp(u))return c9(u);var p=[];for(var b in Ht(u))qt.call(u,b)&&b!="constructor"&&p.push(b);return p}function sG(u){if(!hi(u))return HG(u);var p=Yp(u),b=[];for(var C in u)C=="constructor"&&(p||!qt.call(u,C))||b.push(C);return b}function Fx(u,p){return u<p}function Bz(u,p){var b=-1,C=dr(u)?oe(u.length):[];return Ys(u,function(D,j,W){C[++b]=p(D,j,W)}),C}function Fz(u){var p=Zx(u);return p.length==1&&p[0][2]?vI(p[0][0],p[0][1]):function(b){return b===u||Mx(b,u,p)}}function Nz(u,p){return t1(u)&&bI(p)?vI(qo(u),p):function(b){var C=d1(b,u);return C===i&&C===p?f1(b,u):Gp(p,C,v|w)}}function Kb(u,p,b,C,D){u!==p&&Px(p,function(j,W){if(D||(D=new ko),hi(j))lG(u,p,W,b,Kb,C,D);else{var K=C?C(n1(u,W),j,W+"",u,p,D):i;K===i&&(K=j),Ix(u,W,K)}},fr)}function lG(u,p,b,C,D,j,W){var K=n1(u,b),ie=n1(p,b),me=W.get(ie);if(me){Ix(u,b,me);return}var ge=j?j(K,ie,b+"",u,p,W):i,ke=ge===i;if(ke){var He=dt(ie),Xe=!He&&qs(ie),at=!He&&!Xe&&Qu(ie);ge=ie,He||Xe||at?dt(K)?ge=K:Ti(K)?ge=ur(K):Xe?(ke=!1,ge=Xz(ie,!0)):at?(ke=!1,ge=Jz(ie,!0)):ge=[]:$p(ie)||dc(ie)?(ge=K,dc(K)?ge=QI(K):(!hi(K)||Ya(K))&&(ge=gI(ie))):ke=!1}ke&&(W.set(ie,ge),D(ge,ie,C,j,W),W.delete(ie)),Ix(u,b,ge)}function jz(u,p){var b=u.length;if(!!b)return p+=p<0?b:0,Wa(p,b)?u[p]:i}function Uz(u,p,b){p.length?p=jt(p,function(j){return dt(j)?function(W){return lc(W,j.length===1?j[0]:j)}:j}):p=[pr];var C=-1;p=jt(p,_i(ot()));var D=Bz(u,function(j,W,K){var ie=jt(p,function(me){return me(j)});return{criteria:ie,index:++C,value:j}});return Ip(D,function(j,W){return AG(j,W,b)})}function cG(u,p){return Gz(u,p,function(b,C){return f1(u,C)})}function Gz(u,p,b){for(var C=-1,D=p.length,j={};++C<D;){var W=p[C],K=lc(u,W);b(K,W)&&Hp(j,$s(W,u),K)}return j}function uG(u){return function(p){return lc(p,u)}}function Nx(u,p,b,C){var D=C?ju:xo,j=-1,W=p.length,K=u;for(u===p&&(p=ur(p)),b&&(K=jt(u,_i(b)));++j<W;)for(var ie=0,me=p[j],ge=b?b(me):me;(ie=D(K,ge,ie,C))>-1;)K!==u&&jb.call(K,ie,1),jb.call(u,ie,1);return u}function Hz(u,p){for(var b=u?p.length:0,C=b-1;b--;){var D=p[b];if(b==C||D!==j){var j=D;Wa(D)?jb.call(u,D,1):Hx(u,D)}}return u}function jx(u,p){return u+Hb(kz()*(p-u+1))}function dG(u,p,b,C){for(var D=-1,j=Vi(Gb((p-u)/(b||1)),0),W=oe(j);j--;)W[C?j:++D]=u,u+=b;return W}function Ux(u,p){var b="";if(!u||p<1||p>Ve)return b;do p%2&&(b+=u),p=Hb(p/2),p&&(u+=u);while(p);return b}function yt(u,p){return r1(yI(u,p,pr),u+"")}function fG(u){return Sz(qu(u))}function pG(u,p){var b=qu(u);return a0(b,sc(p,0,b.length))}function Hp(u,p,b,C){if(!hi(u))return u;p=$s(p,u);for(var D=-1,j=p.length,W=j-1,K=u;K!=null&&++D<j;){var ie=qo(p[D]),me=b;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return u;if(D!=W){var ge=K[ie];me=C?C(ge,ie,K):i,me===i&&(me=hi(ge)?ge:Wa(p[D+1])?[]:{})}Np(K,ie,me),K=K[ie]}return u}var Wz=Wb?function(u,p){return Wb.set(u,p),u}:pr,hG=Ub?function(u,p){return Ub(u,"toString",{configurable:!0,enumerable:!1,value:h1(p),writable:!0})}:pr;function mG(u){return a0(qu(u))}function ao(u,p,b){var C=-1,D=u.length;p<0&&(p=-p>D?0:D+p),b=b>D?D:b,b<0&&(b+=D),D=p>b?0:b-p>>>0,p>>>=0;for(var j=oe(D);++C<D;)j[C]=u[C+p];return j}function gG(u,p){var b;return Ys(u,function(C,D,j){return b=p(C,D,j),!b}),!!b}function Xb(u,p,b){var C=0,D=u==null?C:u.length;if(typeof p=="number"&&p===p&&D<=ce){for(;C<D;){var j=C+D>>>1,W=u[j];W!==null&&!Dr(W)&&(b?W<=p:W<p)?C=j+1:D=j}return D}return Gx(u,p,pr,b)}function Gx(u,p,b,C){var D=0,j=u==null?0:u.length;if(j===0)return 0;p=b(p);for(var W=p!==p,K=p===null,ie=Dr(p),me=p===i;D<j;){var ge=Hb((D+j)/2),ke=b(u[ge]),He=ke!==i,Xe=ke===null,at=ke===ke,bt=Dr(ke);if(W)var st=C||at;else me?st=at&&(C||He):K?st=at&&He&&(C||!Xe):ie?st=at&&He&&!Xe&&(C||!bt):Xe||bt?st=!1:st=C?ke<=p:ke<p;st?D=ge+1:j=ge}return Cn(j,Z)}function Yz(u,p){for(var b=-1,C=u.length,D=0,j=[];++b<C;){var W=u[b],K=p?p(W):W;if(!b||!_o(K,ie)){var ie=K;j[D++]=W===0?0:W}}return j}function Vz(u){return typeof u=="number"?u:Dr(u)?De:+u}function Or(u){if(typeof u=="string")return u;if(dt(u))return jt(u,Or)+"";if(Dr(u))return _z?_z.call(u):"";var p=u+"";return p=="0"&&1/u==-Be?"-0":p}function Vs(u,p,b){var C=-1,D=Bu,j=u.length,W=!0,K=[],ie=K;if(b)W=!1,D=Tp;else if(j>=r){var me=p?null:CG(u);if(me)return k(me);W=!1,D=Sn,ie=new ac}else ie=p?[]:K;e:for(;++C<j;){var ge=u[C],ke=p?p(ge):ge;if(ge=b||ge!==0?ge:0,W&&ke===ke){for(var He=ie.length;He--;)if(ie[He]===ke)continue e;p&&ie.push(ke),K.push(ge)}else D(ie,ke,b)||(ie!==K&&ie.push(ke),K.push(ge))}return K}function Hx(u,p){return p=$s(p,u),u=wI(u,p),u==null||delete u[qo(so(p))]}function $z(u,p,b,C){return Hp(u,p,b(lc(u,p)),C)}function Jb(u,p,b,C){for(var D=u.length,j=C?D:-1;(C?j--:++j<D)&&p(u[j],j,u););return b?ao(u,C?0:j,C?j+1:D):ao(u,C?j+1:0,C?D:j)}function Qz(u,p){var b=u;return b instanceof St&&(b=b.value()),Fu(p,function(C,D){return D.func.apply(D.thisArg,cr([C],D.args))},b)}function Wx(u,p,b){var C=u.length;if(C<2)return C?Vs(u[0]):[];for(var D=-1,j=oe(C);++D<C;)for(var W=u[D],K=-1;++K<C;)K!=D&&(j[D]=jp(j[D]||W,u[K],p,b));return Vs(pn(j,1),p,b)}function qz(u,p,b){for(var C=-1,D=u.length,j=p.length,W={};++C<D;){var K=C<j?p[C]:i;b(W,u[C],K)}return W}function Yx(u){return Ti(u)?u:[]}function Vx(u){return typeof u=="function"?u:pr}function $s(u,p){return dt(u)?u:t1(u,p)?[u]:_I(Wt(u))}var bG=yt;function Qs(u,p,b){var C=u.length;return b=b===i?C:b,!p&&b>=C?u:ao(u,p,b)}var Kz=r9||function(u){return Wi.clearTimeout(u)};function Xz(u,p){if(p)return u.slice();var b=u.length,C=vz?vz(b):new u.constructor(b);return u.copy(C),C}function $x(u){var p=new u.constructor(u.byteLength);return new Fb(p).set(new Fb(u)),p}function vG(u,p){var b=p?$x(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function yG(u){var p=new u.constructor(u.source,rb.exec(u));return p.lastIndex=u.lastIndex,p}function wG(u){return Fp?Ht(Fp.call(u)):{}}function Jz(u,p){var b=p?$x(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function Zz(u,p){if(u!==p){var b=u!==i,C=u===null,D=u===u,j=Dr(u),W=p!==i,K=p===null,ie=p===p,me=Dr(p);if(!K&&!me&&!j&&u>p||j&&W&&ie&&!K&&!me||C&&W&&ie||!b&&ie||!D)return 1;if(!C&&!j&&!me&&u<p||me&&b&&D&&!C&&!j||K&&b&&D||!W&&D||!ie)return-1}return 0}function AG(u,p,b){for(var C=-1,D=u.criteria,j=p.criteria,W=D.length,K=b.length;++C<W;){var ie=Zz(D[C],j[C]);if(ie){if(C>=K)return ie;var me=b[C];return ie*(me=="desc"?-1:1)}}return u.index-p.index}function eI(u,p,b,C){for(var D=-1,j=u.length,W=b.length,K=-1,ie=p.length,me=Vi(j-W,0),ge=oe(ie+me),ke=!C;++K<ie;)ge[K]=p[K];for(;++D<W;)(ke||D<j)&&(ge[b[D]]=u[D]);for(;me--;)ge[K++]=u[D++];return ge}function tI(u,p,b,C){for(var D=-1,j=u.length,W=-1,K=b.length,ie=-1,me=p.length,ge=Vi(j-K,0),ke=oe(ge+me),He=!C;++D<ge;)ke[D]=u[D];for(var Xe=D;++ie<me;)ke[Xe+ie]=p[ie];for(;++W<K;)(He||D<j)&&(ke[Xe+b[W]]=u[D++]);return ke}function ur(u,p){var b=-1,C=u.length;for(p||(p=oe(C));++b<C;)p[b]=u[b];return p}function Qo(u,p,b,C){var D=!b;b||(b={});for(var j=-1,W=p.length;++j<W;){var K=p[j],ie=C?C(b[K],u[K],K,b,u):i;ie===i&&(ie=u[K]),D?Ua(b,K,ie):Np(b,K,ie)}return b}function xG(u,p){return Qo(u,e1(u),p)}function kG(u,p){return Qo(u,hI(u),p)}function Zb(u,p){return function(b,C){var D=dt(b)?yx:Y9,j=p?p():{};return D(b,u,ot(C,2),j)}}function Yu(u){return yt(function(p,b){var C=-1,D=b.length,j=D>1?b[D-1]:i,W=D>2?b[2]:i;for(j=u.length>3&&typeof j=="function"?(D--,j):i,W&&Yn(b[0],b[1],W)&&(j=D<3?i:j,D=1),p=Ht(p);++C<D;){var K=b[C];K&&u(p,K,C,j)}return p})}function iI(u,p){return function(b,C){if(b==null)return b;if(!dr(b))return u(b,C);for(var D=b.length,j=p?D:-1,W=Ht(b);(p?j--:++j<D)&&C(W[j],j,W)!==!1;);return b}}function nI(u){return function(p,b,C){for(var D=-1,j=Ht(p),W=C(p),K=W.length;K--;){var ie=W[u?K:++D];if(b(j[ie],ie,j)===!1)break}return p}}function _G(u,p,b){var C=p&g,D=Wp(u);function j(){var W=this&&this!==Wi&&this instanceof j?D:u;return W.apply(C?b:this,arguments)}return j}function rI(u){return function(p){p=Wt(p);var b=Hs(p)?G(p):i,C=b?b[0]:p.charAt(0),D=b?Qs(b,1).join(""):p.slice(1);return C[u]()+D}}function Vu(u){return function(p){return Fu(i5(t5(p).replace(dx,"")),u,"")}}function Wp(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=Wu(u.prototype),C=u.apply(b,p);return hi(C)?C:b}}function TG(u,p,b){var C=Wp(u);function D(){for(var j=arguments.length,W=oe(j),K=j,ie=$u(D);K--;)W[K]=arguments[K];var me=j<3&&W[0]!==ie&&W[j-1]!==ie?[]:_(W,ie);if(j-=me.length,j<b)return cI(u,p,e0,D.placeholder,i,W,me,i,i,b-j);var ge=this&&this!==Wi&&this instanceof D?C:u;return Hn(ge,this,W)}return D}function oI(u){return function(p,b,C){var D=Ht(p);if(!dr(p)){var j=ot(b,3);p=Ki(p),b=function(K){return j(D[K],K,D)}}var W=u(p,b,C);return W>-1?D[j?p[W]:W]:i}}function aI(u){return Ha(function(p){var b=p.length,C=b,D=ro.prototype.thru;for(u&&p.reverse();C--;){var j=p[C];if(typeof j!="function")throw new Rt(a);if(D&&!W&&r0(j)=="wrapper")var W=new ro([],!0)}for(C=W?C:b;++C<b;){j=p[C];var K=r0(j),ie=K=="wrapper"?Jx(j):i;ie&&i1(ie[0])&&ie[1]==(B|T|z|O)&&!ie[4].length&&ie[9]==1?W=W[r0(ie[0])].apply(W,ie[3]):W=j.length==1&&i1(j)?W[K]():W.thru(j)}return function(){var me=arguments,ge=me[0];if(W&&me.length==1&&dt(ge))return W.plant(ge).value();for(var ke=0,He=b?p[ke].apply(this,me):ge;++ke<b;)He=p[ke].call(this,He);return He}})}function e0(u,p,b,C,D,j,W,K,ie,me){var ge=p&B,ke=p&g,He=p&A,Xe=p&(T|E),at=p&F,bt=He?i:Wp(u);function st(){for(var xt=arguments.length,Et=oe(xt),Mr=xt;Mr--;)Et[Mr]=arguments[Mr];if(Xe)var Vn=$u(st),Br=Ax(Et,Vn);if(C&&(Et=eI(Et,C,D,Xe)),j&&(Et=tI(Et,j,W,Xe)),xt-=Br,Xe&&xt<me){var Si=_(Et,Vn);return cI(u,p,e0,st.placeholder,b,Et,Si,K,ie,me-xt)}var To=ke?b:this,$a=He?To[u]:u;return xt=Et.length,K?Et=YG(Et,K):at&&xt>1&&Et.reverse(),ge&&ie<xt&&(Et.length=ie),this&&this!==Wi&&this instanceof st&&($a=bt||Wp($a)),$a.apply(To,Et)}return st}function sI(u,p){return function(b,C){return Z9(b,u,p(C),{})}}function t0(u,p){return function(b,C){var D;if(b===i&&C===i)return p;if(b!==i&&(D=b),C!==i){if(D===i)return C;typeof b=="string"||typeof C=="string"?(b=Or(b),C=Or(C)):(b=Vz(b),C=Vz(C)),D=u(b,C)}return D}}function Qx(u){return Ha(function(p){return p=jt(p,_i(ot())),yt(function(b){var C=this;return u(p,function(D){return Hn(D,C,b)})})})}function i0(u,p){p=p===i?" ":Or(p);var b=p.length;if(b<2)return b?Ux(p,u):p;var C=Ux(p,Gb(u/U(p)));return Hs(p)?Qs(G(C),0,u).join(""):C.slice(0,u)}function SG(u,p,b,C){var D=p&g,j=Wp(u);function W(){for(var K=-1,ie=arguments.length,me=-1,ge=C.length,ke=oe(ge+ie),He=this&&this!==Wi&&this instanceof W?j:u;++me<ge;)ke[me]=C[me];for(;ie--;)ke[me++]=arguments[++K];return Hn(He,D?b:this,ke)}return W}function lI(u){return function(p,b,C){return C&&typeof C!="number"&&Yn(p,b,C)&&(b=C=i),p=Va(p),b===i?(b=p,p=0):b=Va(b),C=C===i?p<b?1:-1:Va(C),dG(p,b,C,u)}}function n0(u){return function(p,b){return typeof p=="string"&&typeof b=="string"||(p=lo(p),b=lo(b)),u(p,b)}}function cI(u,p,b,C,D,j,W,K,ie,me){var ge=p&T,ke=ge?W:i,He=ge?i:W,Xe=ge?j:i,at=ge?i:j;p|=ge?z:L,p&=~(ge?L:z),p&x||(p&=~(g|A));var bt=[u,p,D,Xe,ke,at,He,K,ie,me],st=b.apply(i,bt);return i1(u)&&AI(st,bt),st.placeholder=C,xI(st,u,p)}function qx(u){var p=vi[u];return function(b,C){if(b=lo(b),C=C==null?0:Cn(mt(C),292),C&&xz(b)){var D=(Wt(b)+"e").split("e"),j=p(D[0]+"e"+(+D[1]+C));return D=(Wt(j)+"e").split("e"),+(D[0]+"e"+(+D[1]-C))}return p(b)}}var CG=Gu&&1/k(new Gu([,-0]))[1]==Be?function(u){return new Gu(u)}:b1;function uI(u){return function(p){var b=En(p);return b==Ot?M(p):b==pi?S(p):Gs(p,u(p))}}function Ga(u,p,b,C,D,j,W,K){var ie=p&A;if(!ie&&typeof u!="function")throw new Rt(a);var me=C?C.length:0;if(me||(p&=~(z|L),C=D=i),W=W===i?W:Vi(mt(W),0),K=K===i?K:mt(K),me-=D?D.length:0,p&L){var ge=C,ke=D;C=D=i}var He=ie?i:Jx(u),Xe=[u,p,b,C,D,ge,ke,j,W,K];if(He&&GG(Xe,He),u=Xe[0],p=Xe[1],b=Xe[2],C=Xe[3],D=Xe[4],K=Xe[9]=Xe[9]===i?ie?0:u.length:Vi(Xe[9]-me,0),!K&&p&(T|E)&&(p&=~(T|E)),!p||p==g)var at=_G(u,p,b);else p==T||p==E?at=TG(u,p,K):(p==z||p==(g|z))&&!D.length?at=SG(u,p,b,C):at=e0.apply(i,Xe);var bt=He?Wz:AI;return xI(bt(at,Xe),u,p)}function dI(u,p,b,C){return u===i||_o(u,Uu[b])&&!qt.call(C,b)?p:u}function fI(u,p,b,C,D,j){return hi(u)&&hi(p)&&(j.set(p,u),Kb(u,p,i,fI,j),j.delete(p)),u}function EG(u){return $p(u)?i:u}function pI(u,p,b,C,D,j){var W=b&v,K=u.length,ie=p.length;if(K!=ie&&!(W&&ie>K))return!1;var me=j.get(u),ge=j.get(p);if(me&&ge)return me==p&&ge==u;var ke=-1,He=!0,Xe=b&w?new ac:i;for(j.set(u,p),j.set(p,u);++ke<K;){var at=u[ke],bt=p[ke];if(C)var st=W?C(bt,at,ke,p,u,j):C(at,bt,ke,u,p,j);if(st!==i){if(st)continue;He=!1;break}if(Xe){if(!Nu(p,function(xt,Et){if(!Sn(Xe,Et)&&(at===xt||D(at,xt,b,C,j)))return Xe.push(Et)})){He=!1;break}}else if(!(at===bt||D(at,bt,b,C,j))){He=!1;break}}return j.delete(u),j.delete(p),He}function zG(u,p,b,C,D,j,W){switch(b){case ht:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case Ao:return!(u.byteLength!=p.byteLength||!j(new Fb(u),new Fb(p)));case be:case Ie:case Rr:return _o(+u,+p);case $e:return u.name==p.name&&u.message==p.message;case bi:case to:return u==p+"";case Ot:var K=M;case pi:var ie=C&v;if(K||(K=k),u.size!=p.size&&!ie)return!1;var me=W.get(u);if(me)return me==p;C|=w,W.set(u,p);var ge=pI(K(u),K(p),C,D,j,W);return W.delete(u),ge;case io:if(Fp)return Fp.call(u)==Fp.call(p)}return!1}function IG(u,p,b,C,D,j){var W=b&v,K=Kx(u),ie=K.length,me=Kx(p),ge=me.length;if(ie!=ge&&!W)return!1;for(var ke=ie;ke--;){var He=K[ke];if(!(W?He in p:qt.call(p,He)))return!1}var Xe=j.get(u),at=j.get(p);if(Xe&&at)return Xe==p&&at==u;var bt=!0;j.set(u,p),j.set(p,u);for(var st=W;++ke<ie;){He=K[ke];var xt=u[He],Et=p[He];if(C)var Mr=W?C(Et,xt,He,p,u,j):C(xt,Et,He,u,p,j);if(!(Mr===i?xt===Et||D(xt,Et,b,C,j):Mr)){bt=!1;break}st||(st=He=="constructor")}if(bt&&!st){var Vn=u.constructor,Br=p.constructor;Vn!=Br&&"constructor"in u&&"constructor"in p&&!(typeof Vn=="function"&&Vn instanceof Vn&&typeof Br=="function"&&Br instanceof Br)&&(bt=!1)}return j.delete(u),j.delete(p),bt}function Ha(u){return r1(yI(u,i,EI),u+"")}function Kx(u){return Lz(u,Ki,e1)}function Xx(u){return Lz(u,fr,hI)}var Jx=Wb?function(u){return Wb.get(u)}:b1;function r0(u){for(var p=u.name+"",b=Hu[p],C=qt.call(Hu,p)?b.length:0;C--;){var D=b[C],j=D.func;if(j==null||j==u)return D.name}return p}function $u(u){var p=qt.call(N,"placeholder")?N:u;return p.placeholder}function ot(){var u=N.iteratee||m1;return u=u===m1?Mz:u,arguments.length?u(arguments[0],arguments[1]):u}function o0(u,p){var b=u.__data__;return FG(p)?b[typeof p=="string"?"string":"hash"]:b.map}function Zx(u){for(var p=Ki(u),b=p.length;b--;){var C=p[b],D=u[C];p[b]=[C,D,bI(D)]}return p}function cc(u,p){var b=Tx(u,p);return Dz(b)?b:i}function RG(u){var p=qt.call(u,rc),b=u[rc];try{u[rc]=i;var C=!0}catch{}var D=Mb.call(u);return C&&(p?u[rc]=b:delete u[rc]),D}var e1=Cx?function(u){return u==null?[]:(u=Ht(u),Vo(Cx(u),function(p){return wz.call(u,p)}))}:v1,hI=Cx?function(u){for(var p=[];u;)cr(p,e1(u)),u=Nb(u);return p}:v1,En=Wn;(Ex&&En(new Ex(new ArrayBuffer(1)))!=ht||Dp&&En(new Dp)!=Ot||zx&&En(zx.resolve())!=Ke||Gu&&En(new Gu)!=pi||Mp&&En(new Mp)!=wo)&&(En=function(u){var p=Wn(u),b=p==fn?u.constructor:i,C=b?uc(b):"";if(C)switch(C){case p9:return ht;case h9:return Ot;case m9:return Ke;case g9:return pi;case b9:return wo}return p});function PG(u,p,b){for(var C=-1,D=b.length;++C<D;){var j=b[C],W=j.size;switch(j.type){case"drop":u+=W;break;case"dropRight":p-=W;break;case"take":p=Cn(p,u+W);break;case"takeRight":u=Vi(u,p-W);break}}return{start:u,end:p}}function LG(u){var p=u.match(Su);return p?p[1].split(ix):[]}function mI(u,p,b){p=$s(p,u);for(var C=-1,D=p.length,j=!1;++C<D;){var W=qo(p[C]);if(!(j=u!=null&&b(u,W)))break;u=u[W]}return j||++C!=D?j:(D=u==null?0:u.length,!!D&&f0(D)&&Wa(W,D)&&(dt(u)||dc(u)))}function OG(u){var p=u.length,b=new u.constructor(p);return p&&typeof u[0]=="string"&&qt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function gI(u){return typeof u.constructor=="function"&&!Yp(u)?Wu(Nb(u)):{}}function DG(u,p,b){var C=u.constructor;switch(p){case Ao:return $x(u);case be:case Ie:return new C(+u);case ht:return vG(u,b);case np:case rp:case op:case ap:case sp:case Ms:case lp:case cp:case up:return Jz(u,b);case Ot:return new C;case Rr:case to:return new C(u);case bi:return yG(u);case pi:return new C;case io:return wG(u)}}function MG(u,p){var b=p.length;if(!b)return u;var C=b-1;return p[C]=(b>1?"& ":"")+p[C],p=p.join(b>2?", ":" "),u.replace(Tu,`{
/* [wrapped with `+p+`] */
`)}function BG(u){return dt(u)||dc(u)||!!(Az&&u&&u[Az])}function Wa(u,p){var b=typeof u;return p=p==null?Ve:p,!!p&&(b=="number"||b!="symbol"&&sb.test(u))&&u>-1&&u%1==0&&u<p}function Yn(u,p,b){if(!hi(b))return!1;var C=typeof p;return(C=="number"?dr(b)&&Wa(p,b.length):C=="string"&&p in b)?_o(b[p],u):!1}function t1(u,p){if(dt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||Dr(u)?!0:ex.test(u)||!ZA.test(u)||p!=null&&u in Ht(p)}function FG(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function i1(u){var p=r0(u),b=N[p];if(typeof b!="function"||!(p in St.prototype))return!1;if(u===b)return!0;var C=Jx(b);return!!C&&u===C[0]}function NG(u){return!!bz&&bz in u}var jG=Ob?Ya:y1;function Yp(u){var p=u&&u.constructor,b=typeof p=="function"&&p.prototype||Uu;return u===b}function bI(u){return u===u&&!hi(u)}function vI(u,p){return function(b){return b==null?!1:b[u]===p&&(p!==i||u in Ht(b))}}function UG(u){var p=u0(u,function(C){return b.size===c&&b.clear(),C}),b=p.cache;return p}function GG(u,p){var b=u[1],C=p[1],D=b|C,j=D<(g|A|B),W=C==B&&b==T||C==B&&b==O&&u[7].length<=p[8]||C==(B|O)&&p[7].length<=p[8]&&b==T;if(!(j||W))return u;C&g&&(u[2]=p[2],D|=b&g?0:x);var K=p[3];if(K){var ie=u[3];u[3]=ie?eI(ie,K,p[4]):K,u[4]=ie?_(u[3],d):p[4]}return K=p[5],K&&(ie=u[5],u[5]=ie?tI(ie,K,p[6]):K,u[6]=ie?_(u[5],d):p[6]),K=p[7],K&&(u[7]=K),C&B&&(u[8]=u[8]==null?p[8]:Cn(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=D,u}function HG(u){var p=[];if(u!=null)for(var b in Ht(u))p.push(b);return p}function WG(u){return Mb.call(u)}function yI(u,p,b){return p=Vi(p===i?u.length-1:p,0),function(){for(var C=arguments,D=-1,j=Vi(C.length-p,0),W=oe(j);++D<j;)W[D]=C[p+D];D=-1;for(var K=oe(p+1);++D<p;)K[D]=C[D];return K[p]=b(W),Hn(u,this,K)}}function wI(u,p){return p.length<2?u:lc(u,ao(p,0,-1))}function YG(u,p){for(var b=u.length,C=Cn(p.length,b),D=ur(u);C--;){var j=p[C];u[C]=Wa(j,b)?D[j]:i}return u}function n1(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var AI=kI(Wz),Vp=a9||function(u,p){return Wi.setTimeout(u,p)},r1=kI(hG);function xI(u,p,b){var C=p+"";return r1(u,MG(C,VG(LG(C),b)))}function kI(u){var p=0,b=0;return function(){var C=u9(),D=we-(C-b);if(b=C,D>0){if(++p>=de)return arguments[0]}else p=0;return u.apply(i,arguments)}}function a0(u,p){var b=-1,C=u.length,D=C-1;for(p=p===i?C:p;++b<p;){var j=jx(b,D),W=u[j];u[j]=u[b],u[b]=W}return u.length=p,u}var _I=UG(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(ku,function(b,C,D,j){p.push(D?j.replace(Cu,"$1"):C||b)}),p});function qo(u){if(typeof u=="string"||Dr(u))return u;var p=u+"";return p=="0"&&1/u==-Be?"-0":p}function uc(u){if(u!=null){try{return Db.call(u)}catch{}try{return u+""}catch{}}return""}function VG(u,p){return lr(te,function(b){var C="_."+b[0];p&b[1]&&!Bu(u,C)&&u.push(C)}),u.sort()}function TI(u){if(u instanceof St)return u.clone();var p=new ro(u.__wrapped__,u.__chain__);return p.__actions__=ur(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function $G(u,p,b){(b?Yn(u,p,b):p===i)?p=1:p=Vi(mt(p),0);var C=u==null?0:u.length;if(!C||p<1)return[];for(var D=0,j=0,W=oe(Gb(C/p));D<C;)W[j++]=ao(u,D,D+=p);return W}function QG(u){for(var p=-1,b=u==null?0:u.length,C=0,D=[];++p<b;){var j=u[p];j&&(D[C++]=j)}return D}function qG(){var u=arguments.length;if(!u)return[];for(var p=oe(u-1),b=arguments[0],C=u;C--;)p[C-1]=arguments[C];return cr(dt(b)?ur(b):[b],pn(p,1))}var KG=yt(function(u,p){return Ti(u)?jp(u,pn(p,1,Ti,!0)):[]}),XG=yt(function(u,p){var b=so(p);return Ti(b)&&(b=i),Ti(u)?jp(u,pn(p,1,Ti,!0),ot(b,2)):[]}),JG=yt(function(u,p){var b=so(p);return Ti(b)&&(b=i),Ti(u)?jp(u,pn(p,1,Ti,!0),i,b):[]});function ZG(u,p,b){var C=u==null?0:u.length;return C?(p=b||p===i?1:mt(p),ao(u,p<0?0:p,C)):[]}function eH(u,p,b){var C=u==null?0:u.length;return C?(p=b||p===i?1:mt(p),p=C-p,ao(u,0,p<0?0:p)):[]}function tH(u,p){return u&&u.length?Jb(u,ot(p,3),!0,!0):[]}function iH(u,p){return u&&u.length?Jb(u,ot(p,3),!0):[]}function nH(u,p,b,C){var D=u==null?0:u.length;return D?(b&&typeof b!="number"&&Yn(u,p,b)&&(b=0,C=D),q9(u,p,b,C)):[]}function SI(u,p,b){var C=u==null?0:u.length;if(!C)return-1;var D=b==null?0:mt(b);return D<0&&(D=Vi(C+D,0)),tc(u,ot(p,3),D)}function CI(u,p,b){var C=u==null?0:u.length;if(!C)return-1;var D=C-1;return b!==i&&(D=mt(b),D=b<0?Vi(C+D,0):Cn(D,C-1)),tc(u,ot(p,3),D,!0)}function EI(u){var p=u==null?0:u.length;return p?pn(u,1):[]}function rH(u){var p=u==null?0:u.length;return p?pn(u,Be):[]}function oH(u,p){var b=u==null?0:u.length;return b?(p=p===i?1:mt(p),pn(u,p)):[]}function aH(u){for(var p=-1,b=u==null?0:u.length,C={};++p<b;){var D=u[p];C[D[0]]=D[1]}return C}function zI(u){return u&&u.length?u[0]:i}function sH(u,p,b){var C=u==null?0:u.length;if(!C)return-1;var D=b==null?0:mt(b);return D<0&&(D=Vi(C+D,0)),xo(u,p,D)}function lH(u){var p=u==null?0:u.length;return p?ao(u,0,-1):[]}var cH=yt(function(u){var p=jt(u,Yx);return p.length&&p[0]===u[0]?Dx(p):[]}),uH=yt(function(u){var p=so(u),b=jt(u,Yx);return p===so(b)?p=i:b.pop(),b.length&&b[0]===u[0]?Dx(b,ot(p,2)):[]}),dH=yt(function(u){var p=so(u),b=jt(u,Yx);return p=typeof p=="function"?p:i,p&&b.pop(),b.length&&b[0]===u[0]?Dx(b,i,p):[]});function fH(u,p){return u==null?"":l9.call(u,p)}function so(u){var p=u==null?0:u.length;return p?u[p-1]:i}function pH(u,p,b){var C=u==null?0:u.length;if(!C)return-1;var D=C;return b!==i&&(D=mt(b),D=D<0?Vi(C+D,0):Cn(D,C-1)),p===p?R(u,p,D):tc(u,Eb,D,!0)}function hH(u,p){return u&&u.length?jz(u,mt(p)):i}var mH=yt(II);function II(u,p){return u&&u.length&&p&&p.length?Nx(u,p):u}function gH(u,p,b){return u&&u.length&&p&&p.length?Nx(u,p,ot(b,2)):u}function bH(u,p,b){return u&&u.length&&p&&p.length?Nx(u,p,i,b):u}var vH=Ha(function(u,p){var b=u==null?0:u.length,C=Rx(u,p);return Hz(u,jt(p,function(D){return Wa(D,b)?+D:D}).sort(Zz)),C});function yH(u,p){var b=[];if(!(u&&u.length))return b;var C=-1,D=[],j=u.length;for(p=ot(p,3);++C<j;){var W=u[C];p(W,C,u)&&(b.push(W),D.push(C))}return Hz(u,D),b}function o1(u){return u==null?u:f9.call(u)}function wH(u,p,b){var C=u==null?0:u.length;return C?(b&&typeof b!="number"&&Yn(u,p,b)?(p=0,b=C):(p=p==null?0:mt(p),b=b===i?C:mt(b)),ao(u,p,b)):[]}function AH(u,p){return Xb(u,p)}function xH(u,p,b){return Gx(u,p,ot(b,2))}function kH(u,p){var b=u==null?0:u.length;if(b){var C=Xb(u,p);if(C<b&&_o(u[C],p))return C}return-1}function _H(u,p){return Xb(u,p,!0)}function TH(u,p,b){return Gx(u,p,ot(b,2),!0)}function SH(u,p){var b=u==null?0:u.length;if(b){var C=Xb(u,p,!0)-1;if(_o(u[C],p))return C}return-1}function CH(u){return u&&u.length?Yz(u):[]}function EH(u,p){return u&&u.length?Yz(u,ot(p,2)):[]}function zH(u){var p=u==null?0:u.length;return p?ao(u,1,p):[]}function IH(u,p,b){return u&&u.length?(p=b||p===i?1:mt(p),ao(u,0,p<0?0:p)):[]}function RH(u,p,b){var C=u==null?0:u.length;return C?(p=b||p===i?1:mt(p),p=C-p,ao(u,p<0?0:p,C)):[]}function PH(u,p){return u&&u.length?Jb(u,ot(p,3),!1,!0):[]}function LH(u,p){return u&&u.length?Jb(u,ot(p,3)):[]}var OH=yt(function(u){return Vs(pn(u,1,Ti,!0))}),DH=yt(function(u){var p=so(u);return Ti(p)&&(p=i),Vs(pn(u,1,Ti,!0),ot(p,2))}),MH=yt(function(u){var p=so(u);return p=typeof p=="function"?p:i,Vs(pn(u,1,Ti,!0),i,p)});function BH(u){return u&&u.length?Vs(u):[]}function FH(u,p){return u&&u.length?Vs(u,ot(p,2)):[]}function NH(u,p){return p=typeof p=="function"?p:i,u&&u.length?Vs(u,i,p):[]}function a1(u){if(!(u&&u.length))return[];var p=0;return u=Vo(u,function(b){if(Ti(b))return p=Vi(b.length,p),!0}),Pp(p,function(b){return jt(u,Ep(b))})}function RI(u,p){if(!(u&&u.length))return[];var b=a1(u);return p==null?b:jt(b,function(C){return Hn(p,i,C)})}var jH=yt(function(u,p){return Ti(u)?jp(u,p):[]}),UH=yt(function(u){return Wx(Vo(u,Ti))}),GH=yt(function(u){var p=so(u);return Ti(p)&&(p=i),Wx(Vo(u,Ti),ot(p,2))}),HH=yt(function(u){var p=so(u);return p=typeof p=="function"?p:i,Wx(Vo(u,Ti),i,p)}),WH=yt(a1);function YH(u,p){return qz(u||[],p||[],Np)}function VH(u,p){return qz(u||[],p||[],Hp)}var $H=yt(function(u){var p=u.length,b=p>1?u[p-1]:i;return b=typeof b=="function"?(u.pop(),b):i,RI(u,b)});function PI(u){var p=N(u);return p.__chain__=!0,p}function QH(u,p){return p(u),u}function s0(u,p){return p(u)}var qH=Ha(function(u){var p=u.length,b=p?u[0]:0,C=this.__wrapped__,D=function(j){return Rx(j,u)};return p>1||this.__actions__.length||!(C instanceof St)||!Wa(b)?this.thru(D):(C=C.slice(b,+b+(p?1:0)),C.__actions__.push({func:s0,args:[D],thisArg:i}),new ro(C,this.__chain__).thru(function(j){return p&&!j.length&&j.push(i),j}))});function KH(){return PI(this)}function XH(){return new ro(this.value(),this.__chain__)}function JH(){this.__values__===i&&(this.__values__=VI(this.value()));var u=this.__index__>=this.__values__.length,p=u?i:this.__values__[this.__index__++];return{done:u,value:p}}function ZH(){return this}function eW(u){for(var p,b=this;b instanceof Vb;){var C=TI(b);C.__index__=0,C.__values__=i,p?D.__wrapped__=C:p=C;var D=C;b=b.__wrapped__}return D.__wrapped__=u,p}function tW(){var u=this.__wrapped__;if(u instanceof St){var p=u;return this.__actions__.length&&(p=new St(this)),p=p.reverse(),p.__actions__.push({func:s0,args:[o1],thisArg:i}),new ro(p,this.__chain__)}return this.thru(o1)}function iW(){return Qz(this.__wrapped__,this.__actions__)}var nW=Zb(function(u,p,b){qt.call(u,b)?++u[b]:Ua(u,b,1)});function rW(u,p,b){var C=dt(u)?_b:Q9;return b&&Yn(u,p,b)&&(p=i),C(u,ot(p,3))}function oW(u,p){var b=dt(u)?Vo:Rz;return b(u,ot(p,3))}var aW=oI(SI),sW=oI(CI);function lW(u,p){return pn(l0(u,p),1)}function cW(u,p){return pn(l0(u,p),Be)}function uW(u,p,b){return b=b===i?1:mt(b),pn(l0(u,p),b)}function LI(u,p){var b=dt(u)?lr:Ys;return b(u,ot(p,3))}function OI(u,p){var b=dt(u)?wx:Iz;return b(u,ot(p,3))}var dW=Zb(function(u,p,b){qt.call(u,b)?u[b].push(p):Ua(u,b,[p])});function fW(u,p,b,C){u=dr(u)?u:qu(u),b=b&&!C?mt(b):0;var D=u.length;return b<0&&(b=Vi(D+b,0)),p0(u)?b<=D&&u.indexOf(p,b)>-1:!!D&&xo(u,p,b)>-1}var pW=yt(function(u,p,b){var C=-1,D=typeof p=="function",j=dr(u)?oe(u.length):[];return Ys(u,function(W){j[++C]=D?Hn(p,W,b):Up(W,p,b)}),j}),hW=Zb(function(u,p,b){Ua(u,b,p)});function l0(u,p){var b=dt(u)?jt:Bz;return b(u,ot(p,3))}function mW(u,p,b,C){return u==null?[]:(dt(p)||(p=p==null?[]:[p]),b=C?i:b,dt(b)||(b=b==null?[]:[b]),Uz(u,p,b))}var gW=Zb(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]});function bW(u,p,b){var C=dt(u)?Fu:Ib,D=arguments.length<3;return C(u,ot(p,4),b,D,Ys)}function vW(u,p,b){var C=dt(u)?Tb:Ib,D=arguments.length<3;return C(u,ot(p,4),b,D,Iz)}function yW(u,p){var b=dt(u)?Vo:Rz;return b(u,d0(ot(p,3)))}function wW(u){var p=dt(u)?Sz:fG;return p(u)}function AW(u,p,b){(b?Yn(u,p,b):p===i)?p=1:p=mt(p);var C=dt(u)?H9:pG;return C(u,p)}function xW(u){var p=dt(u)?W9:mG;return p(u)}function kW(u){if(u==null)return 0;if(dr(u))return p0(u)?U(u):u.length;var p=En(u);return p==Ot||p==pi?u.size:Bx(u).length}function _W(u,p,b){var C=dt(u)?Nu:gG;return b&&Yn(u,p,b)&&(p=i),C(u,ot(p,3))}var TW=yt(function(u,p){if(u==null)return[];var b=p.length;return b>1&&Yn(u,p[0],p[1])?p=[]:b>2&&Yn(p[0],p[1],p[2])&&(p=[p[0]]),Uz(u,pn(p,1),[])}),c0=o9||function(){return Wi.Date.now()};function SW(u,p){if(typeof p!="function")throw new Rt(a);return u=mt(u),function(){if(--u<1)return p.apply(this,arguments)}}function DI(u,p,b){return p=b?i:p,p=u&&p==null?u.length:p,Ga(u,B,i,i,i,i,p)}function MI(u,p){var b;if(typeof p!="function")throw new Rt(a);return u=mt(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=i),b}}var s1=yt(function(u,p,b){var C=g;if(b.length){var D=_(b,$u(s1));C|=z}return Ga(u,C,p,b,D)}),BI=yt(function(u,p,b){var C=g|A;if(b.length){var D=_(b,$u(BI));C|=z}return Ga(p,C,u,b,D)});function FI(u,p,b){p=b?i:p;var C=Ga(u,T,i,i,i,i,i,p);return C.placeholder=FI.placeholder,C}function NI(u,p,b){p=b?i:p;var C=Ga(u,E,i,i,i,i,i,p);return C.placeholder=NI.placeholder,C}function jI(u,p,b){var C,D,j,W,K,ie,me=0,ge=!1,ke=!1,He=!0;if(typeof u!="function")throw new Rt(a);p=lo(p)||0,hi(b)&&(ge=!!b.leading,ke="maxWait"in b,j=ke?Vi(lo(b.maxWait)||0,p):j,He="trailing"in b?!!b.trailing:He);function Xe(Si){var To=C,$a=D;return C=D=i,me=Si,W=u.apply($a,To),W}function at(Si){return me=Si,K=Vp(xt,p),ge?Xe(Si):W}function bt(Si){var To=Si-ie,$a=Si-me,o5=p-To;return ke?Cn(o5,j-$a):o5}function st(Si){var To=Si-ie,$a=Si-me;return ie===i||To>=p||To<0||ke&&$a>=j}function xt(){var Si=c0();if(st(Si))return Et(Si);K=Vp(xt,bt(Si))}function Et(Si){return K=i,He&&C?Xe(Si):(C=D=i,W)}function Mr(){K!==i&&Kz(K),me=0,C=ie=D=K=i}function Vn(){return K===i?W:Et(c0())}function Br(){var Si=c0(),To=st(Si);if(C=arguments,D=this,ie=Si,To){if(K===i)return at(ie);if(ke)return Kz(K),K=Vp(xt,p),Xe(ie)}return K===i&&(K=Vp(xt,p)),W}return Br.cancel=Mr,Br.flush=Vn,Br}var CW=yt(function(u,p){return zz(u,1,p)}),EW=yt(function(u,p,b){return zz(u,lo(p)||0,b)});function zW(u){return Ga(u,F)}function u0(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new Rt(a);var b=function(){var C=arguments,D=p?p.apply(this,C):C[0],j=b.cache;if(j.has(D))return j.get(D);var W=u.apply(this,C);return b.cache=j.set(D,W)||j,W};return b.cache=new(u0.Cache||ja),b}u0.Cache=ja;function d0(u){if(typeof u!="function")throw new Rt(a);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function IW(u){return MI(2,u)}var RW=bG(function(u,p){p=p.length==1&&dt(p[0])?jt(p[0],_i(ot())):jt(pn(p,1),_i(ot()));var b=p.length;return yt(function(C){for(var D=-1,j=Cn(C.length,b);++D<j;)C[D]=p[D].call(this,C[D]);return Hn(u,this,C)})}),l1=yt(function(u,p){var b=_(p,$u(l1));return Ga(u,z,i,p,b)}),UI=yt(function(u,p){var b=_(p,$u(UI));return Ga(u,L,i,p,b)}),PW=Ha(function(u,p){return Ga(u,O,i,i,i,p)});function LW(u,p){if(typeof u!="function")throw new Rt(a);return p=p===i?p:mt(p),yt(u,p)}function OW(u,p){if(typeof u!="function")throw new Rt(a);return p=p==null?0:Vi(mt(p),0),yt(function(b){var C=b[p],D=Qs(b,0,p);return C&&cr(D,C),Hn(u,this,D)})}function DW(u,p,b){var C=!0,D=!0;if(typeof u!="function")throw new Rt(a);return hi(b)&&(C="leading"in b?!!b.leading:C,D="trailing"in b?!!b.trailing:D),jI(u,p,{leading:C,maxWait:p,trailing:D})}function MW(u){return DI(u,1)}function BW(u,p){return l1(Vx(p),u)}function FW(){if(!arguments.length)return[];var u=arguments[0];return dt(u)?u:[u]}function NW(u){return oo(u,m)}function jW(u,p){return p=typeof p=="function"?p:i,oo(u,m,p)}function UW(u){return oo(u,f|m)}function GW(u,p){return p=typeof p=="function"?p:i,oo(u,f|m,p)}function HW(u,p){return p==null||Ez(u,p,Ki(p))}function _o(u,p){return u===p||u!==u&&p!==p}var WW=n0(Ox),YW=n0(function(u,p){return u>=p}),dc=Oz(function(){return arguments}())?Oz:function(u){return yi(u)&&qt.call(u,"callee")&&!wz.call(u,"callee")},dt=oe.isArray,VW=xp?_i(xp):eG;function dr(u){return u!=null&&f0(u.length)&&!Ya(u)}function Ti(u){return yi(u)&&dr(u)}function $W(u){return u===!0||u===!1||yi(u)&&Wn(u)==be}var qs=s9||y1,QW=Ab?_i(Ab):tG;function qW(u){return yi(u)&&u.nodeType===1&&!$p(u)}function KW(u){if(u==null)return!0;if(dr(u)&&(dt(u)||typeof u=="string"||typeof u.splice=="function"||qs(u)||Qu(u)||dc(u)))return!u.length;var p=En(u);if(p==Ot||p==pi)return!u.size;if(Yp(u))return!Bx(u).length;for(var b in u)if(qt.call(u,b))return!1;return!0}function XW(u,p){return Gp(u,p)}function JW(u,p,b){b=typeof b=="function"?b:i;var C=b?b(u,p):i;return C===i?Gp(u,p,i,b):!!C}function c1(u){if(!yi(u))return!1;var p=Wn(u);return p==$e||p==Ye||typeof u.message=="string"&&typeof u.name=="string"&&!$p(u)}function ZW(u){return typeof u=="number"&&xz(u)}function Ya(u){if(!hi(u))return!1;var p=Wn(u);return p==tt||p==ti||p==ve||p==Ra}function GI(u){return typeof u=="number"&&u==mt(u)}function f0(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Ve}function hi(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function yi(u){return u!=null&&typeof u=="object"}var HI=kp?_i(kp):nG;function eY(u,p){return u===p||Mx(u,p,Zx(p))}function tY(u,p,b){return b=typeof b=="function"?b:i,Mx(u,p,Zx(p),b)}function iY(u){return WI(u)&&u!=+u}function nY(u){if(jG(u))throw new lt(o);return Dz(u)}function rY(u){return u===null}function oY(u){return u==null}function WI(u){return typeof u=="number"||yi(u)&&Wn(u)==Rr}function $p(u){if(!yi(u)||Wn(u)!=fn)return!1;var p=Nb(u);if(p===null)return!0;var b=qt.call(p,"constructor")&&p.constructor;return typeof b=="function"&&b instanceof b&&Db.call(b)==t9}var u1=xb?_i(xb):rG;function aY(u){return GI(u)&&u>=-Ve&&u<=Ve}var YI=_p?_i(_p):oG;function p0(u){return typeof u=="string"||!dt(u)&&yi(u)&&Wn(u)==to}function Dr(u){return typeof u=="symbol"||yi(u)&&Wn(u)==io}var Qu=kb?_i(kb):aG;function sY(u){return u===i}function lY(u){return yi(u)&&En(u)==wo}function cY(u){return yi(u)&&Wn(u)==ql}var uY=n0(Fx),dY=n0(function(u,p){return u<=p});function VI(u){if(!u)return[];if(dr(u))return p0(u)?G(u):ur(u);if(Op&&u[Op])return Pb(u[Op]());var p=En(u),b=p==Ot?M:p==pi?k:qu;return b(u)}function Va(u){if(!u)return u===0?u:0;if(u=lo(u),u===Be||u===-Be){var p=u<0?-1:1;return p*Pe}return u===u?u:0}function mt(u){var p=Va(u),b=p%1;return p===p?b?p-b:p:0}function $I(u){return u?sc(mt(u),0,se):0}function lo(u){if(typeof u=="number")return u;if(Dr(u))return De;if(hi(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=hi(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=Bt(u);var b=ob.test(u);return b||ab.test(u)?bx(u.slice(2),b?2:8):nx.test(u)?De:+u}function QI(u){return Qo(u,fr(u))}function fY(u){return u?sc(mt(u),-Ve,Ve):u===0?u:0}function Wt(u){return u==null?"":Or(u)}var pY=Yu(function(u,p){if(Yp(p)||dr(p)){Qo(p,Ki(p),u);return}for(var b in p)qt.call(p,b)&&Np(u,b,p[b])}),qI=Yu(function(u,p){Qo(p,fr(p),u)}),h0=Yu(function(u,p,b,C){Qo(p,fr(p),u,C)}),hY=Yu(function(u,p,b,C){Qo(p,Ki(p),u,C)}),mY=Ha(Rx);function gY(u,p){var b=Wu(u);return p==null?b:Cz(b,p)}var bY=yt(function(u,p){u=Ht(u);var b=-1,C=p.length,D=C>2?p[2]:i;for(D&&Yn(p[0],p[1],D)&&(C=1);++b<C;)for(var j=p[b],W=fr(j),K=-1,ie=W.length;++K<ie;){var me=W[K],ge=u[me];(ge===i||_o(ge,Uu[me])&&!qt.call(u,me))&&(u[me]=j[me])}return u}),vY=yt(function(u){return u.push(i,fI),Hn(KI,i,u)});function yY(u,p){return Cp(u,ot(p,3),$o)}function wY(u,p){return Cp(u,ot(p,3),Lx)}function AY(u,p){return u==null?u:Px(u,ot(p,3),fr)}function xY(u,p){return u==null?u:Pz(u,ot(p,3),fr)}function kY(u,p){return u&&$o(u,ot(p,3))}function _Y(u,p){return u&&Lx(u,ot(p,3))}function TY(u){return u==null?[]:qb(u,Ki(u))}function SY(u){return u==null?[]:qb(u,fr(u))}function d1(u,p,b){var C=u==null?i:lc(u,p);return C===i?b:C}function CY(u,p){return u!=null&&mI(u,p,K9)}function f1(u,p){return u!=null&&mI(u,p,X9)}var EY=sI(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Mb.call(p)),u[p]=b},h1(pr)),zY=sI(function(u,p,b){p!=null&&typeof p.toString!="function"&&(p=Mb.call(p)),qt.call(u,p)?u[p].push(b):u[p]=[b]},ot),IY=yt(Up);function Ki(u){return dr(u)?Tz(u):Bx(u)}function fr(u){return dr(u)?Tz(u,!0):sG(u)}function RY(u,p){var b={};return p=ot(p,3),$o(u,function(C,D,j){Ua(b,p(C,D,j),C)}),b}function PY(u,p){var b={};return p=ot(p,3),$o(u,function(C,D,j){Ua(b,D,p(C,D,j))}),b}var LY=Yu(function(u,p,b){Kb(u,p,b)}),KI=Yu(function(u,p,b,C){Kb(u,p,b,C)}),OY=Ha(function(u,p){var b={};if(u==null)return b;var C=!1;p=jt(p,function(j){return j=$s(j,u),C||(C=j.length>1),j}),Qo(u,Xx(u),b),C&&(b=oo(b,f|h|m,EG));for(var D=p.length;D--;)Hx(b,p[D]);return b});function DY(u,p){return XI(u,d0(ot(p)))}var MY=Ha(function(u,p){return u==null?{}:cG(u,p)});function XI(u,p){if(u==null)return{};var b=jt(Xx(u),function(C){return[C]});return p=ot(p),Gz(u,b,function(C,D){return p(C,D[0])})}function BY(u,p,b){p=$s(p,u);var C=-1,D=p.length;for(D||(D=1,u=i);++C<D;){var j=u==null?i:u[qo(p[C])];j===i&&(C=D,j=b),u=Ya(j)?j.call(u):j}return u}function FY(u,p,b){return u==null?u:Hp(u,p,b)}function NY(u,p,b,C){return C=typeof C=="function"?C:i,u==null?u:Hp(u,p,b,C)}var JI=uI(Ki),ZI=uI(fr);function jY(u,p,b){var C=dt(u),D=C||qs(u)||Qu(u);if(p=ot(p,4),b==null){var j=u&&u.constructor;D?b=C?new j:[]:hi(u)?b=Ya(j)?Wu(Nb(u)):{}:b={}}return(D?lr:$o)(u,function(W,K,ie){return p(b,W,K,ie)}),b}function UY(u,p){return u==null?!0:Hx(u,p)}function GY(u,p,b){return u==null?u:$z(u,p,Vx(b))}function HY(u,p,b,C){return C=typeof C=="function"?C:i,u==null?u:$z(u,p,Vx(b),C)}function qu(u){return u==null?[]:Yi(u,Ki(u))}function WY(u){return u==null?[]:Yi(u,fr(u))}function YY(u,p,b){return b===i&&(b=p,p=i),b!==i&&(b=lo(b),b=b===b?b:0),p!==i&&(p=lo(p),p=p===p?p:0),sc(lo(u),p,b)}function VY(u,p,b){return p=Va(p),b===i?(b=p,p=0):b=Va(b),u=lo(u),J9(u,p,b)}function $Y(u,p,b){if(b&&typeof b!="boolean"&&Yn(u,p,b)&&(p=b=i),b===i&&(typeof p=="boolean"?(b=p,p=i):typeof u=="boolean"&&(b=u,u=i)),u===i&&p===i?(u=0,p=1):(u=Va(u),p===i?(p=u,u=0):p=Va(p)),u>p){var C=u;u=p,p=C}if(b||u%1||p%1){var D=kz();return Cn(u+D*(p-u+Du("1e-"+((D+"").length-1))),p)}return jx(u,p)}var QY=Vu(function(u,p,b){return p=p.toLowerCase(),u+(b?e5(p):p)});function e5(u){return p1(Wt(u).toLowerCase())}function t5(u){return u=Wt(u),u&&u.replace(lb,xx).replace(fx,"")}function qY(u,p,b){u=Wt(u),p=Or(p);var C=u.length;b=b===i?C:sc(mt(b),0,C);var D=b;return b-=p.length,b>=0&&u.slice(b,D)==p}function KY(u){return u=Wt(u),u&&XA.test(u)?u.replace(nb,kx):u}function XY(u){return u=Wt(u),u&&_u.test(u)?u.replace(Lr,"\\$&"):u}var JY=Vu(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),ZY=Vu(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),eV=rI("toLowerCase");function tV(u,p,b){u=Wt(u),p=mt(p);var C=p?U(u):0;if(!p||C>=p)return u;var D=(p-C)/2;return i0(Hb(D),b)+u+i0(Gb(D),b)}function iV(u,p,b){u=Wt(u),p=mt(p);var C=p?U(u):0;return p&&C<p?u+i0(p-C,b):u}function nV(u,p,b){u=Wt(u),p=mt(p);var C=p?U(u):0;return p&&C<p?i0(p-C,b)+u:u}function rV(u,p,b){return b||p==null?p=0:p&&(p=+p),d9(Wt(u).replace(Gt,""),p||0)}function oV(u,p,b){return(b?Yn(u,p,b):p===i)?p=1:p=mt(p),Ux(Wt(u),p)}function aV(){var u=arguments,p=Wt(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var sV=Vu(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()});function lV(u,p,b){return b&&typeof b!="number"&&Yn(u,p,b)&&(p=b=i),b=b===i?se:b>>>0,b?(u=Wt(u),u&&(typeof p=="string"||p!=null&&!u1(p))&&(p=Or(p),!p&&Hs(u))?Qs(G(u),0,b):u.split(p,b)):[]}var cV=Vu(function(u,p,b){return u+(b?" ":"")+p1(p)});function uV(u,p,b){return u=Wt(u),b=b==null?0:sc(mt(b),0,u.length),p=Or(p),u.slice(b,b+p.length)==p}function dV(u,p,b){var C=N.templateSettings;b&&Yn(u,p,b)&&(p=i),u=Wt(u),p=h0({},p,C,dI);var D=h0({},p.imports,C.imports,dI),j=Ki(D),W=Yi(D,j),K,ie,me=0,ge=p.interpolate||Oa,ke="__p += '",He=ic((p.escape||Oa).source+"|"+ge.source+"|"+(ge===Tn?Hi:Oa).source+"|"+(p.evaluate||Oa).source+"|$","g"),Xe="//# sourceURL="+(qt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++px+"]")+`
`;u.replace(He,function(st,xt,Et,Mr,Vn,Br){return Et||(Et=Mr),ke+=u.slice(me,Br).replace(rx,_x),xt&&(K=!0,ke+=`' +
__e(`+xt+`) +
'`),Vn&&(ie=!0,ke+=`';
`+Vn+`;
__p += '`),Et&&(ke+=`' +
((__t = (`+Et+`)) == null ? '' : __t) +
'`),me=Br+st.length,st}),ke+=`';
`;var at=qt.call(p,"variable")&&p.variable;if(!at)ke=`with (obj) {
`+ke+`
}
`;else if(ai.test(at))throw new lt(s);ke=(ie?ke.replace(qA,""):ke).replace(Pr,"$1").replace(tb,"$1;"),ke="function("+(at||"obj")+`) {
`+(at?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ke+`return __p
}`;var bt=n5(function(){return It(j,Xe+"return "+ke).apply(i,W)});if(bt.source=ke,c1(bt))throw bt;return bt}function fV(u){return Wt(u).toLowerCase()}function pV(u){return Wt(u).toUpperCase()}function hV(u,p,b){if(u=Wt(u),u&&(b||p===i))return Bt(u);if(!u||!(p=Or(p)))return u;var C=G(u),D=G(p),j=Rb(C,D),W=Lp(C,D)+1;return Qs(C,j,W).join("")}function mV(u,p,b){if(u=Wt(u),u&&(b||p===i))return u.slice(0,q(u)+1);if(!u||!(p=Or(p)))return u;var C=G(u),D=Lp(C,G(p))+1;return Qs(C,0,D).join("")}function gV(u,p,b){if(u=Wt(u),u&&(b||p===i))return u.replace(Gt,"");if(!u||!(p=Or(p)))return u;var C=G(u),D=Rb(C,G(p));return Qs(C,D).join("")}function bV(u,p){var b=H,C=X;if(hi(p)){var D="separator"in p?p.separator:D;b="length"in p?mt(p.length):b,C="omission"in p?Or(p.omission):C}u=Wt(u);var j=u.length;if(Hs(u)){var W=G(u);j=W.length}if(b>=j)return u;var K=b-U(C);if(K<1)return C;var ie=W?Qs(W,0,K).join(""):u.slice(0,K);if(D===i)return ie+C;if(W&&(K+=ie.length-K),u1(D)){if(u.slice(K).search(D)){var me,ge=ie;for(D.global||(D=ic(D.source,Wt(rb.exec(D))+"g")),D.lastIndex=0;me=D.exec(ge);)var ke=me.index;ie=ie.slice(0,ke===i?K:ke)}}else if(u.indexOf(Or(D),K)!=K){var He=ie.lastIndexOf(D);He>-1&&(ie=ie.slice(0,He))}return ie+C}function vV(u){return u=Wt(u),u&&KA.test(u)?u.replace(ib,V):u}var yV=Vu(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),p1=rI("toUpperCase");function i5(u,p,b){return u=Wt(u),p=b?i:p,p===i?Sx(u)?Ue(u):Sp(u):u.match(p)||[]}var n5=yt(function(u,p){try{return Hn(u,i,p)}catch(b){return c1(b)?b:new lt(b)}}),wV=Ha(function(u,p){return lr(p,function(b){b=qo(b),Ua(u,b,s1(u[b],u))}),u});function AV(u){var p=u==null?0:u.length,b=ot();return u=p?jt(u,function(C){if(typeof C[1]!="function")throw new Rt(a);return[b(C[0]),C[1]]}):[],yt(function(C){for(var D=-1;++D<p;){var j=u[D];if(Hn(j[0],this,C))return Hn(j[1],this,C)}})}function xV(u){return $9(oo(u,f))}function h1(u){return function(){return u}}function kV(u,p){return u==null||u!==u?p:u}var _V=aI(),TV=aI(!0);function pr(u){return u}function m1(u){return Mz(typeof u=="function"?u:oo(u,f))}function SV(u){return Fz(oo(u,f))}function CV(u,p){return Nz(u,oo(p,f))}var EV=yt(function(u,p){return function(b){return Up(b,u,p)}}),zV=yt(function(u,p){return function(b){return Up(u,b,p)}});function g1(u,p,b){var C=Ki(p),D=qb(p,C);b==null&&!(hi(p)&&(D.length||!C.length))&&(b=p,p=u,u=this,D=qb(p,Ki(p)));var j=!(hi(b)&&"chain"in b)||!!b.chain,W=Ya(u);return lr(D,function(K){var ie=p[K];u[K]=ie,W&&(u.prototype[K]=function(){var me=this.__chain__;if(j||me){var ge=u(this.__wrapped__),ke=ge.__actions__=ur(this.__actions__);return ke.push({func:ie,args:arguments,thisArg:u}),ge.__chain__=me,ge}return ie.apply(u,cr([this.value()],arguments))})}),u}function IV(){return Wi._===this&&(Wi._=i9),this}function b1(){}function RV(u){return u=mt(u),yt(function(p){return jz(p,u)})}var PV=Qx(jt),LV=Qx(_b),OV=Qx(Nu);function r5(u){return t1(u)?Ep(qo(u)):uG(u)}function DV(u){return function(p){return u==null?i:lc(u,p)}}var MV=lI(),BV=lI(!0);function v1(){return[]}function y1(){return!1}function FV(){return{}}function NV(){return""}function jV(){return!0}function UV(u,p){if(u=mt(u),u<1||u>Ve)return[];var b=se,C=Cn(u,se);p=ot(p),u-=se;for(var D=Pp(C,p);++b<u;)p(b);return D}function GV(u){return dt(u)?jt(u,qo):Dr(u)?[u]:ur(_I(Wt(u)))}function HV(u){var p=++e9;return Wt(u)+p}var WV=t0(function(u,p){return u+p},0),YV=qx("ceil"),VV=t0(function(u,p){return u/p},1),$V=qx("floor");function QV(u){return u&&u.length?Qb(u,pr,Ox):i}function qV(u,p){return u&&u.length?Qb(u,ot(p,2),Ox):i}function KV(u){return zb(u,pr)}function XV(u,p){return zb(u,ot(p,2))}function JV(u){return u&&u.length?Qb(u,pr,Fx):i}function ZV(u,p){return u&&u.length?Qb(u,ot(p,2),Fx):i}var e$=t0(function(u,p){return u*p},1),t$=qx("round"),i$=t0(function(u,p){return u-p},0);function n$(u){return u&&u.length?Rp(u,pr):0}function r$(u,p){return u&&u.length?Rp(u,ot(p,2)):0}return N.after=SW,N.ary=DI,N.assign=pY,N.assignIn=qI,N.assignInWith=h0,N.assignWith=hY,N.at=mY,N.before=MI,N.bind=s1,N.bindAll=wV,N.bindKey=BI,N.castArray=FW,N.chain=PI,N.chunk=$G,N.compact=QG,N.concat=qG,N.cond=AV,N.conforms=xV,N.constant=h1,N.countBy=nW,N.create=gY,N.curry=FI,N.curryRight=NI,N.debounce=jI,N.defaults=bY,N.defaultsDeep=vY,N.defer=CW,N.delay=EW,N.difference=KG,N.differenceBy=XG,N.differenceWith=JG,N.drop=ZG,N.dropRight=eH,N.dropRightWhile=tH,N.dropWhile=iH,N.fill=nH,N.filter=oW,N.flatMap=lW,N.flatMapDeep=cW,N.flatMapDepth=uW,N.flatten=EI,N.flattenDeep=rH,N.flattenDepth=oH,N.flip=zW,N.flow=_V,N.flowRight=TV,N.fromPairs=aH,N.functions=TY,N.functionsIn=SY,N.groupBy=dW,N.initial=lH,N.intersection=cH,N.intersectionBy=uH,N.intersectionWith=dH,N.invert=EY,N.invertBy=zY,N.invokeMap=pW,N.iteratee=m1,N.keyBy=hW,N.keys=Ki,N.keysIn=fr,N.map=l0,N.mapKeys=RY,N.mapValues=PY,N.matches=SV,N.matchesProperty=CV,N.memoize=u0,N.merge=LY,N.mergeWith=KI,N.method=EV,N.methodOf=zV,N.mixin=g1,N.negate=d0,N.nthArg=RV,N.omit=OY,N.omitBy=DY,N.once=IW,N.orderBy=mW,N.over=PV,N.overArgs=RW,N.overEvery=LV,N.overSome=OV,N.partial=l1,N.partialRight=UI,N.partition=gW,N.pick=MY,N.pickBy=XI,N.property=r5,N.propertyOf=DV,N.pull=mH,N.pullAll=II,N.pullAllBy=gH,N.pullAllWith=bH,N.pullAt=vH,N.range=MV,N.rangeRight=BV,N.rearg=PW,N.reject=yW,N.remove=yH,N.rest=LW,N.reverse=o1,N.sampleSize=AW,N.set=FY,N.setWith=NY,N.shuffle=xW,N.slice=wH,N.sortBy=TW,N.sortedUniq=CH,N.sortedUniqBy=EH,N.split=lV,N.spread=OW,N.tail=zH,N.take=IH,N.takeRight=RH,N.takeRightWhile=PH,N.takeWhile=LH,N.tap=QH,N.throttle=DW,N.thru=s0,N.toArray=VI,N.toPairs=JI,N.toPairsIn=ZI,N.toPath=GV,N.toPlainObject=QI,N.transform=jY,N.unary=MW,N.union=OH,N.unionBy=DH,N.unionWith=MH,N.uniq=BH,N.uniqBy=FH,N.uniqWith=NH,N.unset=UY,N.unzip=a1,N.unzipWith=RI,N.update=GY,N.updateWith=HY,N.values=qu,N.valuesIn=WY,N.without=jH,N.words=i5,N.wrap=BW,N.xor=UH,N.xorBy=GH,N.xorWith=HH,N.zip=WH,N.zipObject=YH,N.zipObjectDeep=VH,N.zipWith=$H,N.entries=JI,N.entriesIn=ZI,N.extend=qI,N.extendWith=h0,g1(N,N),N.add=WV,N.attempt=n5,N.camelCase=QY,N.capitalize=e5,N.ceil=YV,N.clamp=YY,N.clone=NW,N.cloneDeep=UW,N.cloneDeepWith=GW,N.cloneWith=jW,N.conformsTo=HW,N.deburr=t5,N.defaultTo=kV,N.divide=VV,N.endsWith=qY,N.eq=_o,N.escape=KY,N.escapeRegExp=XY,N.every=rW,N.find=aW,N.findIndex=SI,N.findKey=yY,N.findLast=sW,N.findLastIndex=CI,N.findLastKey=wY,N.floor=$V,N.forEach=LI,N.forEachRight=OI,N.forIn=AY,N.forInRight=xY,N.forOwn=kY,N.forOwnRight=_Y,N.get=d1,N.gt=WW,N.gte=YW,N.has=CY,N.hasIn=f1,N.head=zI,N.identity=pr,N.includes=fW,N.indexOf=sH,N.inRange=VY,N.invoke=IY,N.isArguments=dc,N.isArray=dt,N.isArrayBuffer=VW,N.isArrayLike=dr,N.isArrayLikeObject=Ti,N.isBoolean=$W,N.isBuffer=qs,N.isDate=QW,N.isElement=qW,N.isEmpty=KW,N.isEqual=XW,N.isEqualWith=JW,N.isError=c1,N.isFinite=ZW,N.isFunction=Ya,N.isInteger=GI,N.isLength=f0,N.isMap=HI,N.isMatch=eY,N.isMatchWith=tY,N.isNaN=iY,N.isNative=nY,N.isNil=oY,N.isNull=rY,N.isNumber=WI,N.isObject=hi,N.isObjectLike=yi,N.isPlainObject=$p,N.isRegExp=u1,N.isSafeInteger=aY,N.isSet=YI,N.isString=p0,N.isSymbol=Dr,N.isTypedArray=Qu,N.isUndefined=sY,N.isWeakMap=lY,N.isWeakSet=cY,N.join=fH,N.kebabCase=JY,N.last=so,N.lastIndexOf=pH,N.lowerCase=ZY,N.lowerFirst=eV,N.lt=uY,N.lte=dY,N.max=QV,N.maxBy=qV,N.mean=KV,N.meanBy=XV,N.min=JV,N.minBy=ZV,N.stubArray=v1,N.stubFalse=y1,N.stubObject=FV,N.stubString=NV,N.stubTrue=jV,N.multiply=e$,N.nth=hH,N.noConflict=IV,N.noop=b1,N.now=c0,N.pad=tV,N.padEnd=iV,N.padStart=nV,N.parseInt=rV,N.random=$Y,N.reduce=bW,N.reduceRight=vW,N.repeat=oV,N.replace=aV,N.result=BY,N.round=t$,N.runInContext=Y,N.sample=wW,N.size=kW,N.snakeCase=sV,N.some=_W,N.sortedIndex=AH,N.sortedIndexBy=xH,N.sortedIndexOf=kH,N.sortedLastIndex=_H,N.sortedLastIndexBy=TH,N.sortedLastIndexOf=SH,N.startCase=cV,N.startsWith=uV,N.subtract=i$,N.sum=n$,N.sumBy=r$,N.template=dV,N.times=UV,N.toFinite=Va,N.toInteger=mt,N.toLength=$I,N.toLower=fV,N.toNumber=lo,N.toSafeInteger=fY,N.toString=Wt,N.toUpper=pV,N.trim=hV,N.trimEnd=mV,N.trimStart=gV,N.truncate=bV,N.unescape=vV,N.uniqueId=HV,N.upperCase=yV,N.upperFirst=p1,N.each=LI,N.eachRight=OI,N.first=zI,g1(N,function(){var u={};return $o(N,function(p,b){qt.call(N.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),N.VERSION=n,lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){N[u].placeholder=N}),lr(["drop","take"],function(u,p){St.prototype[u]=function(b){b=b===i?1:Vi(mt(b),0);var C=this.__filtered__&&!p?new St(this):this.clone();return C.__filtered__?C.__takeCount__=Cn(b,C.__takeCount__):C.__views__.push({size:Cn(b,se),type:u+(C.__dir__<0?"Right":"")}),C},St.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),lr(["filter","map","takeWhile"],function(u,p){var b=p+1,C=b==Ee||b==Ne;St.prototype[u]=function(D){var j=this.clone();return j.__iteratees__.push({iteratee:ot(D,3),type:b}),j.__filtered__=j.__filtered__||C,j}}),lr(["head","last"],function(u,p){var b="take"+(p?"Right":"");St.prototype[u]=function(){return this[b](1).value()[0]}}),lr(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");St.prototype[u]=function(){return this.__filtered__?new St(this):this[b](1)}}),St.prototype.compact=function(){return this.filter(pr)},St.prototype.find=function(u){return this.filter(u).head()},St.prototype.findLast=function(u){return this.reverse().find(u)},St.prototype.invokeMap=yt(function(u,p){return typeof u=="function"?new St(this):this.map(function(b){return Up(b,u,p)})}),St.prototype.reject=function(u){return this.filter(d0(ot(u)))},St.prototype.slice=function(u,p){u=mt(u);var b=this;return b.__filtered__&&(u>0||p<0)?new St(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==i&&(p=mt(p),b=p<0?b.dropRight(-p):b.take(p-u)),b)},St.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},St.prototype.toArray=function(){return this.take(se)},$o(St.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),C=/^(?:head|last)$/.test(p),D=N[C?"take"+(p=="last"?"Right":""):p],j=C||/^find/.test(p);!D||(N.prototype[p]=function(){var W=this.__wrapped__,K=C?[1]:arguments,ie=W instanceof St,me=K[0],ge=ie||dt(W),ke=function(xt){var Et=D.apply(N,cr([xt],K));return C&&He?Et[0]:Et};ge&&b&&typeof me=="function"&&me.length!=1&&(ie=ge=!1);var He=this.__chain__,Xe=!!this.__actions__.length,at=j&&!He,bt=ie&&!Xe;if(!j&&ge){W=bt?W:new St(this);var st=u.apply(W,K);return st.__actions__.push({func:s0,args:[ke],thisArg:i}),new ro(st,He)}return at&&bt?u.apply(this,K):(st=this.thru(ke),at?C?st.value()[0]:st.value():st)})}),lr(["pop","push","shift","sort","splice","unshift"],function(u){var p=nc[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",C=/^(?:pop|shift)$/.test(u);N.prototype[u]=function(){var D=arguments;if(C&&!this.__chain__){var j=this.value();return p.apply(dt(j)?j:[],D)}return this[b](function(W){return p.apply(dt(W)?W:[],D)})}}),$o(St.prototype,function(u,p){var b=N[p];if(b){var C=b.name+"";qt.call(Hu,C)||(Hu[C]=[]),Hu[C].push({name:p,func:b})}}),Hu[e0(i,A).name]=[{name:"wrapper",func:i}],St.prototype.clone=v9,St.prototype.reverse=y9,St.prototype.value=w9,N.prototype.at=qH,N.prototype.chain=KH,N.prototype.commit=XH,N.prototype.next=JH,N.prototype.plant=eW,N.prototype.reverse=tW,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=iW,N.prototype.first=N.prototype.head,Op&&(N.prototype[Op]=ZH),N},Se=Qe();Yo?((Yo.exports=Se)._=Se,Qt._=Se):Wi._=Se}).call(zo)})(Yc,Yc.exports);var Go={exports:{}};(function(t,e){(function(i,n){t.exports=n($.exports)})(typeof self!="undefined"?self:zo,function(i){return function(n){function r(a){if(o[a])return o[a].exports;var s=o[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var o={};return r.m=n,r.c=o,r.d=function(a,s,l){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=7)}([function(n,r,o){var a=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(1)),l=a(o(8)),c=a(o(2)),d=o(10),f=a(o(3)),h=a(o(6)),m=function(z){return z.query||(0,f.default)(z)},v=function(z){if(!z)return null;var L=Object.keys(z);return L.length===0?null:L.reduce(function(B,O){return B[(0,c.default)(O)]=z[O],B},{})},w=function(){var z=s.default.useRef(!1);return s.default.useEffect(function(){z.current=!0},[]),z.current},g=function(z){var L=s.default.useContext(h.default),B=function(){return v(z)||v(L)||{}},O=s.default.useState(B),F=O[0],H=O[1];return s.default.useEffect(function(){var X=B();(0,d.shallowEqualObjects)(F,X)||H(X)},[z,L]),F},A=function(z){var L=function(){return m(z)},B=s.default.useState(L),O=B[0],F=B[1];return s.default.useEffect(function(){var H=L();O!==H&&F(H)},[z]),O},x=function(z,L){var B=function(){return(0,l.default)(z,L)},O=s.default.useState(B),F=O[0],H=O[1],X=w();return s.default.useEffect(function(){if(X){var de=B();return H(de),function(){de&&de.dispose()}}},[z,L]),F},T=function(z){var L=s.default.useState(z.matches),B=L[0],O=L[1];return s.default.useEffect(function(){var F=function(){O(z.matches)};return z.addListener(F),F(),function(){z.removeListener(F)}},[z]),B},E=function(z,L,B){var O=g(L),F=A(z);if(!F)throw new Error("Invalid or missing MediaQuery!");var H=x(F,O),X=T(H),de=w();return s.default.useEffect(function(){de&&B&&B(X)},[X]),s.default.useEffect(function(){return function(){H&&H.dispose()}},[]),X};r.default=E},function(n,r){n.exports=i},function(n,r,o){function a(f){return"-"+f.toLowerCase()}function s(f){if(d.hasOwnProperty(f))return d[f];var h=f.replace(l,a);return d[f]=c.test(h)?"-"+h:h}Object.defineProperty(r,"__esModule",{value:!0});var l=/[A-Z]/g,c=/^ms-/,d={};r.default=s},function(n,r,o){var a=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(2)),l=a(o(11)),c=function(m){return"not ".concat(m)},d=function(m,v){var w=(0,s.default)(m);return typeof v=="number"&&(v="".concat(v,"px")),v===!0?w:v===!1?c(w):"(".concat(w,": ").concat(v,")")},f=function(m){return m.join(" and ")},h=function(m){var v=[];return Object.keys(l.default.all).forEach(function(w){var g=m[w];g!=null&&v.push(d(w,g))}),f(v)};r.default=h},function(n,r,o){n.exports=o(13)},function(n,r,o){n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(n,r,o){var a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(1)),l=s.default.createContext({});r.default=l},function(n,r,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Context=r.toQuery=r.useMediaQuery=r.default=void 0;var s=a(o(0));r.useMediaQuery=s.default;var l=a(o(17));r.default=l.default;var c=a(o(3));r.toQuery=c.default;var d=a(o(6));r.Context=d.default},function(n,r,o){function a(d,f,h){function m(T){x&&x.addListener(T)}function v(T){x&&x.removeListener(T)}function w(T){A.matches=T.matches,A.media=T.media}function g(){x&&x.removeListener(w)}var A=this;if(c&&!h){var x=c.call(window,d);this.matches=x.matches,this.media=x.media,x.addListener(w)}else this.matches=l(d,f),this.media=d;this.addListener=m,this.removeListener=v,this.dispose=g}function s(d,f,h){return new a(d,f,h)}var l=o(9).match,c=typeof window!="undefined"?window.matchMedia:null;n.exports=s},function(n,r,o){function a(g,A){return s(g).some(function(x){var T=x.inverse,E=x.type==="all"||A.type===x.type;if(E&&T||!E&&!T)return!1;var z=x.expressions.every(function(L){var B=L.feature,O=L.modifier,F=L.value,H=A[B];if(!H)return!1;switch(B){case"orientation":case"scan":return H.toLowerCase()===F.toLowerCase();case"width":case"height":case"device-width":case"device-height":F=d(F),H=d(H);break;case"resolution":F=c(F),H=c(H);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":F=l(F),H=l(H);break;case"grid":case"color":case"color-index":case"monochrome":F=parseInt(F,10)||1,H=parseInt(H,10)||0}switch(O){case"min":return H>=F;case"max":return H<=F;default:return H===F}});return z&&!T||!z&&T})}function s(g){return g.split(",").map(function(A){A=A.trim();var x=A.match(f),T=x[1],E=x[2],z=x[3]||"",L={};return L.inverse=!!T&&T.toLowerCase()==="not",L.type=E?E.toLowerCase():"all",z=z.match(/\([^\)]+\)/g)||[],L.expressions=z.map(function(B){var O=B.match(h),F=O[1].toLowerCase().match(m);return{modifier:F[1],feature:F[2],value:O[2]}}),L})}function l(g){var A,x=Number(g);return x||(A=g.match(/^(\d+)\s*\/\s*(\d+)$/),x=A[1]/A[2]),x}function c(g){var A=parseFloat(g);switch(String(g).match(w)[1]){case"dpcm":return A/2.54;case"dppx":return 96*A;default:return A}}function d(g){var A=parseFloat(g);switch(String(g).match(v)[1]){case"em":case"rem":return 16*A;case"cm":return 96*A/2.54;case"mm":return 96*A/2.54/10;case"in":return 96*A;case"pt":return 72*A;case"pc":return 72*A/12;default:return A}}r.match=a,r.parse=s;var f=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,h=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m=/^(?:(min|max)-)?(.+)/,v=/(em|rem|px|cm|mm|in|pt|pc)?$/,w=/(dpi|dpcm|dppx)?$/},function(n,r,o){function a(l,c){if(l===c)return!0;if(!l||!c)return!1;var d=Object.keys(l),f=Object.keys(c),h=d.length;if(f.length!==h)return!1;for(var m=0;m<h;m++){var v=d[m];if(l[v]!==c[v]||!Object.prototype.hasOwnProperty.call(c,v))return!1}return!0}function s(l,c){if(l===c)return!0;if(!l||!c)return!1;var d=l.length;if(c.length!==d)return!1;for(var f=0;f<d;f++)if(l[f]!==c[f])return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0}),o.d(r,"shallowEqualArrays",function(){return s}),o.d(r,"shallowEqualObjects",function(){return a})},function(n,r,o){var a=this&&this.__assign||function(){return a=Object.assign||function(g){for(var A,x=1,T=arguments.length;x<T;x++){A=arguments[x];for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(g[E]=A[E])}return g},a.apply(this,arguments)},s=this&&this.__rest||function(g,A){var x={};for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&A.indexOf(T)<0&&(x[T]=g[T]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,T=Object.getOwnPropertySymbols(g);E<T.length;E++)A.indexOf(T[E])<0&&Object.prototype.propertyIsEnumerable.call(g,T[E])&&(x[T[E]]=g[T[E]]);return x},l=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(r,"__esModule",{value:!0});var c=l(o(12)),d=c.default.oneOfType([c.default.string,c.default.number]),f={all:c.default.bool,grid:c.default.bool,aural:c.default.bool,braille:c.default.bool,handheld:c.default.bool,print:c.default.bool,projection:c.default.bool,screen:c.default.bool,tty:c.default.bool,tv:c.default.bool,embossed:c.default.bool},h={orientation:c.default.oneOf(["portrait","landscape"]),scan:c.default.oneOf(["progressive","interlace"]),aspectRatio:c.default.string,deviceAspectRatio:c.default.string,height:d,deviceHeight:d,width:d,deviceWidth:d,color:c.default.bool,colorIndex:c.default.bool,monochrome:c.default.bool,resolution:d,type:Object.keys(f)},m=s(h,["type"]),v=a({minAspectRatio:c.default.string,maxAspectRatio:c.default.string,minDeviceAspectRatio:c.default.string,maxDeviceAspectRatio:c.default.string,minHeight:d,maxHeight:d,minDeviceHeight:d,maxDeviceHeight:d,minWidth:d,maxWidth:d,minDeviceWidth:d,maxDeviceWidth:d,minColor:c.default.number,maxColor:c.default.number,minColorIndex:c.default.number,maxColorIndex:c.default.number,minMonochrome:c.default.number,maxMonochrome:c.default.number,minResolution:d,maxResolution:d},m),w=a(a({},f),v);r.default={all:w,types:f,matchers:h,features:v}},function(n,r,o){var a=o(4);n.exports=o(14)(a.isElement,!0)},function(n,r,o){(function(){function a(Ke){return typeof Ke=="string"||typeof Ke=="function"||Ke===O||Ke===Ee||Ke===H||Ke===F||Ke===Ne||Ke===Be||typeof Ke=="object"&&Ke!==null&&(Ke.$$typeof===Pe||Ke.$$typeof===Ve||Ke.$$typeof===X||Ke.$$typeof===de||Ke.$$typeof===_e||Ke.$$typeof===se||Ke.$$typeof===Z||Ke.$$typeof===ce||Ke.$$typeof===De)}function s(Ke){if(typeof Ke=="object"&&Ke!==null){var Ra=Ke.$$typeof;switch(Ra){case L:var bi=Ke.type;switch(bi){case we:case Ee:case O:case H:case F:case Ne:return bi;default:var pi=bi&&bi.$$typeof;switch(pi){case de:case _e:case Pe:case Ve:case X:return pi;default:return Ra}}case B:return Ra}}}function l(Ke){return fn||(fn=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),c(Ke)||s(Ke)===we}function c(Ke){return s(Ke)===Ee}function d(Ke){return s(Ke)===de}function f(Ke){return s(Ke)===X}function h(Ke){return typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===L}function m(Ke){return s(Ke)===_e}function v(Ke){return s(Ke)===O}function w(Ke){return s(Ke)===Pe}function g(Ke){return s(Ke)===Ve}function A(Ke){return s(Ke)===B}function x(Ke){return s(Ke)===H}function T(Ke){return s(Ke)===F}function E(Ke){return s(Ke)===Ne}var z=typeof Symbol=="function"&&Symbol.for,L=z?Symbol.for("react.element"):60103,B=z?Symbol.for("react.portal"):60106,O=z?Symbol.for("react.fragment"):60107,F=z?Symbol.for("react.strict_mode"):60108,H=z?Symbol.for("react.profiler"):60114,X=z?Symbol.for("react.provider"):60109,de=z?Symbol.for("react.context"):60110,we=z?Symbol.for("react.async_mode"):60111,Ee=z?Symbol.for("react.concurrent_mode"):60111,_e=z?Symbol.for("react.forward_ref"):60112,Ne=z?Symbol.for("react.suspense"):60113,Be=z?Symbol.for("react.suspense_list"):60120,Ve=z?Symbol.for("react.memo"):60115,Pe=z?Symbol.for("react.lazy"):60116,De=z?Symbol.for("react.block"):60121,se=z?Symbol.for("react.fundamental"):60117,Z=z?Symbol.for("react.responder"):60118,ce=z?Symbol.for("react.scope"):60119,te=we,ae=Ee,fe=de,ve=X,be=L,Ie=_e,Ye=O,$e=Pe,tt=Ve,ti=B,Ot=H,Rr=F,Tt=Ne,fn=!1;r.AsyncMode=te,r.ConcurrentMode=ae,r.ContextConsumer=fe,r.ContextProvider=ve,r.Element=be,r.ForwardRef=Ie,r.Fragment=Ye,r.Lazy=$e,r.Memo=tt,r.Portal=ti,r.Profiler=Ot,r.StrictMode=Rr,r.Suspense=Tt,r.isAsyncMode=l,r.isConcurrentMode=c,r.isContextConsumer=d,r.isContextProvider=f,r.isElement=h,r.isForwardRef=m,r.isFragment=v,r.isLazy=w,r.isMemo=g,r.isPortal=A,r.isProfiler=x,r.isStrictMode=T,r.isSuspense=E,r.isValidElementType=a,r.typeOf=s})()},function(n,r,o){function a(){return null}var s=o(4),l=o(15),c=o(5),d=o(16),f=Function.call.bind(Object.prototype.hasOwnProperty),h=function(){};h=function(m){var v="Warning: "+m;typeof console!="undefined"&&console.error(v);try{throw new Error(v)}catch{}},n.exports=function(m,v){function w(se){var Z=se&&(Be&&se[Be]||se[Ve]);if(typeof Z=="function")return Z}function g(se,Z){return se===Z?se!==0||1/se==1/Z:se!==se&&Z!==Z}function A(se){this.message=se,this.stack=""}function x(se){function Z(fe,ve,be,Ie,Ye,$e,tt){if(Ie=Ie||Pe,$e=$e||be,tt!==c){if(v){var ti=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw ti.name="Invariant Violation",ti}if(typeof console!="undefined"){var Ot=Ie+":"+be;!ce[Ot]&&te<3&&(h("You are manually calling a React.PropTypes validation function for the `"+$e+"` prop on `"+Ie+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ce[Ot]=!0,te++)}}return ve[be]==null?fe?new A(ve[be]===null?"The "+Ye+" `"+$e+"` is marked as required in `"+Ie+"`, but its value is `null`.":"The "+Ye+" `"+$e+"` is marked as required in `"+Ie+"`, but its value is `undefined`."):null:se(ve,be,Ie,Ye,$e)}var ce={},te=0,ae=Z.bind(null,!1);return ae.isRequired=Z.bind(null,!0),ae}function T(se){function Z(ce,te,ae,fe,ve,be){var Ie=ce[te];return we(Ie)!==se?new A("Invalid "+fe+" `"+ve+"` of type `"+Ee(Ie)+"` supplied to `"+ae+"`, expected `"+se+"`."):null}return x(Z)}function E(se){function Z(ce,te,ae,fe,ve){if(typeof se!="function")return new A("Property `"+ve+"` of component `"+ae+"` has invalid PropType notation inside arrayOf.");var be=ce[te];if(!Array.isArray(be))return new A("Invalid "+fe+" `"+ve+"` of type `"+we(be)+"` supplied to `"+ae+"`, expected an array.");for(var Ie=0;Ie<be.length;Ie++){var Ye=se(be,Ie,ae,fe,ve+"["+Ie+"]",c);if(Ye instanceof Error)return Ye}return null}return x(Z)}function z(se){function Z(ce,te,ae,fe,ve){if(!(ce[te]instanceof se)){var be=se.name||Pe;return new A("Invalid "+fe+" `"+ve+"` of type `"+Ne(ce[te])+"` supplied to `"+ae+"`, expected instance of `"+be+"`.")}return null}return x(Z)}function L(se){function Z(ce,te,ae,fe,ve){for(var be=ce[te],Ie=0;Ie<se.length;Ie++)if(g(be,se[Ie]))return null;var Ye=JSON.stringify(se,function($e,tt){return Ee(tt)==="symbol"?String(tt):tt});return new A("Invalid "+fe+" `"+ve+"` of value `"+String(be)+"` supplied to `"+ae+"`, expected one of "+Ye+".")}return Array.isArray(se)?x(Z):(h(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),a)}function B(se){function Z(ce,te,ae,fe,ve){if(typeof se!="function")return new A("Property `"+ve+"` of component `"+ae+"` has invalid PropType notation inside objectOf.");var be=ce[te],Ie=we(be);if(Ie!=="object")return new A("Invalid "+fe+" `"+ve+"` of type `"+Ie+"` supplied to `"+ae+"`, expected an object.");for(var Ye in be)if(f(be,Ye)){var $e=se(be,Ye,ae,fe,ve+"."+Ye,c);if($e instanceof Error)return $e}return null}return x(Z)}function O(se){function Z(ae,fe,ve,be,Ie){for(var Ye=0;Ye<se.length;Ye++)if((0,se[Ye])(ae,fe,ve,be,Ie,c)==null)return null;return new A("Invalid "+be+" `"+Ie+"` supplied to `"+ve+"`.")}if(!Array.isArray(se))return h("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var ce=0;ce<se.length;ce++){var te=se[ce];if(typeof te!="function")return h("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+_e(te)+" at index "+ce+"."),a}return x(Z)}function F(se){function Z(ce,te,ae,fe,ve){var be=ce[te],Ie=we(be);if(Ie!=="object")return new A("Invalid "+fe+" `"+ve+"` of type `"+Ie+"` supplied to `"+ae+"`, expected `object`.");for(var Ye in se){var $e=se[Ye];if($e){var tt=$e(be,Ye,ae,fe,ve+"."+Ye,c);if(tt)return tt}}return null}return x(Z)}function H(se){function Z(ce,te,ae,fe,ve){var be=ce[te],Ie=we(be);if(Ie!=="object")return new A("Invalid "+fe+" `"+ve+"` of type `"+Ie+"` supplied to `"+ae+"`, expected `object`.");var Ye=l({},ce[te],se);for(var $e in Ye){var tt=se[$e];if(!tt)return new A("Invalid "+fe+" `"+ve+"` key `"+$e+"` supplied to `"+ae+"`.\nBad object: "+JSON.stringify(ce[te],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(se),null,"  "));var ti=tt(be,$e,ae,fe,ve+"."+$e,c);if(ti)return ti}return null}return x(Z)}function X(se){switch(typeof se){case"number":case"string":case"undefined":return!0;case"boolean":return!se;case"object":if(Array.isArray(se))return se.every(X);if(se===null||m(se))return!0;var Z=w(se);if(!Z)return!1;var ce,te=Z.call(se);if(Z!==se.entries){for(;!(ce=te.next()).done;)if(!X(ce.value))return!1}else for(;!(ce=te.next()).done;){var ae=ce.value;if(ae&&!X(ae[1]))return!1}return!0;default:return!1}}function de(se,Z){return se==="symbol"||!!Z&&(Z["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Z instanceof Symbol)}function we(se){var Z=typeof se;return Array.isArray(se)?"array":se instanceof RegExp?"object":de(Z,se)?"symbol":Z}function Ee(se){if(se==null)return""+se;var Z=we(se);if(Z==="object"){if(se instanceof Date)return"date";if(se instanceof RegExp)return"regexp"}return Z}function _e(se){var Z=Ee(se);switch(Z){case"array":case"object":return"an "+Z;case"boolean":case"date":case"regexp":return"a "+Z;default:return Z}}function Ne(se){return se.constructor&&se.constructor.name?se.constructor.name:Pe}var Be=typeof Symbol=="function"&&Symbol.iterator,Ve="@@iterator",Pe="<<anonymous>>",De={array:T("array"),bool:T("boolean"),func:T("function"),number:T("number"),object:T("object"),string:T("string"),symbol:T("symbol"),any:function(){return x(a)}(),arrayOf:E,element:function(){function se(Z,ce,te,ae,fe){var ve=Z[ce];return m(ve)?null:new A("Invalid "+ae+" `"+fe+"` of type `"+we(ve)+"` supplied to `"+te+"`, expected a single ReactElement.")}return x(se)}(),elementType:function(){function se(Z,ce,te,ae,fe){var ve=Z[ce];return s.isValidElementType(ve)?null:new A("Invalid "+ae+" `"+fe+"` of type `"+we(ve)+"` supplied to `"+te+"`, expected a single ReactElement type.")}return x(se)}(),instanceOf:z,node:function(){function se(Z,ce,te,ae,fe){return X(Z[ce])?null:new A("Invalid "+ae+" `"+fe+"` supplied to `"+te+"`, expected a ReactNode.")}return x(se)}(),objectOf:B,oneOf:L,oneOfType:O,shape:F,exact:H};return A.prototype=Error.prototype,De.checkPropTypes=d,De.resetWarningCache=d.resetWarningCache,De.PropTypes=De,De}},function(n,r,o){function a(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var f={},h=0;h<10;h++)f["_"+String.fromCharCode(h)]=h;if(Object.getOwnPropertyNames(f).map(function(v){return f[v]}).join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(v){m[v]=v}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(d,f){for(var h,m,v=a(d),w=1;w<arguments.length;w++){h=Object(arguments[w]);for(var g in h)l.call(h,g)&&(v[g]=h[g]);if(s){m=s(h);for(var A=0;A<m.length;A++)c.call(h,m[A])&&(v[m[A]]=h[m[A]])}}return v}},function(n,r,o){function a(f,h,m,v,w){for(var g in f)if(d(f,g)){var A;try{if(typeof f[g]!="function"){var x=Error((v||"React class")+": "+m+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof f[g]+"`.");throw x.name="Invariant Violation",x}A=f[g](h,g,v,m,null,l)}catch(E){A=E}if(!A||A instanceof Error||s((v||"React class")+": type specification of "+m+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof A+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),A instanceof Error&&!(A.message in c)){c[A.message]=!0;var T=w?w():"";s("Failed "+m+" type: "+A.message+(T!=null?T:""))}}}var s=function(){},l=o(5),c={},d=Function.call.bind(Object.prototype.hasOwnProperty);s=function(f){var h="Warning: "+f;typeof console!="undefined"&&console.error(h);try{throw new Error(h)}catch{}},a.resetWarningCache=function(){c={}},n.exports=a},function(n,r,o){var a=this&&this.__rest||function(d,f){var h={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.indexOf(m)<0&&(h[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,m=Object.getOwnPropertySymbols(d);v<m.length;v++)f.indexOf(m[v])<0&&Object.prototype.propertyIsEnumerable.call(d,m[v])&&(h[m[v]]=d[m[v]]);return h},s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(r,"__esModule",{value:!0});var l=s(o(0)),c=function(d){var f=d.children,h=d.device,m=d.onChange,v=a(d,["children","device","onChange"]),w=(0,l.default)(v,h,m);return typeof f=="function"?f(w):w?f:null};r.default=c}])})})(Go);var P2=(t=>(t.FAILURE="FAILURE",t.FETCH_CARDS="FETCH_CARDS",t.FETCH_CARDS_SUCCESS="FETCH_CARDS_SUCCESSS",t.SHOW_MORE_CARDS="SHOW_MORE_CARDS",t))(P2||{});const Ffe=()=>(t,e)=>{switch(e.type){case"FAILURE":return{...t,error:e.payload,fetchCards:!1};case"FETCH_CARDS":return{...t,error:null,fetchCards:!0};case"FETCH_CARDS_SUCCESSS":{const i=Math.min(t.batchSize,e.payload.length);return{...t,cards:e.payload,visibleCount:i,fetchCards:!1}}case"SHOW_MORE_CARDS":{const i=Math.min(t.batchSize+t.visibleCount,t.cards.length);return{...t,visibleCount:i}}default:return t}};function Nfe(t,e){const i=Ffe(),[n,r]=$.exports.useReducer(i,t);return $.exports.useEffect(()=>{let o=!1;const a=async()=>{try{const s=await e();o||r({type:"FETCH_CARDS_SUCCESSS",payload:s})}catch(s){if(!o){const l=wa(s);r({type:"FAILURE",payload:l})}}};return n.fetchCards&&a(),()=>{o=!0}},[n.fetchCards,e,r]),[n,r]}var ZF={};const jfe=["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","i"];ZF.words=jfe;const Ufe=ZF.words;var Vm=function(t,e){if(e=e||Ufe,typeof t!="object"||typeof e!="object")throw new Error("expected Arrays try: removeStopwords(Array[, Array])");return t.filter(function(i){return e.indexOf(i.toLowerCase())===-1})};JC(2);JC(3);function JC(t){if(typeof t!="number"||Number.isNaN(t)||t<1||t===Number.POSITIVE_INFINITY)throw new Error("`"+t+"` is not a valid argument for `n-gram`");return e;function e(i){var n=[],r,o;if(i==null||(o=i.slice?i:String(i),r=o.length-t+1,r<1))return n;for(;r--;)n[r]=o.slice(r,r+t);return n}}var WR={skis:"ski",idly:"idl",ugly:"ugli",only:"onli",news:"news",howe:"howe",bias:"bias"},YR={skies:"sky",dying:"die",lying:"lie",tying:"tie",early:"earli",atlas:"atlas",andes:"andes"},VR={gently:"gentl",singly:"singl",cosmos:"cosmos"},Gfe={inning:0,outing:0,canning:0,herring:0,earring:0,proceed:0,exceed:0,succeed:0},$R=/[^aeiouy]*[aeiouy]+[^aeiouy](\w*)/,Hfe=/^[aeiouy][^aeiouy]$/,Wfe=/.*[^aeiouy][aeiouy][^aeiouywxY]$/;function eN(t){return t.length===2?Hfe.test(t):Wfe.test(t)}var Yfe=/([aeiouy])y/g,Vfe=/[aeiouy]./;function $fe(t,e){if(t.endsWith("at")||t.endsWith("bl")||t.endsWith("iz"))return t+"e";var i=t.charCodeAt(t.length-1);return i===t.charCodeAt(t.length-2)&&(i===98||i===100||i===102||i===103||i===109||i===110||i===112||i===114||i===116)?t.slice(0,-1):e===t.length&&eN(t)?t+"e":t}var Qfe=/(ed|edly|ing|ingly)$/,qfe=/[aeiouy]/;function Kfe(t,e){if(t.endsWith("eedly"))return t.length-5>=e?t.slice(0,-3):t;if(t.endsWith("eed"))return t.length-3>=e?t.slice(0,-1):t;var i=Qfe.exec(t);if(i){var n=t.slice(0,-i[0].length);if(t.length>1&&qfe.test(n))return $fe(n,e)}return t}function Xfe(t,e,i,n,r){if(t.endsWith(i)){if(t.length-i.length>=e){var o=t.slice(0,-i.length);if(r===null)return o+n;for(var a=0;a<r.length;a++){var s=r[a];if(o.endsWith(s))return o+n}}return t}return null}var tN=[["enci","ence",null],["anci","ance",null],["abli","able",null],["izer","ize",null],["ator","ate",null],["alli","al",null],["bli","ble",null],["ogi","og",["l"]],["li","",["c","d","e","g","h","k","m","n","r","t"]]],Jfe=[["ization","ize",null],["ational","ate",null],["fulness","ful",null],["ousness","ous",null],["iveness","ive",null],["tional","tion",null],["biliti","ble",null],["lessli","less",null],["entli","ent",null],["ation","ate",null],["alism","al",null],["aliti","al",null],["ousli","ous",null],["iviti","ive",null],["fulli","ful",null]].concat(tN);function Zfe(t,e){for(var i=t.length>6?Jfe:tN,n=0;n<i.length;n++){var r=i[n],o=Xfe(t,e,r[0],r[1],r[2]);if(o!==null)return o}return t}function epe(t,e,i,n,r,o){if(t.endsWith(n)){if(t.length-n.length>=e)if(o){if(t.length-n.length>=i)return t.slice(0,-n.length)+r}else return t.slice(0,-n.length)+r;return t}return null}var QR=[{a:"ational",b:"ate",c:!1},{a:"tional",b:"tion",c:!1},{a:"alize",b:"al",c:!1},{a:"icate",b:"ic",c:!1},{a:"iciti",b:"ic",c:!1},{a:"ative",b:"",c:!0},{a:"ical",b:"ic",c:!1},{a:"ness",b:"",c:!1},{a:"ful",b:"",c:!1}];function tpe(t,e,i){for(var n=0;n<QR.length;n++){var r=QR[n],o=epe(t,e,i,r.a,r.b,r.c);if(o!==null)return o}return t}var qR=["al","ance","ence","er","ic","able","ible","ant","ement","ment","ent","ism","ate","iti","ous","ive","ize"];function ipe(t,e){for(var i=0;i<qR.length;i++){var n=qR[i];if(t.endsWith(n))return t.length-n.length>=e?t.slice(0,-n.length):t}if(t.length-3>=e){var r=t.charCodeAt(t.length-4);if((r===115||r===116)&&t.endsWith("ion"))return t.slice(0,-3)}return t}var npe=/Y/g;function Ry(t){var e,i,n,r;if(t.length<3||(t.charCodeAt(0)===39&&(t=t.slice(1)),t==="sky"))return t;if(t.length<7){if(t.length===4){if(WR.hasOwnProperty(t))return WR[t]}else if(t.length===5){if(YR.hasOwnProperty(t))return YR[t]}else if(t.length===6&&VR.hasOwnProperty(t))return VR[t]}if(t.charCodeAt(0)===121&&(t="Y"+t.slice(1)),t=t.replace(Yfe,"$1Y"),t.length>4&&(t.startsWith("gener")||t.startsWith("arsen"))?n=5:t.startsWith("commun")?n=6:(i=$R.exec(t),n=i?t.length-i[1].length:t.length),i=$R.exec(t.slice(n)),r=i?t.length-i[1].length:t.length,t.charCodeAt(t.length-1)===39?t.endsWith("'s'")?t=t.slice(0,-3):t=t.slice(0,-1):t.endsWith("'s")&&(t=t.slice(0,-2)),t.endsWith("sses"))t=t.slice(0,-4)+"ss";else if(t.endsWith("ied")||t.endsWith("ies"))t=t.slice(0,-3)+(t.length>4?"i":"ie");else if(t.endsWith("us")||t.endsWith("ss"))t=t;else if(t.charCodeAt(t.length-1)===115){var o=t.slice(0,-1);Vfe.test(o)&&(t=o)}return(t.length===6||t.length===7)&&Gfe.hasOwnProperty(t)||(t=Kfe(t,n),t.length>2&&(e=t.charCodeAt(t.length-1),(e===121||e===89)&&(e=t.charCodeAt(t.length-2),(e<97||e>121||e!==97&&e!==101&&e!==105&&e!==111&&e!==117&&e!==121)&&(t=t.slice(0,-1)+"i"))),t=Zfe(t,n),t=tpe(t,n,r),t=ipe(t,r),e=t.charCodeAt(t.length-1),e===108?t.length-1>=r&&t.charCodeAt(t.length-2)===108&&(t=t.slice(0,-1)):e===101&&(t.length-1>=r||t.length-1>=n&&!eN(t.slice(0,-1)))&&(t=t.slice(0,-1)),t=t.replace(npe,"y")),t}class hf{constructor(e){this.id=e.id,this.uri=e.uri,this.name=e.name,e.description&&(this.description=e.description),e.media_type&&(this.media_type=e.media_type)}}class Vc{constructor(e){this.id=e.id,this.event_datetime=Aa(e.event_datetime),this.body_ref=e.body_ref.id,e.agenda_uri&&(this.agenda_uri=e.agenda_uri),e.minutes_uri&&(this.minutes_uri=e.minutes_uri),typeof e.body_ref=="object"&&!(e.body_ref instanceof _t)&&(this.body=new xy(e.body_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),e.hover_thumbnail_ref&&(e.hover_thumbnail_ref instanceof _t?this.hover_thumbnail_ref=e.hover_thumbnail_ref.id:typeof e.hover_thumbnail_ref=="object"&&(this.hover_thumbnail=new hf(e.hover_thumbnail_ref))),e.static_thumbnail_ref&&(e.static_thumbnail_ref instanceof _t?this.static_thumbnail_ref=e.static_thumbnail_ref.id:typeof e.static_thumbnail_ref=="object"&&(this.static_thumbnail=new hf(e.static_thumbnail_ref)))}}class KR{constructor(e){this.id=e.id,this.context_span=e.context_span,this.datetime_weighted_value=e.datetime_weighted_value,this.event_ref=e.event_ref.id,this.stemmed_gram=e.stemmed_gram,this.unstemmed_gram=e.unstemmed_gram,this.value=e.value,typeof e.event_ref=="object"&&!(e.event_ref instanceof _t)&&(this.event=new Vc(e.event_ref))}}class iN extends Un{constructor(e){super(Te.IndexedEventGram,e)}async getMatchingGrams(e){const i=this.networkService.getDocuments(Te.IndexedEventGram,[xi("stemmed_gram",gi.eq,e)]);return this.createModels(i,KR,`getMatchingGrams(${e})`)}async getKeyGramsForEvent(e){const i=this.networkService.getDocuments(Te.IndexedEventGram,[xi("event_ref",gi.eq,$i(Xt.getDb(),e)),Dn("value",en.desc),ou(5)]);return this.createModels(i,KR,`getKeyGramsForEvent(${e})`)}}class xA extends Un{constructor(e){super(Te.Event,e),this.indexedEventGramService=new iN(e)}async getEventById(e){const i=this.networkService.getDocument(e,Te.Event,new nn([new zi(Te.Body,vt.EventBodyRef)]));return this.createModel(i,Vc,`getEventById(${e})`)}async getFullEventById(e){const i=this.networkService.getDocument(e,Te.Event,new nn([new zi(Te.Body,vt.EventBodyRef),new zi(Te.File,vt.EventStaticThumbnailRef),new zi(Te.File,vt.EventHoverThumbnailRef)]));return this.createModel(i,Vc,`getFullEventById(${e})`)}async getEvents(e,i,n,r,o){if(i.length>10)return Promise.reject(new Error(`Number of bodies exceeded ${LC}.`));const a=[];if(i.length>0){const l=i.map(c=>$i(Xt.getDb(),Te.Body,c));a.push(xi(vt.EventBodyRef,gi.in,l))}if(n.start){const l=Li.fromDate(n.start);a.push(xi("event_datetime",gi.gteq,l))}if(n.end){const l=new Date(n.end);l.setUTCDate(l.getUTCDate()+1);const c=Li.fromDate(l);a.push(xi("event_datetime",gi.lteq,c))}if(a.push(Dn(r.by,r.order)),o){const l=Li.fromDate(o);a.push(zC(l))}a.push(ou(e));const s=this.networkService.getDocuments(Te.Event,a,new nn([new zi(Te.Body,vt.EventBodyRef)]));return this.createModels(s,Vc,`getEvents([${i}], ${JSON.stringify(n)}, ${JSON.stringify(r)}, ${o==null?void 0:o.toISOString}})`)}async getRenderableEvent(e){try{const n=(await this.indexedEventGramService.getKeyGramsForEvent(`${Te.Event}/${e.id}`)).reduce((r,o)=>(o.unstemmed_gram!==void 0&&r.push(o.unstemmed_gram),r),[]);return Promise.resolve({...e,keyGrams:n})}catch(i){const n=wa(i);return n.message=`eventService_getRenderableEvent(${JSON.stringify(e)})_${n.message}`,Promise.reject(n)}}}const $m=t=>{let e=t.replace(/[\t\n]+/g," ");return e=e.replace(/[\-\-]/g," "),e=e.replace(/['!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g,""),e=e.replace(/\s{2,}/g," "),e.trim()};class rpe{constructor(e,i,n,r,o,a){this.eventRef=`${Te.Event}/${e}`,this.pureRelevance=i,this.datetimeWeightedRelevance=n,this.containedGrams=r,this.selectedGram=o,this.selectedContextSpan=a}}class ope{constructor(e){this.networkService=Xt.getInstance(e.options,e.settings),this.eventService=new xA(e),this.indexedEventGramService=new iN(e),this.serviceName="EventSearchService"}cleanText(e){const i=$m(e);return Vm(i.split(" "))}getStemmedGrams(e){const i=this.cleanText(e),n=[];return Array.from([1,2,3]).forEach(r=>{JC(r)(i).forEach(a=>{n.push(a.map(s=>Ry(s.toLowerCase())).join(" "))})}),n}async searchEvents(e){const n=this.getStemmedGrams(e).map(a=>this.indexedEventGramService.getMatchingGrams(a)),r=new Map,o=[];try{return await Promise.allSettled(n).then(a=>{a.forEach(s=>{if(s.status==="fulfilled")s.value.forEach(l=>{if(l.event_ref!==void 0){const c=r.get(l.event_ref);c===void 0?r.set(l.event_ref,[l]):c.push(l)}});else if(!(s.reason instanceof RC))throw s.reason});for(const[s,l]of r){const c=Yc.exports.maxBy(l,"value");let d="",f="";c&&(d=(c==null?void 0:c.context_span)||"",f=(c==null?void 0:c.unstemmed_gram)||"");const h=l.reduce((m,v)=>(v.unstemmed_gram!==void 0&&m.push(v.unstemmed_gram),m),[]);o.push(new rpe(s,Yc.exports.sumBy(l,"value"),Yc.exports.sumBy(l,"datetime_weighted_value"),h,f,d))}}),Promise.resolve(o)}catch(a){const s=wa(a);return s.message=`${this.serviceName}_searchEvents(${e})_${s.message}`,Promise.reject(s)}}async getRenderableEvent(e){const i=e.eventRef.split("/")[1],n=this.eventService.getEventById(i),r=this.indexedEventGramService.getKeyGramsForEvent(e.eventRef);try{const[o,a]=await Promise.all([n,r]),s=a.reduce((l,c)=>(c.unstemmed_gram!==void 0&&l.push(c.unstemmed_gram),l),[]);return Promise.resolve({...e,event:o,keyGrams:s})}catch(o){const a=wa(o);return a.message=`${this.serviceName}_getRenderableEvent(${e.eventRef})_${a.message}`,Promise.reject(a)}}}var nN={exports:{}};(function(t){t.exports=function(e){var i={};function n(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=i,n.p="",n(0)}([function(e,i,n){e.exports=n(1)},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0});function r(s){return s&&s.__esModule?s:{default:s}}var o=n(2),a=r(o);i.default=a.default,e.exports=i.default},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(v){for(var w=1;w<arguments.length;w++){var g=arguments[w];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(v[A]=g[A])}return v};i.default=m;function o(v){return v&&v.__esModule?v:{default:v}}function a(v,w){var g={};for(var A in v)w.indexOf(A)>=0||!Object.prototype.hasOwnProperty.call(v,A)||(g[A]=v[A]);return g}var s=n(3),l=n(4),c=o(l),d=n(14),f=n(15),h=o(f);m.propTypes={activeClassName:c.default.string,activeIndex:c.default.number,activeStyle:c.default.object,autoEscape:c.default.bool,className:c.default.string,findChunks:c.default.func,highlightClassName:c.default.oneOfType([c.default.object,c.default.string]),highlightStyle:c.default.object,highlightTag:c.default.oneOfType([c.default.node,c.default.func,c.default.string]),sanitize:c.default.func,searchWords:c.default.arrayOf(c.default.oneOfType([c.default.string,c.default.instanceOf(RegExp)])).isRequired,textToHighlight:c.default.string.isRequired,unhighlightClassName:c.default.string,unhighlightStyle:c.default.object};function m(v){var w=v.activeClassName,g=w===void 0?"":w,A=v.activeIndex,x=A===void 0?-1:A,T=v.activeStyle,E=v.autoEscape,z=v.caseSensitive,L=z===void 0?!1:z,B=v.className,O=v.findChunks,F=v.highlightClassName,H=F===void 0?"":F,X=v.highlightStyle,de=X===void 0?{}:X,we=v.highlightTag,Ee=we===void 0?"mark":we,_e=v.sanitize,Ne=v.searchWords,Be=v.textToHighlight,Ve=v.unhighlightClassName,Pe=Ve===void 0?"":Ve,De=v.unhighlightStyle,se=a(v,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),Z=(0,s.findAll)({autoEscape:E,caseSensitive:L,findChunks:O,sanitize:_e,searchWords:Ne,textToHighlight:Be}),ce=Ee,te=-1,ae="",fe=void 0,ve=function(Ye){var $e={};for(var tt in Ye)$e[tt.toLowerCase()]=Ye[tt];return $e},be=(0,h.default)(ve);return(0,d.createElement)("span",r({className:B},se,{children:Z.map(function(Ie,Ye){var $e=Be.substr(Ie.start,Ie.end-Ie.start);if(Ie.highlight){te++;var tt=void 0;typeof H=="object"?L?tt=H[$e]:(H=be(H),tt=H[$e.toLowerCase()]):tt=H;var ti=te===+x;ae=tt+" "+(ti?g:""),fe=ti===!0&&T!=null?Object.assign({},de,T):de;var Ot={children:$e,className:ae,key:Ye,style:fe};return typeof ce!="string"&&(Ot.highlightIndex=te),(0,d.createElement)(ce,Ot)}else return(0,d.createElement)("span",{children:$e,className:Pe,key:Ye,style:De})})}))}e.exports=i.default},function(e,i){e.exports=function(n){var r={};function o(a){if(r[a])return r[a].exports;var s=r[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(2);Object.defineProperty(r,"combineChunks",{enumerable:!0,get:function(){return a.combineChunks}}),Object.defineProperty(r,"fillInChunks",{enumerable:!0,get:function(){return a.fillInChunks}}),Object.defineProperty(r,"findAll",{enumerable:!0,get:function(){return a.findAll}}),Object.defineProperty(r,"findChunks",{enumerable:!0,get:function(){return a.findChunks}})},function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.findAll=function(f){var h=f.autoEscape,m=f.caseSensitive,v=m===void 0?!1:m,w=f.findChunks,g=w===void 0?a:w,A=f.sanitize,x=f.searchWords,T=f.textToHighlight;return s({chunksToHighlight:o({chunks:g({autoEscape:h,caseSensitive:v,sanitize:A,searchWords:x,textToHighlight:T})}),totalLength:T?T.length:0})};var o=r.combineChunks=function(f){var h=f.chunks;return h=h.sort(function(m,v){return m.start-v.start}).reduce(function(m,v){if(m.length===0)return[v];var w=m.pop();if(v.start<=w.end){var g=Math.max(w.end,v.end);m.push({start:w.start,end:g})}else m.push(w,v);return m},[]),h},a=function(f){var h=f.autoEscape,m=f.caseSensitive,v=f.sanitize,w=v===void 0?l:v,g=f.searchWords,A=f.textToHighlight;return A=w(A),g.filter(function(x){return x}).reduce(function(x,T){T=w(T),h&&(T=c(T));for(var E=new RegExp(T,m?"g":"gi"),z=void 0;z=E.exec(A);){var L=z.index,B=E.lastIndex;B>L&&x.push({start:L,end:B}),z.index==E.lastIndex&&E.lastIndex++}return x},[])};r.findChunks=a;var s=r.fillInChunks=function(f){var h=f.chunksToHighlight,m=f.totalLength,v=[],w=function(x,T,E){T-x>0&&v.push({start:x,end:T,highlight:E})};if(h.length===0)w(0,m,!1);else{var g=0;h.forEach(function(A){w(g,A.start,!1),w(A.start,A.end,!0),g=A.end}),w(g,m,!1)}return v};function l(d){return d}function c(d){return d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(e,i,n){(function(r){e.exports=n(13)()}).call(i,n(5))},function(e,i){var n=e.exports={},r,o;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=a}catch{r=a}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch{o=s}})();function l(x){if(r===setTimeout)return setTimeout(x,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(x,0);try{return r(x,0)}catch{try{return r.call(null,x,0)}catch{return r.call(this,x,0)}}}function c(x){if(o===clearTimeout)return clearTimeout(x);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{return o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}var d=[],f=!1,h,m=-1;function v(){!f||!h||(f=!1,h.length?d=h.concat(d):m=-1,d.length&&w())}function w(){if(!f){var x=l(v);f=!0;for(var T=d.length;T;){for(h=d,d=[];++m<T;)h&&h[m].run();m=-1,T=d.length}h=null,f=!1,c(x)}}n.nextTick=function(x){var T=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];d.push(new g(x,T)),d.length===1&&!f&&l(w)};function g(x,T){this.fun=x,this.array=T}g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function A(){}n.on=A,n.addListener=A,n.once=A,n.off=A,n.removeListener=A,n.removeAllListeners=A,n.emit=A,n.prependListener=A,n.prependOnceListener=A,n.listeners=function(x){return[]},n.binding=function(x){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(x){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,i,n){(function(r){var o=n(7),a=n(8),s=n(9),l=n(10),c=n(11),d=n(12);e.exports=function(f,h){var m=typeof Symbol=="function"&&Symbol.iterator,v="@@iterator";function w(Z){var ce=Z&&(m&&Z[m]||Z[v]);if(typeof ce=="function")return ce}var g="<<anonymous>>",A={array:z("array"),bool:z("boolean"),func:z("function"),number:z("number"),object:z("object"),string:z("string"),symbol:z("symbol"),any:L(),arrayOf:B,element:O(),instanceOf:F,node:we(),objectOf:X,oneOf:H,oneOfType:de,shape:Ee,exact:_e};function x(Z,ce){return Z===ce?Z!==0||1/Z===1/ce:Z!==Z&&ce!==ce}function T(Z){this.message=Z,this.stack=""}T.prototype=Error.prototype;function E(Z){function ce(ae,fe,ve,be,Ie,Ye,$e){return be=be||g,Ye=Ye||ve,$e!==c&&h&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),fe[ve]==null?ae?fe[ve]===null?new T("The "+Ie+" `"+Ye+"` is marked as required "+("in `"+be+"`, but its value is `null`.")):new T("The "+Ie+" `"+Ye+"` is marked as required in "+("`"+be+"`, but its value is `undefined`.")):null:Z(fe,ve,be,Ie,Ye)}var te=ce.bind(null,!1);return te.isRequired=ce.bind(null,!0),te}function z(Z){function ce(te,ae,fe,ve,be,Ie){var Ye=te[ae],$e=Ve(Ye);if($e!==Z){var tt=Pe(Ye);return new T("Invalid "+ve+" `"+be+"` of type "+("`"+tt+"` supplied to `"+fe+"`, expected ")+("`"+Z+"`."))}return null}return E(ce)}function L(){return E(o.thatReturnsNull)}function B(Z){function ce(te,ae,fe,ve,be){if(typeof Z!="function")return new T("Property `"+be+"` of component `"+fe+"` has invalid PropType notation inside arrayOf.");var Ie=te[ae];if(!Array.isArray(Ie)){var Ye=Ve(Ie);return new T("Invalid "+ve+" `"+be+"` of type "+("`"+Ye+"` supplied to `"+fe+"`, expected an array."))}for(var $e=0;$e<Ie.length;$e++){var tt=Z(Ie,$e,fe,ve,be+"["+$e+"]",c);if(tt instanceof Error)return tt}return null}return E(ce)}function O(){function Z(ce,te,ae,fe,ve){var be=ce[te];if(!f(be)){var Ie=Ve(be);return new T("Invalid "+fe+" `"+ve+"` of type "+("`"+Ie+"` supplied to `"+ae+"`, expected a single ReactElement."))}return null}return E(Z)}function F(Z){function ce(te,ae,fe,ve,be){if(!(te[ae]instanceof Z)){var Ie=Z.name||g,Ye=se(te[ae]);return new T("Invalid "+ve+" `"+be+"` of type "+("`"+Ye+"` supplied to `"+fe+"`, expected ")+("instance of `"+Ie+"`."))}return null}return E(ce)}function H(Z){if(!Array.isArray(Z))return o.thatReturnsNull;function ce(te,ae,fe,ve,be){for(var Ie=te[ae],Ye=0;Ye<Z.length;Ye++)if(x(Ie,Z[Ye]))return null;var $e=JSON.stringify(Z);return new T("Invalid "+ve+" `"+be+"` of value `"+Ie+"` "+("supplied to `"+fe+"`, expected one of "+$e+"."))}return E(ce)}function X(Z){function ce(te,ae,fe,ve,be){if(typeof Z!="function")return new T("Property `"+be+"` of component `"+fe+"` has invalid PropType notation inside objectOf.");var Ie=te[ae],Ye=Ve(Ie);if(Ye!=="object")return new T("Invalid "+ve+" `"+be+"` of type "+("`"+Ye+"` supplied to `"+fe+"`, expected an object."));for(var $e in Ie)if(Ie.hasOwnProperty($e)){var tt=Z(Ie,$e,fe,ve,be+"."+$e,c);if(tt instanceof Error)return tt}return null}return E(ce)}function de(Z){if(!Array.isArray(Z))return o.thatReturnsNull;for(var ce=0;ce<Z.length;ce++){var te=Z[ce];if(typeof te!="function")return s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",De(te),ce),o.thatReturnsNull}function ae(fe,ve,be,Ie,Ye){for(var $e=0;$e<Z.length;$e++){var tt=Z[$e];if(tt(fe,ve,be,Ie,Ye,c)==null)return null}return new T("Invalid "+Ie+" `"+Ye+"` supplied to "+("`"+be+"`."))}return E(ae)}function we(){function Z(ce,te,ae,fe,ve){return Ne(ce[te])?null:new T("Invalid "+fe+" `"+ve+"` supplied to "+("`"+ae+"`, expected a ReactNode."))}return E(Z)}function Ee(Z){function ce(te,ae,fe,ve,be){var Ie=te[ae],Ye=Ve(Ie);if(Ye!=="object")return new T("Invalid "+ve+" `"+be+"` of type `"+Ye+"` "+("supplied to `"+fe+"`, expected `object`."));for(var $e in Z){var tt=Z[$e];if(!!tt){var ti=tt(Ie,$e,fe,ve,be+"."+$e,c);if(ti)return ti}}return null}return E(ce)}function _e(Z){function ce(te,ae,fe,ve,be){var Ie=te[ae],Ye=Ve(Ie);if(Ye!=="object")return new T("Invalid "+ve+" `"+be+"` of type `"+Ye+"` "+("supplied to `"+fe+"`, expected `object`."));var $e=l({},te[ae],Z);for(var tt in $e){var ti=Z[tt];if(!ti)return new T("Invalid "+ve+" `"+be+"` key `"+tt+"` supplied to `"+fe+"`.\nBad object: "+JSON.stringify(te[ae],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Z),null,"  "));var Ot=ti(Ie,tt,fe,ve,be+"."+tt,c);if(Ot)return Ot}return null}return E(ce)}function Ne(Z){switch(typeof Z){case"number":case"string":case"undefined":return!0;case"boolean":return!Z;case"object":if(Array.isArray(Z))return Z.every(Ne);if(Z===null||f(Z))return!0;var ce=w(Z);if(ce){var te=ce.call(Z),ae;if(ce!==Z.entries){for(;!(ae=te.next()).done;)if(!Ne(ae.value))return!1}else for(;!(ae=te.next()).done;){var fe=ae.value;if(fe&&!Ne(fe[1]))return!1}}else return!1;return!0;default:return!1}}function Be(Z,ce){return Z==="symbol"||ce["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ce instanceof Symbol}function Ve(Z){var ce=typeof Z;return Array.isArray(Z)?"array":Z instanceof RegExp?"object":Be(ce,Z)?"symbol":ce}function Pe(Z){if(typeof Z=="undefined"||Z===null)return""+Z;var ce=Ve(Z);if(ce==="object"){if(Z instanceof Date)return"date";if(Z instanceof RegExp)return"regexp"}return ce}function De(Z){var ce=Pe(Z);switch(ce){case"array":case"object":return"an "+ce;case"boolean":case"date":case"regexp":return"a "+ce;default:return ce}}function se(Z){return!Z.constructor||!Z.constructor.name?g:Z.constructor.name}return A.checkPropTypes=d,A.PropTypes=A,A}}).call(i,n(5))},function(e,i){function n(o){return function(){return o}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(o){return o},e.exports=r},function(e,i,n){(function(r){function o(a,s,l,c,d,f,h,m){if(!a){var v;if(s===void 0)v=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=[l,c,d,f,h,m],g=0;v=new Error(s.replace(/%s/g,function(){return w[g++]})),v.name="Invariant Violation"}throw v.framesToPop=1,v}}e.exports=o}).call(i,n(5))},function(e,i,n){(function(r){var o=n(7),a=o;e.exports=a}).call(i,n(5))},function(e,i){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function s(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var c={},d=0;d<10;d++)c["_"+String.fromCharCode(d)]=d;var f=Object.getOwnPropertyNames(c).map(function(m){return c[m]});if(f.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(m){h[m]=m}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=s()?Object.assign:function(l,c){for(var d,f=a(l),h,m=1;m<arguments.length;m++){d=Object(arguments[m]);for(var v in d)r.call(d,v)&&(f[v]=d[v]);if(n){h=n(d);for(var w=0;w<h.length;w++)o.call(d,h[w])&&(f[h[w]]=d[h[w]])}}return f}},function(e,i){var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,i,n){(function(r){function o(a,s,l,c,d){}e.exports=o}).call(i,n(5))},function(e,i,n){var r=n(7),o=n(8),a=n(11);e.exports=function(){function s(d,f,h,m,v,w){w!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}s.isRequired=s;function l(){return s}var c={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l};return c.checkPropTypes=r,c.PropTypes=c,c}},function(e,i){e.exports=$.exports},function(e,i){var n=function(a,s){return a===s};function r(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,s=void 0,l=[],c=void 0,d=!1,f=function(v,w){return a(v,l[w])},h=function(){for(var v=arguments.length,w=Array(v),g=0;g<v;g++)w[g]=arguments[g];return d&&s===this&&w.length===l.length&&w.every(f)||(d=!0,s=this,l=w,c=o.apply(this,w)),c};return h}e.exports=r}])})(nN);var rN=s$(nN.exports);class Py extends Un{constructor(e){super(Te.File,e)}async getFileById(e){const i=this.networkService.getDocument(e,Te.File);return this.createModel(i,hf,`getFileById(${e})`)}}var oN=Fe.div({position:"absolute",height:"100%",width:"100%"});const ape=nX`
  0% {
    transform: translateX(-100%);
  }
  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }
  100% {
    transform: translateX(100%);
  }
`,spe=Fe.div(t=>({position:"relative",width:"100%",height:"100%","& > div, & > div:nth-of-type(2):after":{position:"absolute",inset:0},"& > div:first-of-type":{opacity:t.isLoading?0:1},"& > div:nth-of-type(2)":{display:t.isLoading?"block":"none",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.11)",overflow:"hidden"},"& > div:nth-of-type(2):after":{content:'""',animation:`${ape} 1.6s linear 0.5s infinite`,backgroundImage:"linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.04), transparent)",transform:"translateX(-100%)"}})),ZC=({contentIsLoading:t,children:e,placeholderStyle:i})=>ue(spe,{isLoading:t,children:[P("div",{children:e}),P("div",{style:i})]}),Ro={lightgrey:"#DDDDDD",grey:"#595959",black:"#111111",white:"#FFFFFF",basicGrey:"#ececec",dark_blue:"#00458b"},Ly=" \u2022 ",XR={COLORS:{ODD_CELL:Ro.white,EVEN_CELL:Ro.lightgrey,ACTIVE_UNDERLINE:Ro.dark_blue}},lpe=Fe.section({marginBottom:0}),cpe=Fe.div({position:"relative","& > img":{position:"absolute",inset:0},"& > img:first-of-type":{zIndex:1},"& > img:last-of-type":{zIndex:2,opacity:0},"& > img:last-of-type:hover":{opacity:1}}),aN=({event:t,tags:e,excerpt:i,gram:n,query:r})=>{var A,x,T,E,z;const{language:o}=jo(),{firebaseConfig:a,municipality:s}=ji(),[l,c]=$.exports.useState(!0),d=$.exports.useCallback(async()=>{const L=new Py(a),{networkService:B}=L,O=[Promise.resolve(void 0),Promise.resolve(void 0)];t.static_thumbnail_ref&&(O[0]=L.getFileById(t.static_thumbnail_ref).then(X=>B.getDownloadUrl(X.uri)).catch(()=>Promise.resolve(void 0))),t.hover_thumbnail_ref&&(O[1]=L.getFileById(t.hover_thumbnail_ref).then(X=>B.getDownloadUrl(X.uri)).catch(()=>Promise.resolve(void 0)));const[F,H]=await Promise.all(O);return Promise.resolve({staticThumbNailUrl:F,hoverThumbNailUrl:H})},[a,t.static_thumbnail_ref,t.hover_thumbnail_ref]),{state:f}=bn({isLoading:!1,error:null,hasFetchRequest:!0},d),h=(A=t.event_datetime)==null?void 0:A.toLocaleDateString(o,{timeZone:s.timeZone,month:"long",day:"numeric",year:"numeric"}),m=(x=t.body)==null?void 0:x.name,v=$.exports.useMemo(()=>{const L=$m(r||""),B=Vm(L.split(" "));return n&&n.length>0&&B.push(n),B.length===0?[]:[new RegExp(`\\b(${B.join("|")})`,"g")]},[r,n]),w=`${(T=t.body)==null?void 0:T.name} - ${h}`,g=e.map(L=>L.toLowerCase()).join(Ly);return P(lpe,{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:ue("div",{className:"mzp-c-card-block-link",children:[P("div",{className:"mzp-c-card-media-wrapper",children:P(oN,{children:P(ZC,{contentIsLoading:l,children:ue(cpe,{children:[P("img",{className:"mzp-c-card-image",src:(E=f.data)==null?void 0:E.staticThumbNailUrl,alt:w,onLoad:()=>c(!1)}),P("img",{className:"mzp-c-card-image",src:(z=f.data)==null?void 0:z.hoverThumbNailUrl,alt:w})]})})})}),ue("div",{className:"mzp-c-card-content",children:[P("div",{className:"mzp-c-card-tag",children:Ae.committee}),P("h2",{className:"mzp-c-card-title",children:h}),P("p",{className:"mzp-c-card-desc",children:m}),i&&P("p",{className:"mzp-c-card-desc",style:{fontStyle:"italic",marginTop:"1rem"},children:P(rN,{caseSensitive:!1,searchWords:v,textToHighlight:`"${i}"`})}),e.length>0&&ue(Jr,{children:[P("p",{className:"mzp-c-card-meta",children:Ae.keywords}),P("p",{className:"mzp-c-card-desc",children:g})]})]})]})})},upe=Fe.div({display:"flex",flexDirection:"column",gap:4,[`@media (min-width:${Mt.tablet})`]:{flexDirection:"row",flexWrap:"wrap","& > div:last-of-type:not(:first-of-type), & > button:last-of-type":{marginLeft:"auto"}}}),sN=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),lN=Fe.button({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%","& > svg":{marginLeft:24,width:16,height:16}});lN.displayName="TriggerButton";const cN=Fe(ha)({maxWidth:"100% !important",boxShadow:"none !important",border:"2px solid #9595a2 !important"});cN.displayName="StyledPopup";const uN=Fe(ha.Content)({flexGrow:1,overflowY:"auto",paddingLeft:"10px",paddingRight:"10px"});uN.displayName="ContentContainer";const dN=Fe.div({maxHeight:"45vh",display:"flex",flexDirection:"column"});dN.displayName="PopupContainer";const fN=Fe.div({display:"flex",justifyContent:"space-between",padding:".833em 0 0",minWidth:"256px"});fN.displayName="ButtonContainer";const gk=({name:t,clear:e,getTextRep:i,isActive:n,popupIsOpen:r,setPopupIsOpen:o,handlePopupClose:a,closeOnChange:s,children:l,hasRequiredError:c,hasLimitError:d,limit:f})=>{const h=$.exports.useRef(null),m=Yc.exports.some([c,d]),v=$.exports.useMemo(()=>{const T=[];return c&&T.push(`Please select at least one ${t.toLowerCase()}.`),d&&T.push(`Please select only ${f} or fewer ${t.toLowerCase()}s.`),T},[c,d,t,f]),w=()=>o(!1),g=()=>{o(T=>!T)},A=()=>{o(!1),!m&&a&&a()},x=()=>{e()};return ue($.exports.Fragment,{children:[P(cN,{basic:!0,flowing:!0,context:h.current||void 0,on:"click",open:r,onClose:w,pinned:!0,offset:[0,-5],position:"bottom left",positionFixed:!0,trigger:ue(lN,{className:"mzp-c-button mzp-t-lg mzp-t-neutral",onClick:g,children:[i(),P(sN,{})]}),children:ue(dN,{children:[P(uN,{children:l}),m&&P("div",{className:"mzp-c-form-errors",style:{margin:"24px 0"},children:P("ul",{className:"mzp-u-list-styled",children:v.map(T=>P("li",{children:T},T))})}),!s&&ue(fN,{children:[P("button",{className:"mzp-c-button mzp-t-md mzp-t-neutral",disabled:!n(),onClick:x,children:Ae.clear}),P("button",{className:"mzp-c-button mzp-t-md mzp-t-product",disabled:m,onClick:A,children:Ae.save})]})]})}),P("div",{ref:h})]})};function mf(t,e){if(isNaN(t.getTime()))return;const n=t.toLocaleString("en-US",{timeZone:e,timeZoneName:"short"}).split(" ").pop(),r=t.toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short"}).split(" ");return r.pop(),new Date(`${r.join(" ")} ${n}`)}const pN=(t,e)=>(i,n)=>{const r=mf(new Date(i.start),e),o=mf(new Date(i.end),e),a=r==null?void 0:r.toLocaleDateString(t,{timeZone:e,month:"short",day:"numeric",year:r.getUTCFullYear()===(o==null?void 0:o.getUTCFullYear())?void 0:"numeric"}),s=o==null?void 0:o.toLocaleDateString(t,{timeZone:e,month:"short",day:"numeric",year:"numeric"});let l;return r&&o?l=`${a} - ${s}`:r?l=`${a} -`:o?l=`- ${s}`:l=n,l},dpe=({state:t,update:e})=>{const i=n=>{const r=n.currentTarget.name,o=n.currentTarget.value;e(r,o)};return ue(RS,{className:"mzp-c-form",children:[ue("div",{className:"mzp-c-field",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-start-date",children:"From"}),P("input",{className:"mzp-c-field-control",type:"date",name:"start",id:"form-input-control-start-date",value:t.start,onChange:i})]}),ue("div",{className:"mzp-c-field",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-end-date",children:"To"}),P("input",{className:"mzp-c-field-control",type:"date",name:"end",id:"form-input-control-end-date",value:t.end,onChange:i})]})]})},fpe=({sortOptions:t,state:e,update:i,onPopupClose:n})=>{const r=o=>{const[a,s]=o.currentTarget.value.split("#");if(i("by",a),i("order",s),o.currentTarget.parentNode){const l=o.currentTarget.parentNode.textContent;l&&i("label",l)}n()};return P(RS,{className:"mzp-c-form",children:P("fieldset",{className:"mzp-c-field-set",children:P("div",{className:"mzp-c-choices",children:t.map(o=>ue("div",{className:"mzp-c-choice",children:[P("input",{className:"mzp-c-choice-control",type:"radio",id:`form-checkbox-control-${o.label}`,value:`${o.by}#${o.order}`,checked:e.label===o.label,onChange:r}),P("label",{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${o.label}`,children:o.label})]},o.label))})})})},hN=(t,e)=>{let i=e;return t.by&&t.order&&t.label&&(i=t.label),i},mN=({allBodies:t,filters:e,sortOptions:i,handlePopupClose:n})=>{const[r,o,a]=e,[s,l]=$.exports.useState(""),c=()=>t.map(f=>({name:f.id,label:f.name,disabled:!1})),d=()=>{a.setPopupIsOpen(!1),n()};return ue(upe,{children:[P("div",{children:P(gk,{name:r.name,clear:r.clear,getTextRep:r.getTextRep,isActive:r.isActive,popupIsOpen:r.popupIsOpen,setPopupIsOpen:r.setPopupIsOpen,handlePopupClose:n,closeOnChange:!1,hasLimitError:r.hasLimitError(),limit:r.limit,children:P(BX,{name:r.name,state:r.state,update:r.update,options:c(),optionQuery:s,setOptionQuery:l})})}),P("div",{children:P(gk,{name:o.name,clear:o.clear,getTextRep:o.getTextRep,isActive:o.isActive,popupIsOpen:o.popupIsOpen,setPopupIsOpen:o.setPopupIsOpen,handlePopupClose:n,closeOnChange:!1,children:P(dpe,{state:o.state,update:o.update})})}),P("div",{children:P(gk,{name:a.name,clear:a.clear,getTextRep:a.getTextRep,isActive:a.isActive,popupIsOpen:a.popupIsOpen,setPopupIsOpen:a.setPopupIsOpen,handlePopupClose:n,closeOnChange:!0,children:P(fpe,{sortOptions:i,state:a.state,update:a.update,onPopupClose:d})})})]})},Sr={font_size_1:"0.625rem",font_size_2:"0.75rem",font_size_3:"0.8125rem",font_size_4:"0.875rem",font_size_5:"1rem",font_size_6:"1.125rem",font_size_7:"1.25rem",font_size_8:"1.5rem",font_size_9:"1.625rem",font_size_10:"1.75rem"},$h=Fe.p({fontSize:Sr.font_size_6}),gN=Fe.div({display:"flex",flexDirection:"column",gap:32}),bN=({placeholder:t,query:e,setQuery:i,handleSearch:n})=>P("form",{className:"mzp-c-form",role:"search",onSubmit:a=>{a.preventDefault(),n()},children:P("input",{type:"search",placeholder:t,required:!0,"aria-required":!0,value:e,onChange:a=>i(a.target.value)})}),vN=Fe.div({display:"flex",flexDirection:"column",rowGap:32,"& > h1, & form, & input":{marginBottom:0},"& input":{width:"100%"},[`@media (min-width:${Mt.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center","& input":{width:"auto"}}}),kA=Fe.div(t=>({visibility:t.isVisible?"visible":"hidden","& > button":{width:"100%"},"& .ui.loader":{marginLeft:16},[`@media (min-width:${Mt.tablet})`]:{"& > button":{width:"auto"}}})),ppe=Fe.div({display:"grid",gap:64,gridTemplateColumns:"1fr",[`@media (min-width:${Mt.tablet})`]:{justifyContent:"space-between",gridTemplateColumns:`repeat(${2}, 1fr)`},[`@media (min-width:${Mt.desktop})`]:{gridTemplateColumns:`repeat(${3}, 1fr)`}}),eE=({cards:t})=>P(ppe,{children:t.map(({link:e,jsx:i,searchQuery:n})=>P("div",{children:P(yn,{to:{pathname:e,state:{query:n||""}},style:{textDecoration:"none",color:Ro.black,fontSize:Sr.font_size_6},children:i})},e))});var hpe="/cdp-frontend/assets/dave-hoefler-reduced-1.51b148fe.jpg",mpe="/cdp-frontend/assets/dave-hoefler-reduced-2.22148879.jpg",gpe="/cdp-frontend/assets/dave-hoefler-reduced-3.796c3192.jpg",bpe="/cdp-frontend/assets/dave-hoefler-reduced-4.d61f5fac.jpg",vpe="/cdp-frontend/assets/dave-hoefler-reduced-5.8b230200.jpg";const ype=["en","de","es"],yN=10,Oy=[hpe,mpe,gpe,bpe,vpe],wpe=({searchEventsState:t,bodies:e})=>{const{firebaseConfig:i,municipality:n}=ji(),{language:r}=jo(),o=$.exports.useRef(t.query),[a,s]=$.exports.useState(t.query);Mf(o.current?`${Ae.events} -- ${o.current}`:Ae.events);const l=Bc({name:Ae.date,initialState:t.dateRange,defaultDataValue:"",textRepFunction:pN(r,n.timeZone)}),c=Bc({name:Ae.committee,initialState:t.committees,defaultDataValue:!1,textRepFunction:r8,limit:LC}),d=Bc({name:"Sort",initialState:{by:"datetimeWeightedRelevance",order:en.desc,label:Ae.most_relevant_first},defaultDataValue:"",textRepFunction:hN}),f=$.exports.useCallback(async()=>{const E=new ope(i),z=await E.searchEvents(a),L=await Promise.all(z.map(F=>E.getRenderableEvent(F))),B=IS(c.state);let O=L.filter(({event:F})=>{var de;if(B.length&&(!((de=F.body)!=null&&de.id)||!B.includes(F.body.id)))return!1;const H=mf(new Date(l.state.start),n.timeZone),X=mf(new Date(l.state.end),n.timeZone);if(H||X){if(!F.event_datetime||H&&F.event_datetime<H)return!1;if(X){const we=new Date(X);if(we.setUTCDate(we.getUTCDate()+1),F.event_datetime>we)return!1}}return!0});return O=Yc.exports.orderBy(O,[d.state.by],[d.state.order]),Promise.resolve(O)},[a,c.state,l.state,d.state,i,n.timeZone]),h=Go.exports.useMediaQuery({query:`(min-width: ${Mt.desktop})`}),[m,v]=Nfe({batchSize:yN-(h?1:0),visibleCount:0,cards:[],fetchCards:!0,error:null},f),w=Of(),g=$.exports.useCallback(()=>{o.current=a;const E=`?q=${a.trim().replace(/\s+/g,"+")}`;history.pushState({},"",`#${w.pathname}${E}`),v({type:P2.FETCH_CARDS})},[a,w,v]),A=$.exports.useCallback(()=>v({type:P2.SHOW_MORE_CARDS}),[v]),x=$.exports.useMemo(()=>{if(m.fetchCards)return P(_a,{active:!0,size:"massive"});if(m.error)return P($h,{children:m.error.toString()});if(m.cards.length===0)return P($h,{children:Ae.no_results_found});{const E=m.cards.slice(0,m.visibleCount).map(({event:z,keyGrams:L,selectedContextSpan:B,selectedGram:O})=>({link:`/${Qr.EVENT}/${z.id}`,jsx:P(aN,{event:z,tags:L,excerpt:B,gram:O,query:o.current}),searchQuery:o.current}));return ue(Jr,{children:[P($h,{children:`${m.cards.length} ${Qr.EVENT}`}),P(eE,{cards:E})]})}},[m.fetchCards,m.error,m.cards,m.visibleCount]),T=$.exports.useMemo(()=>m.visibleCount<m.cards.length&&!m.fetchCards,[m]);return ue(gN,{children:[ue(vN,{children:[P("h1",{className:"mzp-u-title-sm",children:Ae.event_search_results}),P(bN,{placeholder:Ae.search_topic_placeholder,query:a,setQuery:s,handleSearch:g})]}),P(mN,{allBodies:e,filters:[c,l,d],sortOptions:[{by:"datetimeWeightedRelevance",order:en.desc,label:Ae.most_relevant_first},{by:"pureRelevance",order:en.desc,label:Ae.closest_match_first},{by:"event.event_datetime",order:en.desc,label:Ae.newest_first},{by:"event.event_datetime",order:en.asc,label:Ae.oldest_first}],handlePopupClose:g}),ue("p",{style:{fontSize:Sr.font_size_5},children:[Ae.disclaimer_start," ",P("a",{rel:"noopener noreferrer license external",href:"https://openai.com/research/whisper",target:"_blank",children:"OpenAI's Whisper Speech-to-Text Model"})," ",Ae.disclaimer_end," ",P("a",{rel:"noopener noreferrer license external",href:"https://cdn.openai.com/papers/whisper.pdf",target:"_blank",children:Ae.disclaimer_include_errors}),"."]}),x,P(kA,{isVisible:T,children:P("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:A,children:Ae.show_more})})]})},Ape=()=>{const t=Of(),e=$.exports.useMemo(()=>{if(t.state)return t.state;const{q:o}=Mw.parse(t.search);return{query:o||" ",committees:{},dateRange:{start:"",end:""}}},[t]),{firebaseConfig:i}=ji(),n=$.exports.useCallback(async()=>{const a=await new D6(i).getAllBodies();return Promise.resolve({bodies:a,searchEventsState:e})},[i,e]),{state:r}=bn({isLoading:!1,error:null,hasFetchRequest:!0},n);return P($f,{isLoading:r.isLoading,error:r.error,children:r.data&&P(wpe,{...r.data})})};class wN{constructor(e){this.id=e.id,this.event_ref=e.event_ref.id,this.session_datetime=Aa(e.session_datetime),this.session_index=e.session_index,this.video_uri=e.video_uri,e.caption_uri&&(this.caption_uri=e.caption_uri),typeof e.event_ref=="object"&&!(e.event_ref instanceof _t)&&(this.event=new Vc(e.event_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class xpe extends Un{constructor(e){super(Te.Session,e)}async getSessionsByEventId(e){const i=this.networkService.getDocuments(Te.Session,[xi(vt.SessionEventRef,gi.eq,$i(Xt.getDb(),Te.Event,e)),Dn("session_index")]);return this.createModels(i,wN,`getSessionsByEventId(${e})`)}}class kpe{constructor(e){this.id=e.id,this.confidence=e.confidence,this.generator=e.generator,this.created=Aa(e.created),this.file_ref=e.file_ref.id,this.session_ref=e.session_ref.id,typeof e.file_ref=="object"&&!(e.file_ref instanceof _t)&&(this.file=new hf(e.file_ref)),typeof e.session_ref=="object"&&!(e.session_ref instanceof _t)&&(this.session=new wN(e.session_ref))}}class _pe extends Un{constructor(e){super(Te.Transcript,e)}async getTranscriptBySessionId(e){const i=this.networkService.getDocuments(Te.Transcript,[xi(vt.TranscriptSessionRef,gi.eq,$i(Xt.getDb(),Te.Session,e)),Dn("created",en.desc),ou(1)],new nn([new zi(Te.File,vt.TranscriptFileRef)]));return this.createModels(i,kpe,`getTranscriptBySessionId(${e})`)}}class Fg{constructor(e){this.id=e.id,this.matter_type=e.matter_type,this.name=e.name,this.title=e.title,e.external_source_id&&(this.external_source_id=e.external_source_id)}}class Tpe{constructor(e){this.id=e.id,this.name=e.name,e.description&&(this.description=e.description),e.external_source_id&&(this.external_source_id=e.external_source_id),e.matter_ref&&(e.matter_ref instanceof _t?this.matter_ref=e.matter_ref.id:typeof e.matter_ref=="object"&&(this.matter=new Fg(e.matter_ref)))}}class _A{constructor(e){this.id=e.id,e.decision&&(this.decision=e.decision),this.event_ref=e.event_ref.id,typeof e.event_ref=="object"&&!(e.event_ref instanceof _t)&&(this.event=new Vc(e.event_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),this.index=e.index,this.minutes_item_ref=e.minutes_item_ref.id,typeof e.minutes_item_ref=="object"&&!(e.minutes_item_ref instanceof _t)&&(this.minutes_item=new Tpe(e.minutes_item_ref))}}class Spe extends Un{constructor(e){super(Te.EventMinutesItem,e)}async getEventMinutesItemsByEventId(e){const i=this.networkService.getDocuments(Te.EventMinutesItem,[xi(vt.EventMinutesItemEventRef,gi.eq,$i(Xt.getDb(),Te.Event,e)),Dn("index")],new nn([new zi(Te.MinutesItem,vt.EventMinutesItemMinutesItemRef)]));return this.createModels(i,_A,`getEventMinutesItemsByEventId(${e})`)}}class Cpe{constructor(e){this.id=e.id,this.event_minutes_item_ref=e.event_minutes_item_ref.id,typeof e.event_minutes_item_ref=="object"&&!(e.event_minutes_item_ref instanceof _t)&&(this.event_minutes_item=new _A(e.event_minutes_item_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),this.name=e.name,this.uri=e.uri}}class AN extends Un{constructor(e){super(Te.EventMinutesItemFile,e)}async getEventMinutesItemFilesByEventMinutesItemId(e){const i=this.networkService.getDocuments(Te.EventMinutesItemFile,[xi(vt.EventMinutesItemFileEventMinutesItemRef,gi.eq,$i(Xt.getDb(),Te.EventMinutesItem,e)),Dn("name")]);try{return this.createModels(i,Cpe,`getEventMinutesItemFilesByEventMinutesItemId(${e})`)}catch{return Promise.resolve([])}}}class TA{constructor(e){this.id=e.id,this.is_active=e.is_active,this.name=e.name,this.router_string=e.router_string,e.email&&(this.email=e.email),e.phone&&(this.phone=e.phone),e.website&&(this.website=e.website),e.picture_ref&&(e.picture_ref instanceof _t?this.picture_ref=e.picture_ref.id:typeof e.picture_ref=="object"&&(this.picture=new hf(e.picture_ref))),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class bk{constructor(e){this.id=e.id,this.event_minutes_item_ref=e.event_minutes_item_ref.id,this.event_ref=e.event_ref.id,this.matter_ref=e.matter_ref.id,this.person_ref=e.person_ref.id,this.decision=e.decision,typeof e.event_ref=="object"&&!(e.event_ref instanceof _t)&&(this.event=new Vc(e.event_ref)),typeof e.event_minutes_item_ref=="object"&&!(e.event_minutes_item_ref instanceof _t)&&(this.event_minutes_item=new _A(e.event_minutes_item_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),e.in_majority&&(this.in_majority=e.in_majority),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof _t)&&(this.matter=new Fg(e.matter_ref)),typeof e.person_ref=="object"&&!(e.person_ref instanceof _t)&&(this.person=new TA(e.person_ref))}}class SA extends Un{constructor(e){super(Te.Vote,e)}async getVotesByEventId(e){const i=this.networkService.getDocuments(Te.Vote,[xi(vt.VoteEventRef,gi.eq,$i(Xt.getDb(),Te.Event,e)),Dn(vt.VotePersonRef)],new nn([new zi(Te.Person,vt.VotePersonRef)]));return this.createModels(i,bk,`getVotesByEventId(${e})`)}async getVotesByEventMinutesItemId(e){const i=this.networkService.getDocuments(Te.Vote,[xi(vt.VoteEventMinutesItemRef,gi.eq,$i(Xt.getDb(),Te.EventMinutesItem,e))],new nn([new zi(Te.Person,vt.VotePersonRef)]));return this.createModels(i,bk,`getVotesByEventMinutesItemId(${e})`)}async getFullyPopulatedVotesByPersonId(e,i,n){const r=new zi(Te.Matter,vt.VoteMatterRef),o=new zi(Te.Body,vt.EventBodyRef),a=new nn([o]),s=new zi(Te.Event,vt.VoteEventRef,a),l=new zi(Te.EventMinutesItem,vt.VoteEventMinutesItemRef),c=[];if(c.push(xi(vt.VotePersonRef,gi.eq,$i(Xt.getDb(),Te.Person,e))),c.push(Dn(vt.VoteEventRef,en.asc)),n){const f=$i(Xt.getDb(),Te.Vote,n),h=await IC(f);c.push(zC(h))}c.push(ou(i));const d=this.networkService.getDocuments(Te.Vote,c,new nn([r,s,l]));return this.createModels(d,bk,`getFullyPopulatedVotesByPersonId(${e})`)}}class Epe{constructor(e){this.confidence=e.confidence,this.generator=e.generator,this.created_datetime=Aa(e.created_datetime),this.sentences=e.sentences,e.session_datetime&&(this.session_datetime=Aa(e.session_datetime)),e.annotations&&(this.annotations=e.annotations)}}class zpe extends Un{constructor(e){super(Te.TranscriptJSON,e)}async download(e){const i=this.networkService.downloadJson(e);return this.createModel(i,Epe,`download(${e})`)}}const Ng=({data:t,isLoading:e,error:i,notFound:n,children:r})=>e?P("p",{children:`Fetching ${t}...`}):i?P("p",{children:i.message}):n?P("p",{children:`No ${t} found.`}):P(Jr,{children:r});function Gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2(t){return L2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L2(t)}function eo(t,e){if(e&&(L2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}function or(t){return or=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},or(t)}function Er(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&um(t,e)}function ne(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xN(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function kN(t){function e(i){var n=this.constructor.getDerivedStateFromProps(t,i);return n!=null?n:null}this.setState(e.bind(this))}function _N(t,e){try{var i=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,n)}finally{this.props=i,this.state=n}}xN.__suppressDeprecationWarning=!0;kN.__suppressDeprecationWarning=!0;_N.__suppressDeprecationWarning=!0;function jg(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var i=null,n=null,r=null;if(typeof e.componentWillMount=="function"?i="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),i!==null||n!==null||r!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=xN,e.componentWillReceiveProps=kN),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=_N;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,d,h)}}return t}function JR(t){var e=t.cellCount,i=t.cellSize,n=t.computeMetadataCallback,r=t.computeMetadataCallbackProps,o=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,l=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;(e!==o||(typeof i=="number"||typeof a=="number")&&i!==a)&&(n(r),l>=0&&l===s&&c())}function kh(t,e){if(t==null)return{};var i=hu(t,e),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(i[n]=t[n]))}return i}var Ipe=function(){function t(e){var i=e.cellCount,n=e.cellSizeGetter,r=e.estimatedCellSize;Gi(this,t),ne(this,"_cellSizeAndPositionData",{}),ne(this,"_lastMeasuredIndex",-1),ne(this,"_lastBatchedIndex",-1),ne(this,"_cellCount",void 0),ne(this,"_cellSizeGetter",void 0),ne(this,"_estimatedCellSize",void 0),this._cellSizeGetter=n,this._cellCount=i,this._estimatedCellSize=r}return Ui(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(i){var n=i.cellCount,r=i.estimatedCellSize,o=i.cellSizeGetter;this._cellCount=n,this._estimatedCellSize=r,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(i){if(i<0||i>=this._cellCount)throw Error("Requested index ".concat(i," is outside of range 0..").concat(this._cellCount));if(i>this._lastMeasuredIndex)for(var n=this.getSizeAndPositionOfLastMeasuredCell(),r=n.offset+n.size,o=this._lastMeasuredIndex+1;o<=i;o++){var a=this._cellSizeGetter({index:o});if(a===void 0||isNaN(a))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(a));a===null?(this._cellSizeAndPositionData[o]={offset:r,size:0},this._lastBatchedIndex=i):(this._cellSizeAndPositionData[o]={offset:r,size:a},r+=a,this._lastMeasuredIndex=i)}return this._cellSizeAndPositionData[i]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var i=this.getSizeAndPositionOfLastMeasuredCell(),n=i.offset+i.size,r=this._cellCount-this._lastMeasuredIndex-1,o=r*this._estimatedCellSize;return n+o}},{key:"getUpdatedOffsetForIndex",value:function(i){var n=i.align,r=n===void 0?"auto":n,o=i.containerSize,a=i.currentOffset,s=i.targetIndex;if(o<=0)return 0;var l=this.getSizeAndPositionOfCell(s),c=l.offset,d=c-o+l.size,f;switch(r){case"start":f=c;break;case"end":f=d;break;case"center":f=c-(o-l.size)/2;break;default:f=Math.max(d,Math.min(c,a));break}var h=this.getTotalSize();return Math.max(0,Math.min(h-o,f))}},{key:"getVisibleCellRange",value:function(i){var n=i.containerSize,r=i.offset,o=this.getTotalSize();if(o===0)return{};var a=r+n,s=this._findNearestCell(r),l=this.getSizeAndPositionOfCell(s);r=l.offset+l.size;for(var c=s;r<a&&c<this._cellCount-1;)c++,r+=this.getSizeAndPositionOfCell(c).size;return{start:s,stop:c}}},{key:"resetCell",value:function(i){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,i-1)}},{key:"_binarySearch",value:function(i,n,r){for(;n<=i;){var o=n+Math.floor((i-n)/2),a=this.getSizeAndPositionOfCell(o).offset;if(a===r)return o;a<r?n=o+1:a>r&&(i=o-1)}return n>0?n-1:0}},{key:"_exponentialSearch",value:function(i,n){for(var r=1;i<this._cellCount&&this.getSizeAndPositionOfCell(i).offset<n;)i+=r,r*=2;return this._binarySearch(Math.min(i,this._cellCount-1),Math.floor(i/2),n)}},{key:"_findNearestCell",value:function(i){if(isNaN(i))throw Error("Invalid offset ".concat(i," specified"));i=Math.max(0,i);var n=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return n.offset>=i?this._binarySearch(r,0,i):this._exponentialSearch(r,i)}}]),t}(),Rpe=15e5,Ppe=16777100,Lpe=function(){return typeof window!="undefined"},Ope=function(){return!!window.chrome},Dpe=function(){return Lpe()&&Ope()?Ppe:Rpe},ZR=function(){function t(e){var i=e.maxScrollSize,n=i===void 0?Dpe():i,r=kh(e,["maxScrollSize"]);Gi(this,t),ne(this,"_cellSizeAndPositionManager",void 0),ne(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Ipe(r),this._maxScrollSize=n}return Ui(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(i){this._cellSizeAndPositionManager.configure(i)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:a});return Math.round(s*(a-o))}},{key:"getSizeAndPositionOfCell",value:function(i){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(i)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(i){var n=i.align,r=n===void 0?"auto":n,o=i.containerSize,a=i.currentOffset,s=i.targetIndex;a=this._safeOffsetToOffset({containerSize:o,offset:a});var l=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:o,currentOffset:a,targetIndex:s});return this._offsetToSafeOffset({containerSize:o,offset:l})}},{key:"getVisibleCellRange",value:function(i){var n=i.containerSize,r=i.offset;return r=this._safeOffsetToOffset({containerSize:n,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:n,offset:r})}},{key:"resetCell",value:function(i){this._cellSizeAndPositionManager.resetCell(i)}},{key:"_getOffsetPercentage",value:function(i){var n=i.containerSize,r=i.offset,o=i.totalSize;return o<=n?0:r/(o-n)}},{key:"_offsetToSafeOffset",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:o});return Math.round(s*(a-n))}},{key:"_safeOffsetToOffset",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:a});return Math.round(s*(o-n))}}]),t}();function gf(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(i){var n=i.callback,r=i.indices,o=Object.keys(r),a=!t||o.every(function(l){var c=r[l];return Array.isArray(c)?c.length>0:c>=0}),s=o.length!==Object.keys(e).length||o.some(function(l){var c=e[l],d=r[l];return Array.isArray(d)?c.join(",")!==d.join(","):c!==d});e=r,a&&s&&n(r)}}var N0=-1,Ja=1;function Mpe(t){var e=t.cellCount,i=t.overscanCellsCount,n=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return n===Ja?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(e-1,o+i)}:{overscanStartIndex:Math.max(0,r-i),overscanStopIndex:Math.min(e-1,o)}}function eP(t){var e=t.cellSize,i=t.cellSizeAndPositionManager,n=t.previousCellsCount,r=t.previousCellSize,o=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,l=t.scrollOffset,c=t.scrollToAlignment,d=t.scrollToIndex,f=t.size,h=t.sizeJustIncreasedFromZero,m=t.updateScrollIndexCallback,v=i.getCellCount(),w=d>=0&&d<v,g=f!==s||h||!r||typeof e=="number"&&e!==r;w&&(g||c!==o||d!==a)?m(d):!w&&v>0&&(f<s||v<n)&&l>i.getTotalSize()-f&&m(v-1)}function Bpe(t){for(var e=t.cellCache,i=t.cellRenderer,n=t.columnSizeAndPositionManager,r=t.columnStartIndex,o=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,l=t.isScrolling,c=t.isScrollingOptOut,d=t.parent,f=t.rowSizeAndPositionManager,h=t.rowStartIndex,m=t.rowStopIndex,v=t.styleCache,w=t.verticalOffsetAdjustment,g=t.visibleColumnIndices,A=t.visibleRowIndices,x=[],T=n.areOffsetsAdjusted()||f.areOffsetsAdjusted(),E=!l&&!T,z=h;z<=m;z++)for(var L=f.getSizeAndPositionOfCell(z),B=r;B<=o;B++){var O=n.getSizeAndPositionOfCell(B),F=B>=g.start&&B<=g.stop&&z>=A.start&&z<=A.stop,H="".concat(z,"-").concat(B),X=void 0;E&&v[H]?X=v[H]:a&&!a.has(z,B)?X={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(X={height:L.size,left:O.offset+s,position:"absolute",top:L.offset+w,width:O.size},v[H]=X);var de={columnIndex:B,isScrolling:l,isVisible:F,key:H,parent:d,rowIndex:z,style:X},we=void 0;(c||l)&&!s&&!w?(e[H]||(e[H]=i(de)),we=e[H]):we=i(de),!(we==null||we===!1)&&x.push(we)}return x}var Fpe=!!(typeof window!="undefined"&&window.document&&window.document.createElement),j0;function O2(t){if((!j0&&j0!==0||t)&&Fpe){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),j0=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return j0}var qn;typeof window!="undefined"?qn=window:typeof self!="undefined"?qn=self:qn={};var Npe=qn.requestAnimationFrame||qn.webkitRequestAnimationFrame||qn.mozRequestAnimationFrame||qn.oRequestAnimationFrame||qn.msRequestAnimationFrame||function(t){return qn.setTimeout(t,1e3/60)},jpe=qn.cancelAnimationFrame||qn.webkitCancelAnimationFrame||qn.mozCancelAnimationFrame||qn.oCancelAnimationFrame||qn.msCancelAnimationFrame||function(t){qn.clearTimeout(t)},tP=Npe,Upe=jpe,bf=function(e){return Upe(e.id)},tE=function(e,i){var n;Promise.resolve().then(function(){n=Date.now()});var r=function a(){Date.now()-n>=i?e.call():o.id=tP(a)},o={id:tP(r)};return o},iP,nP;function rP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function fc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?rP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Gpe=150,vk={OBSERVED:"observed",REQUESTED:"requested"},Hpe=function(){return null},rl=(nP=iP=function(t){Er(e,t);function e(i){var n;Gi(this,e),n=eo(this,or(e).call(this,i)),ne(re(n),"_onGridRenderedMemoizer",gf()),ne(re(n),"_onScrollMemoizer",gf(!1)),ne(re(n),"_deferredInvalidateColumnIndex",null),ne(re(n),"_deferredInvalidateRowIndex",null),ne(re(n),"_recomputeScrollLeftFlag",!1),ne(re(n),"_recomputeScrollTopFlag",!1),ne(re(n),"_horizontalScrollBarSize",0),ne(re(n),"_verticalScrollBarSize",0),ne(re(n),"_scrollbarPresenceChanged",!1),ne(re(n),"_scrollingContainer",void 0),ne(re(n),"_childrenToDisplay",void 0),ne(re(n),"_columnStartIndex",void 0),ne(re(n),"_columnStopIndex",void 0),ne(re(n),"_rowStartIndex",void 0),ne(re(n),"_rowStopIndex",void 0),ne(re(n),"_renderedColumnStartIndex",0),ne(re(n),"_renderedColumnStopIndex",0),ne(re(n),"_renderedRowStartIndex",0),ne(re(n),"_renderedRowStopIndex",0),ne(re(n),"_initialScrollTop",void 0),ne(re(n),"_initialScrollLeft",void 0),ne(re(n),"_disablePointerEventsTimeoutId",void 0),ne(re(n),"_styleCache",{}),ne(re(n),"_cellCache",{}),ne(re(n),"_debounceScrollEndedCallback",function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})}),ne(re(n),"_invokeOnGridRenderedHelper",function(){var a=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:a,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})}),ne(re(n),"_setScrollingContainerRef",function(a){n._scrollingContainer=a}),ne(re(n),"_onScroll",function(a){a.target===n._scrollingContainer&&n.handleScrollEvent(a.target)});var r=new ZR({cellCount:i.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(i.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(i)}),o=new ZR({cellCount:i.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(i.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(i)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:i.columnWidth,prevRowHeight:i.rowHeight,prevColumnCount:i.columnCount,prevRowCount:i.rowCount,prevIsScrolling:i.isScrolling===!0,prevScrollToColumn:i.scrollToColumn,prevScrollToRow:i.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Ja,scrollDirectionVertical:Ja,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},i.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(i,n.state)),i.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(i,n.state)),n}return Ui(e,[{key:"getOffsetForCell",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.alignment,o=r===void 0?this.props.scrollToAlignment:r,a=n.columnIndex,s=a===void 0?this.props.scrollToColumn:a,l=n.rowIndex,c=l===void 0?this.props.scrollToRow:l,d=fc({},this.props,{scrollToAlignment:o,scrollToColumn:s,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(d),scrollTop:this._getCalculatedScrollTop(d)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(n){var r=n.scrollLeft,o=r===void 0?0:r,a=n.scrollTop,s=a===void 0?0:a;if(!(s<0)){this._debounceScrollEnded();var l=this.props,c=l.autoHeight,d=l.autoWidth,f=l.height,h=l.width,m=this.state.instanceProps,v=m.scrollbarSize,w=m.rowSizeAndPositionManager.getTotalSize(),g=m.columnSizeAndPositionManager.getTotalSize(),A=Math.min(Math.max(0,g-h+v),o),x=Math.min(Math.max(0,w-f+v),s);if(this.state.scrollLeft!==A||this.state.scrollTop!==x){var T=A!==this.state.scrollLeft?A>this.state.scrollLeft?Ja:N0:this.state.scrollDirectionHorizontal,E=x!==this.state.scrollTop?x>this.state.scrollTop?Ja:N0:this.state.scrollDirectionVertical,z={isScrolling:!0,scrollDirectionHorizontal:T,scrollDirectionVertical:E,scrollPositionChangeReason:vk.OBSERVED};c||(z.scrollTop=x),d||(z.scrollLeft=A),z.needToResetStyleCache=!1,this.setState(z)}this._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:x,totalColumnsWidth:g,totalRowsHeight:w})}}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var n=this.props,r=n.columnCount,o=n.rowCount,a=this.state.instanceProps;a.columnSizeAndPositionManager.getSizeAndPositionOfCell(r-1),a.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a,l=this.props,c=l.scrollToColumn,d=l.scrollToRow,f=this.state.instanceProps;f.columnSizeAndPositionManager.resetCell(o),f.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===Ja?o<=c:o>=c),this._recomputeScrollTopFlag=d>=0&&(this.state.scrollDirectionVertical===Ja?s<=d:s>=d),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(n){var r=n.columnIndex,o=n.rowIndex,a=this.props.columnCount,s=this.props;a>1&&r!==void 0&&this._updateScrollLeftForScrollToColumn(fc({},s,{scrollToColumn:r})),o!==void 0&&this._updateScrollTopForScrollToRow(fc({},s,{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var n=this.props,r=n.getScrollbarSize,o=n.height,a=n.scrollLeft,s=n.scrollToColumn,l=n.scrollTop,c=n.scrollToRow,d=n.width,f=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),f.scrollbarSizeMeasured||this.setState(function(v){var w=fc({},v,{needToResetStyleCache:!1});return w.instanceProps.scrollbarSize=r(),w.instanceProps.scrollbarSizeMeasured=!0,w}),typeof a=="number"&&a>=0||typeof l=="number"&&l>=0){var h=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:l});h&&(h.needToResetStyleCache=!1,this.setState(h))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var m=o>0&&d>0;s>=0&&m&&this._updateScrollLeftForScrollToColumn(),c>=0&&m&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:a||0,scrollTop:l||0,totalColumnsWidth:f.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:f.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(n,r){var o=this,a=this.props,s=a.autoHeight,l=a.autoWidth,c=a.columnCount,d=a.height,f=a.rowCount,h=a.scrollToAlignment,m=a.scrollToColumn,v=a.scrollToRow,w=a.width,g=this.state,A=g.scrollLeft,x=g.scrollPositionChangeReason,T=g.scrollTop,E=g.instanceProps;this._handleInvalidatedGridSize();var z=c>0&&n.columnCount===0||f>0&&n.rowCount===0;x===vk.REQUESTED&&(!l&&A>=0&&(A!==this._scrollingContainer.scrollLeft||z)&&(this._scrollingContainer.scrollLeft=A),!s&&T>=0&&(T!==this._scrollingContainer.scrollTop||z)&&(this._scrollingContainer.scrollTop=T));var L=(n.width===0||n.height===0)&&d>0&&w>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):eP({cellSizeAndPositionManager:E.columnSizeAndPositionManager,previousCellsCount:n.columnCount,previousCellSize:n.columnWidth,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToColumn,previousSize:n.width,scrollOffset:A,scrollToAlignment:h,scrollToIndex:m,size:w,sizeJustIncreasedFromZero:L,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):eP({cellSizeAndPositionManager:E.rowSizeAndPositionManager,previousCellsCount:n.rowCount,previousCellSize:n.rowHeight,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToRow,previousSize:n.height,scrollOffset:T,scrollToAlignment:h,scrollToIndex:v,size:d,sizeJustIncreasedFromZero:L,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),A!==r.scrollLeft||T!==r.scrollTop){var B=E.rowSizeAndPositionManager.getTotalSize(),O=E.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:T,totalColumnsWidth:O,totalRowsHeight:B})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&bf(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,r=n.autoContainerWidth,o=n.autoHeight,a=n.autoWidth,s=n.className,l=n.containerProps,c=n.containerRole,d=n.containerStyle,f=n.height,h=n.id,m=n.noContentRenderer,v=n.role,w=n.style,g=n.tabIndex,A=n.width,x=this.state,T=x.instanceProps,E=x.needToResetStyleCache,z=this._isScrolling(),L={boxSizing:"border-box",direction:"ltr",height:o?"auto":f,position:"relative",width:a?"auto":A,WebkitOverflowScrolling:"touch",willChange:"transform"};E&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var B=T.columnSizeAndPositionManager.getTotalSize(),O=T.rowSizeAndPositionManager.getTotalSize(),F=O>f?T.scrollbarSize:0,H=B>A?T.scrollbarSize:0;(H!==this._horizontalScrollBarSize||F!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=H,this._verticalScrollBarSize=F,this._scrollbarPresenceChanged=!0),L.overflowX=B+F<=A?"hidden":"auto",L.overflowY=O+H<=f?"hidden":"auto";var X=this._childrenToDisplay,de=X.length===0&&f>0&&A>0;return $.exports.createElement("div",Me({ref:this._setScrollingContainerRef},l,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:rt("ReactVirtualized__Grid",s),id:h,onScroll:this._onScroll,role:v,style:fc({},L,{},w),tabIndex:g}),X.length>0&&$.exports.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:fc({width:r?"auto":B,height:O,maxWidth:B,maxHeight:O,overflow:"hidden",pointerEvents:z?"none":"",position:"relative"},d)},X),de&&m())}},{key:"_calculateChildrenToRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=n.cellRenderer,a=n.cellRangeRenderer,s=n.columnCount,l=n.deferredMeasurementCache,c=n.height,d=n.overscanColumnCount,f=n.overscanIndicesGetter,h=n.overscanRowCount,m=n.rowCount,v=n.width,w=n.isScrollingOptOut,g=r.scrollDirectionHorizontal,A=r.scrollDirectionVertical,x=r.instanceProps,T=this._initialScrollTop>0?this._initialScrollTop:r.scrollTop,E=this._initialScrollLeft>0?this._initialScrollLeft:r.scrollLeft,z=this._isScrolling(n,r);if(this._childrenToDisplay=[],c>0&&v>0){var L=x.columnSizeAndPositionManager.getVisibleCellRange({containerSize:v,offset:E}),B=x.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:T}),O=x.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:v,offset:E}),F=x.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:T});this._renderedColumnStartIndex=L.start,this._renderedColumnStopIndex=L.stop,this._renderedRowStartIndex=B.start,this._renderedRowStopIndex=B.stop;var H=f({direction:"horizontal",cellCount:s,overscanCellsCount:d,scrollDirection:g,startIndex:typeof L.start=="number"?L.start:0,stopIndex:typeof L.stop=="number"?L.stop:-1}),X=f({direction:"vertical",cellCount:m,overscanCellsCount:h,scrollDirection:A,startIndex:typeof B.start=="number"?B.start:0,stopIndex:typeof B.stop=="number"?B.stop:-1}),de=H.overscanStartIndex,we=H.overscanStopIndex,Ee=X.overscanStartIndex,_e=X.overscanStopIndex;if(l){if(!l.hasFixedHeight()){for(var Ne=Ee;Ne<=_e;Ne++)if(!l.has(Ne,0)){de=0,we=s-1;break}}if(!l.hasFixedWidth()){for(var Be=de;Be<=we;Be++)if(!l.has(0,Be)){Ee=0,_e=m-1;break}}}this._childrenToDisplay=a({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:x.columnSizeAndPositionManager,columnStartIndex:de,columnStopIndex:we,deferredMeasurementCache:l,horizontalOffsetAdjustment:O,isScrolling:z,isScrollingOptOut:w,parent:this,rowSizeAndPositionManager:x.rowSizeAndPositionManager,rowStartIndex:Ee,rowStopIndex:_e,scrollLeft:E,scrollTop:T,styleCache:this._styleCache,verticalOffsetAdjustment:F,visibleColumnIndices:L,visibleRowIndices:B}),this._columnStartIndex=de,this._columnStopIndex=we,this._rowStartIndex=Ee,this._rowStopIndex=_e}}},{key:"_debounceScrollEnded",value:function(){var n=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&bf(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=tE(this._debounceScrollEndedCallback,n)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var n=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:r})}}},{key:"_invokeOnScrollMemoizer",value:function(n){var r=this,o=n.scrollLeft,a=n.scrollTop,s=n.totalColumnsWidth,l=n.totalRowsHeight;this._onScrollMemoizer({callback:function(d){var f=d.scrollLeft,h=d.scrollTop,m=r.props,v=m.height,w=m.onScroll,g=m.width;w({clientHeight:v,clientWidth:g,scrollHeight:l,scrollLeft:f,scrollTop:h,scrollWidth:s})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_isScrolling",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(n,"isScrolling")?Boolean(n.isScrolling):Boolean(r.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var n=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,n({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(n){var r=n.scrollLeft,o=n.scrollTop,a=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:o});a&&(a.needToResetStyleCache=!1,this.setState(a))}},{key:"_getCalculatedScrollLeft",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(n,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(n,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(n,r)}},{key:"_resetStyleCache",value:function(){var n=this._styleCache,r=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var a=this._rowStartIndex;a<=this._rowStopIndex;a++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var l="".concat(a,"-").concat(s);this._styleCache[l]=n[l],o&&(this._cellCache[l]=r[l])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(n,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(n,r){var o={};n.columnCount===0&&r.scrollLeft!==0||n.rowCount===0&&r.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(n.scrollLeft!==r.scrollLeft&&n.scrollToColumn<0||n.scrollTop!==r.scrollTop&&n.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}));var a=r.instanceProps;o.needToResetStyleCache=!1,(n.columnWidth!==a.prevColumnWidth||n.rowHeight!==a.prevRowHeight)&&(o.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:n.columnCount,estimatedCellSize:e._getEstimatedColumnSize(n),cellSizeGetter:e._wrapSizeGetter(n.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:n.rowCount,estimatedCellSize:e._getEstimatedRowSize(n),cellSizeGetter:e._wrapSizeGetter(n.rowHeight)}),(a.prevColumnCount===0||a.prevRowCount===0)&&(a.prevColumnCount=0,a.prevRowCount=0),n.autoHeight&&n.isScrolling===!1&&a.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var s,l;return JR({cellCount:a.prevColumnCount,cellSize:typeof a.prevColumnWidth=="number"?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.columnCount,nextCellSize:typeof n.columnWidth=="number"?n.columnWidth:null,nextScrollToIndex:n.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(n,r)}}),JR({cellCount:a.prevRowCount,cellSize:typeof a.prevRowHeight=="number"?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.rowCount,nextCellSize:typeof n.rowHeight=="number"?n.rowHeight:null,nextScrollToIndex:n.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){l=e._getScrollTopForScrollToRowStateUpdate(n,r)}}),a.prevColumnCount=n.columnCount,a.prevColumnWidth=n.columnWidth,a.prevIsScrolling=n.isScrolling===!0,a.prevRowCount=n.rowCount,a.prevRowHeight=n.rowHeight,a.prevScrollToColumn=n.scrollToColumn,a.prevScrollToRow=n.scrollToRow,a.scrollbarSize=n.getScrollbarSize(),a.scrollbarSize===void 0?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,o.instanceProps=a,fc({},o,{},s,{},l)}},{key:"_getEstimatedColumnSize",value:function(n){return typeof n.columnWidth=="number"?n.columnWidth:n.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(n){return typeof n.rowHeight=="number"?n.rowHeight:n.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(n){var r=n.prevState,o=n.scrollLeft,a=n.scrollTop,s={scrollPositionChangeReason:vk.REQUESTED};return typeof o=="number"&&o>=0&&(s.scrollDirectionHorizontal=o>r.scrollLeft?Ja:N0,s.scrollLeft=o),typeof a=="number"&&a>=0&&(s.scrollDirectionVertical=a>r.scrollTop?Ja:N0,s.scrollTop=a),typeof o=="number"&&o>=0&&o!==r.scrollLeft||typeof a=="number"&&a>=0&&a!==r.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(n){return typeof n=="function"?n:function(){return n}}},{key:"_getCalculatedScrollLeft",value:function(n,r){var o=n.columnCount,a=n.height,s=n.scrollToAlignment,l=n.scrollToColumn,c=n.width,d=r.scrollLeft,f=r.instanceProps;if(o>0){var h=o-1,m=l<0?h:Math.min(h,l),v=f.rowSizeAndPositionManager.getTotalSize(),w=f.scrollbarSizeMeasured&&v>a?f.scrollbarSize:0;return f.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:c-w,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(n,r){var o=r.scrollLeft,a=e._getCalculatedScrollLeft(n,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:a,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(n,r){var o=n.height,a=n.rowCount,s=n.scrollToAlignment,l=n.scrollToRow,c=n.width,d=r.scrollTop,f=r.instanceProps;if(a>0){var h=a-1,m=l<0?h:Math.min(h,l),v=f.columnSizeAndPositionManager.getTotalSize(),w=f.scrollbarSizeMeasured&&v>c?f.scrollbarSize:0;return f.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:o-w,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(n,r){var o=r.scrollTop,a=e._getCalculatedScrollTop(n,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:a}):{}}}]),e}($.exports.PureComponent),ne(iP,"propTypes",null),nP);ne(rl,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Bpe,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:O2,noContentRenderer:Hpe,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:Mpe,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Gpe,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});jg(rl);var Wpe=1;function TN(t){var e=t.cellCount,i=t.overscanCellsCount,n=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return i=Math.max(1,i),n===Wpe?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(e-1,o+i)}:{overscanStartIndex:Math.max(0,r-i),overscanStopIndex:Math.min(e-1,o+1)}}var oP,aP;function sP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Ype(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?sP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):sP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var SN=(aP=oP=function(t){Er(e,t);function e(){var i,n;Gi(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=eo(this,(i=or(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),ne(re(n),"_columnStartIndex",0),ne(re(n),"_columnStopIndex",0),ne(re(n),"_rowStartIndex",0),ne(re(n),"_rowStopIndex",0),ne(re(n),"_onKeyDown",function(s){var l=n.props,c=l.columnCount,d=l.disabled,f=l.mode,h=l.rowCount;if(!d){var m=n._getScrollState(),v=m.scrollToColumn,w=m.scrollToRow,g=n._getScrollState(),A=g.scrollToColumn,x=g.scrollToRow;switch(s.key){case"ArrowDown":x=Math.min(f==="cells"?x+1:n._rowStopIndex+1,h-1);break;case"ArrowLeft":A=Math.max(f==="cells"?A-1:n._columnStartIndex-1,0);break;case"ArrowRight":A=Math.min(f==="cells"?A+1:n._columnStopIndex+1,c-1);break;case"ArrowUp":x=Math.max(f==="cells"?x-1:n._rowStartIndex-1,0);break}(A!==v||x!==w)&&(s.preventDefault(),n._updateScrollState({scrollToColumn:A,scrollToRow:x}))}}),ne(re(n),"_onSectionRendered",function(s){var l=s.columnStartIndex,c=s.columnStopIndex,d=s.rowStartIndex,f=s.rowStopIndex;n._columnStartIndex=l,n._columnStopIndex=c,n._rowStartIndex=d,n._rowStopIndex=f}),n}return Ui(e,[{key:"setScrollIndexes",value:function(n){var r=n.scrollToColumn,o=n.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:r})}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.children,a=this._getScrollState(),s=a.scrollToColumn,l=a.scrollToRow;return $.exports.createElement("div",{className:r,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:l}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(n){var r=n.scrollToColumn,o=n.scrollToRow,a=this.props,s=a.isControlled,l=a.onScrollToChange;typeof l=="function"&&l({scrollToColumn:r,scrollToRow:o}),s||this.setState({scrollToColumn:r,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.isControlled?{}:n.scrollToColumn!==r.instanceProps.prevScrollToColumn||n.scrollToRow!==r.instanceProps.prevScrollToRow?Ype({},r,{scrollToColumn:n.scrollToColumn,scrollToRow:n.scrollToRow,instanceProps:{prevScrollToColumn:n.scrollToColumn,prevScrollToRow:n.scrollToRow}}):{}}}]),e}($.exports.PureComponent),ne(oP,"propTypes",null),aP);ne(SN,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});jg(SN);function CN(t,e){var i;typeof e!="undefined"?i=e:typeof window!="undefined"?i=window:typeof self!="undefined"?i=self:i=global;var n=typeof i.document!="undefined"&&i.document.attachEvent;if(!n){var r=function(){var B=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||function(O){return i.setTimeout(O,20)};return function(O){return B(O)}}(),o=function(){var B=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.clearTimeout;return function(O){return B(O)}}(),a=function(O){var F=O.__resizeTriggers__,H=F.firstElementChild,X=F.lastElementChild,de=H.firstElementChild;X.scrollLeft=X.scrollWidth,X.scrollTop=X.scrollHeight,de.style.width=H.offsetWidth+1+"px",de.style.height=H.offsetHeight+1+"px",H.scrollLeft=H.scrollWidth,H.scrollTop=H.scrollHeight},s=function(O){return O.offsetWidth!=O.__resizeLast__.width||O.offsetHeight!=O.__resizeLast__.height},l=function(O){if(!(O.target.className&&typeof O.target.className.indexOf=="function"&&O.target.className.indexOf("contract-trigger")<0&&O.target.className.indexOf("expand-trigger")<0)){var F=this;a(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=r(function(){s(F)&&(F.__resizeLast__.width=F.offsetWidth,F.__resizeLast__.height=F.offsetHeight,F.__resizeListeners__.forEach(function(H){H.call(F,O)}))})}},c=!1,d="",f="animationstart",h="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v="";{var w=i.document.createElement("fakeelement");if(w.style.animationName!==void 0&&(c=!0),c===!1){for(var g=0;g<h.length;g++)if(w.style[h[g]+"AnimationName"]!==void 0){v=h[g],d="-"+v.toLowerCase()+"-",f=m[g],c=!0;break}}}var A="resizeanim",x="@"+d+"keyframes "+A+" { from { opacity: 0; } to { opacity: 0; } } ",T=d+"animation: 1ms "+A+"; "}var E=function(O){if(!O.getElementById("detectElementResize")){var F=(x||"")+".resize-triggers { "+(T||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',H=O.head||O.getElementsByTagName("head")[0],X=O.createElement("style");X.id="detectElementResize",X.type="text/css",t!=null&&X.setAttribute("nonce",t),X.styleSheet?X.styleSheet.cssText=F:X.appendChild(O.createTextNode(F)),H.appendChild(X)}},z=function(O,F){if(n)O.attachEvent("onresize",F);else{if(!O.__resizeTriggers__){var H=O.ownerDocument,X=i.getComputedStyle(O);X&&X.position=="static"&&(O.style.position="relative"),E(H),O.__resizeLast__={},O.__resizeListeners__=[],(O.__resizeTriggers__=H.createElement("div")).className="resize-triggers";var de='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var we=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return de}});O.__resizeTriggers__.innerHTML=we.createHTML("")}else O.__resizeTriggers__.innerHTML=de;O.appendChild(O.__resizeTriggers__),a(O),O.addEventListener("scroll",l,!0),f&&(O.__resizeTriggers__.__animationListener__=function(_e){_e.animationName==A&&a(O)},O.__resizeTriggers__.addEventListener(f,O.__resizeTriggers__.__animationListener__))}O.__resizeListeners__.push(F)}},L=function(O,F){if(n)O.detachEvent("onresize",F);else if(O.__resizeListeners__.splice(O.__resizeListeners__.indexOf(F),1),!O.__resizeListeners__.length){O.removeEventListener("scroll",l,!0),O.__resizeTriggers__.__animationListener__&&(O.__resizeTriggers__.removeEventListener(f,O.__resizeTriggers__.__animationListener__),O.__resizeTriggers__.__animationListener__=null);try{O.__resizeTriggers__=!O.removeChild(O.__resizeTriggers__)}catch{}}};return{addResizeListener:z,removeResizeListener:L}}var lP,cP;function uP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Vpe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?uP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):uP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var EN=(cP=lP=function(t){Er(e,t);function e(){var i,n;Gi(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=eo(this,(i=or(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),ne(re(n),"_parentNode",void 0),ne(re(n),"_autoSizer",void 0),ne(re(n),"_window",void 0),ne(re(n),"_detectElementResize",void 0),ne(re(n),"_onResize",function(){var s=n.props,l=s.disableHeight,c=s.disableWidth,d=s.onResize;if(n._parentNode){var f=n._parentNode.offsetHeight||0,h=n._parentNode.offsetWidth||0,m=n._window||window,v=m.getComputedStyle(n._parentNode)||{},w=parseInt(v.paddingLeft,10)||0,g=parseInt(v.paddingRight,10)||0,A=parseInt(v.paddingTop,10)||0,x=parseInt(v.paddingBottom,10)||0,T=f-A-x,E=h-w-g;(!l&&n.state.height!==T||!c&&n.state.width!==E)&&(n.setState({height:f-A-x,width:h-w-g}),d({height:f,width:h}))}}),ne(re(n),"_setRef",function(s){n._autoSizer=s}),n}return Ui(e,[{key:"componentDidMount",value:function(){var n=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=CN(n,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var n=this.props,r=n.children,o=n.className,a=n.disableHeight,s=n.disableWidth,l=n.style,c=this.state,d=c.height,f=c.width,h={overflow:"visible"},m={};return a||(h.height=0,m.height=d),s||(h.width=0,m.width=f),$.exports.createElement("div",{className:o,ref:this._setRef,style:Vpe({},h,{},l)},r(m))}}]),e}($.exports.Component),ne(lP,"propTypes",null),cP);ne(EN,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var dP,fP,zN=(fP=dP=function(t){Er(e,t);function e(){var i,n;Gi(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=eo(this,(i=or(e)).call.apply(i,[this].concat(o))),ne(re(n),"_child",void 0),ne(re(n),"_measure",function(){var s=n.props,l=s.cache,c=s.columnIndex,d=c===void 0?0:c,f=s.parent,h=s.rowIndex,m=h===void 0?n.props.index||0:h,v=n._getCellMeasurements(),w=v.height,g=v.width;(w!==l.getHeight(m,d)||g!==l.getWidth(m,d))&&(l.set(m,d,g,w),f&&typeof f.recomputeGridSize=="function"&&f.recomputeGridSize({columnIndex:d,rowIndex:m}))}),ne(re(n),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=s,s&&n._maybeMeasureCell()}),n}return Ui(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var n=this.props.children;return typeof n=="function"?n({measure:this._measure,registerChild:this._registerChild}):n}},{key:"_getCellMeasurements",value:function(){var n=this.props.cache,r=this._child||yl.exports.findDOMNode(this);if(r&&r.ownerDocument&&r.ownerDocument.defaultView&&r instanceof r.ownerDocument.defaultView.HTMLElement){var o=r.style.width,a=r.style.height;n.hasFixedWidth()||(r.style.width="auto"),n.hasFixedHeight()||(r.style.height="auto");var s=Math.ceil(r.offsetHeight),l=Math.ceil(r.offsetWidth);return o&&(r.style.width=o),a&&(r.style.height=a),{height:s,width:l}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var n=this.props,r=n.cache,o=n.columnIndex,a=o===void 0?0:o,s=n.parent,l=n.rowIndex,c=l===void 0?this.props.index||0:l;if(!r.has(c,a)){var d=this._getCellMeasurements(),f=d.height,h=d.width;r.set(c,a,h,f),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:a,rowIndex:c})}}}]),e}($.exports.PureComponent),ne(dP,"propTypes",null),fP);ne(zN,"__internalCellMeasurerFlag",!1);var $pe=30,Qpe=100,qpe=function(){function t(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gi(this,t),ne(this,"_cellHeightCache",{}),ne(this,"_cellWidthCache",{}),ne(this,"_columnWidthCache",{}),ne(this,"_rowHeightCache",{}),ne(this,"_defaultHeight",void 0),ne(this,"_defaultWidth",void 0),ne(this,"_minHeight",void 0),ne(this,"_minWidth",void 0),ne(this,"_keyMapper",void 0),ne(this,"_hasFixedHeight",void 0),ne(this,"_hasFixedWidth",void 0),ne(this,"_columnCount",0),ne(this,"_rowCount",0),ne(this,"columnWidth",function(d){var f=d.index,h=e._keyMapper(0,f);return e._columnWidthCache[h]!==void 0?e._columnWidthCache[h]:e._defaultWidth}),ne(this,"rowHeight",function(d){var f=d.index,h=e._keyMapper(f,0);return e._rowHeightCache[h]!==void 0?e._rowHeightCache[h]:e._defaultHeight});var n=i.defaultHeight,r=i.defaultWidth,o=i.fixedHeight,a=i.fixedWidth,s=i.keyMapper,l=i.minHeight,c=i.minWidth;this._hasFixedHeight=o===!0,this._hasFixedWidth=a===!0,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=s||Kpe,this._defaultHeight=Math.max(this._minHeight,typeof n=="number"?n:$pe),this._defaultWidth=Math.max(this._minWidth,typeof r=="number"?r:Qpe)}return Ui(t,[{key:"clear",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=this._keyMapper(i,n);delete this._cellHeightCache[r],delete this._cellWidthCache[r],this._updateCachedColumnAndRowSizes(i,n)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var r=this._keyMapper(i,n);return this._cellHeightCache[r]!==void 0?Math.max(this._minHeight,this._cellHeightCache[r]):this._defaultHeight}},{key:"getWidth",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var r=this._keyMapper(i,n);return this._cellWidthCache[r]!==void 0?Math.max(this._minWidth,this._cellWidthCache[r]):this._defaultWidth}},{key:"has",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=this._keyMapper(i,n);return this._cellHeightCache[r]!==void 0}},{key:"set",value:function(i,n,r,o){var a=this._keyMapper(i,n);n>=this._columnCount&&(this._columnCount=n+1),i>=this._rowCount&&(this._rowCount=i+1),this._cellHeightCache[a]=o,this._cellWidthCache[a]=r,this._updateCachedColumnAndRowSizes(i,n)}},{key:"_updateCachedColumnAndRowSizes",value:function(i,n){if(!this._hasFixedWidth){for(var r=0,o=0;o<this._rowCount;o++)r=Math.max(r,this.getWidth(o,n));var a=this._keyMapper(0,n);this._columnWidthCache[a]=r}if(!this._hasFixedHeight){for(var s=0,l=0;l<this._columnCount;l++)s=Math.max(s,this.getHeight(i,l));var c=this._keyMapper(i,0);this._rowHeightCache[c]=s}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),t}();function Kpe(t,e){return"".concat(t,"-").concat(e)}function pP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Xpe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?pP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Jpe=150,Xu={OBSERVED:"observed",REQUESTED:"requested"},CA=function(t){Er(e,t);function e(){var i,n;Gi(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=eo(this,(i=or(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),ne(re(n),"_calculateSizeAndPositionDataOnNextUpdate",!1),ne(re(n),"_onSectionRenderedMemoizer",gf()),ne(re(n),"_onScrollMemoizer",gf(!1)),ne(re(n),"_invokeOnSectionRenderedHelper",function(){var s=n.props,l=s.cellLayoutManager,c=s.onSectionRendered;n._onSectionRenderedMemoizer({callback:c,indices:{indices:l.getLastRenderedIndices()}})}),ne(re(n),"_setScrollingContainerRef",function(s){n._scrollingContainer=s}),ne(re(n),"_updateScrollPositionForScrollToCell",function(){var s=n.props,l=s.cellLayoutManager,c=s.height,d=s.scrollToAlignment,f=s.scrollToCell,h=s.width,m=n.state,v=m.scrollLeft,w=m.scrollTop;if(f>=0){var g=l.getScrollPositionForCell({align:d,cellIndex:f,height:c,scrollLeft:v,scrollTop:w,width:h});(g.scrollLeft!==v||g.scrollTop!==w)&&n._setScrollPosition(g)}}),ne(re(n),"_onScroll",function(s){if(s.target===n._scrollingContainer){n._enablePointerEventsAfterDelay();var l=n.props,c=l.cellLayoutManager,d=l.height,f=l.isScrollingChange,h=l.width,m=n._scrollbarSize,v=c.getTotalSize(),w=v.height,g=v.width,A=Math.max(0,Math.min(g-h+m,s.target.scrollLeft)),x=Math.max(0,Math.min(w-d+m,s.target.scrollTop));if(n.state.scrollLeft!==A||n.state.scrollTop!==x){var T=s.cancelable?Xu.OBSERVED:Xu.REQUESTED;n.state.isScrolling||f(!0),n.setState({isScrolling:!0,scrollLeft:A,scrollPositionChangeReason:T,scrollTop:x})}n._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:x,totalWidth:g,totalHeight:w})}}),n._scrollbarSize=O2(),n._scrollbarSize===void 0?(n._scrollbarSizeMeasured=!1,n._scrollbarSize=0):n._scrollbarSizeMeasured=!0,n}return Ui(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var n=this.props,r=n.cellLayoutManager,o=n.scrollLeft,a=n.scrollToCell,s=n.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=O2(),this._scrollbarSizeMeasured=!0,this.setState({})),a>=0?this._updateScrollPositionForScrollToCell():(o>=0||s>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:s}),this._invokeOnSectionRenderedHelper();var l=r.getTotalSize(),c=l.height,d=l.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalHeight:c,totalWidth:d})}},{key:"componentDidUpdate",value:function(n,r){var o=this.props,a=o.height,s=o.scrollToAlignment,l=o.scrollToCell,c=o.width,d=this.state,f=d.scrollLeft,h=d.scrollPositionChangeReason,m=d.scrollTop;h===Xu.REQUESTED&&(f>=0&&f!==r.scrollLeft&&f!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=f),m>=0&&m!==r.scrollTop&&m!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=m)),(a!==n.height||s!==n.scrollToAlignment||l!==n.scrollToCell||c!==n.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,r=n.autoHeight,o=n.cellCount,a=n.cellLayoutManager,s=n.className,l=n.height,c=n.horizontalOverscanSize,d=n.id,f=n.noContentRenderer,h=n.style,m=n.verticalOverscanSize,v=n.width,w=this.state,g=w.isScrolling,A=w.scrollLeft,x=w.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==a||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=a,this._calculateSizeAndPositionDataOnNextUpdate=!1,a.calculateSizeAndPositionData());var T=a.getTotalSize(),E=T.height,z=T.width,L=Math.max(0,A-c),B=Math.max(0,x-m),O=Math.min(z,A+v+c),F=Math.min(E,x+l+m),H=l>0&&v>0?a.cellRenderers({height:F-B,isScrolling:g,width:O-L,x:L,y:B}):[],X={boxSizing:"border-box",direction:"ltr",height:r?"auto":l,position:"relative",WebkitOverflowScrolling:"touch",width:v,willChange:"transform"},de=E>l?this._scrollbarSize:0,we=z>v?this._scrollbarSize:0;return X.overflowX=z+de<=v?"hidden":"auto",X.overflowY=E+we<=l?"hidden":"auto",$.exports.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:rt("ReactVirtualized__Collection",s),id:d,onScroll:this._onScroll,role:"grid",style:Xpe({},X,{},h),tabIndex:0},o>0&&$.exports.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:E,maxHeight:E,maxWidth:z,overflow:"hidden",pointerEvents:g?"none":"",width:z}},H),o===0&&f())}},{key:"_enablePointerEventsAfterDelay",value:function(){var n=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var r=n.props.isScrollingChange;r(!1),n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1})},Jpe)}},{key:"_invokeOnScrollMemoizer",value:function(n){var r=this,o=n.scrollLeft,a=n.scrollTop,s=n.totalHeight,l=n.totalWidth;this._onScrollMemoizer({callback:function(d){var f=d.scrollLeft,h=d.scrollTop,m=r.props,v=m.height,w=m.onScroll,g=m.width;w({clientHeight:v,clientWidth:g,scrollHeight:s,scrollLeft:f,scrollTop:h,scrollWidth:l})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_setScrollPosition",value:function(n){var r=n.scrollLeft,o=n.scrollTop,a={scrollPositionChangeReason:Xu.REQUESTED};r>=0&&(a.scrollLeft=r),o>=0&&(a.scrollTop=o),(r>=0&&r!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(a)}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.cellCount===0&&(r.scrollLeft!==0||r.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Xu.REQUESTED}:n.scrollLeft!==r.scrollLeft||n.scrollTop!==r.scrollTop?{scrollLeft:n.scrollLeft!=null?n.scrollLeft:r.scrollLeft,scrollTop:n.scrollTop!=null?n.scrollTop:r.scrollTop,scrollPositionChangeReason:Xu.REQUESTED}:null}}]),e}($.exports.PureComponent);ne(CA,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});CA.propTypes={};jg(CA);var Zpe=function(){function t(e){var i=e.height,n=e.width,r=e.x,o=e.y;Gi(this,t),this.height=i,this.width=n,this.x=r,this.y=o,this._indexMap={},this._indices=[]}return Ui(t,[{key:"addCellIndex",value:function(i){var n=i.index;this._indexMap[n]||(this._indexMap[n]=!0,this._indices.push(n))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),t}(),ehe=100,the=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ehe;Gi(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return Ui(t,[{key:"getCellIndices",value:function(i){var n=i.height,r=i.width,o=i.x,a=i.y,s={};return this.getSections({height:n,width:r,x:o,y:a}).forEach(function(l){return l.getCellIndices().forEach(function(c){s[c]=c})}),Object.keys(s).map(function(l){return s[l]})}},{key:"getCellMetadata",value:function(i){var n=i.index;return this._cellMetadata[n]}},{key:"getSections",value:function(i){for(var n=i.height,r=i.width,o=i.x,a=i.y,s=Math.floor(o/this._sectionSize),l=Math.floor((o+r-1)/this._sectionSize),c=Math.floor(a/this._sectionSize),d=Math.floor((a+n-1)/this._sectionSize),f=[],h=s;h<=l;h++)for(var m=c;m<=d;m++){var v="".concat(h,".").concat(m);this._sections[v]||(this._sections[v]=new Zpe({height:this._sectionSize,width:this._sectionSize,x:h*this._sectionSize,y:m*this._sectionSize})),f.push(this._sections[v])}return f}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var i=this;return Object.keys(this._sections).map(function(n){return i._sections[n].toString()})}},{key:"registerCell",value:function(i){var n=i.cellMetadatum,r=i.index;this._cellMetadata[r]=n,this.getSections(n).forEach(function(o){return o.addCellIndex({index:r})})}}]),t}();function ihe(t){for(var e=t.cellCount,i=t.cellSizeAndPositionGetter,n=t.sectionSize,r=[],o=new the(n),a=0,s=0,l=0;l<e;l++){var c=i({index:l});if(c.height==null||isNaN(c.height)||c.width==null||isNaN(c.width)||c.x==null||isNaN(c.x)||c.y==null||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(l,`:
        x:`).concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));a=Math.max(a,c.y+c.height),s=Math.max(s,c.x+c.width),r[l]=c,o.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:r,height:a,sectionManager:o,width:s}}function hP(t){var e=t.align,i=e===void 0?"auto":e,n=t.cellOffset,r=t.cellSize,o=t.containerSize,a=t.currentOffset,s=n,l=s-o+r;switch(i){case"start":return s;case"end":return l;case"center":return s-(o-r)/2;default:return Math.max(l,Math.min(s,a))}}var IN=function(t){Er(e,t);function e(i,n){var r;return Gi(this,e),r=eo(this,or(e).call(this,i,n)),r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(re(r)),r._setCollectionViewRef=r._setCollectionViewRef.bind(re(r)),r}return Ui(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var n=Me({},this.props);return $.exports.createElement(CA,Me({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},n))}},{key:"calculateSizeAndPositionData",value:function(){var n=this.props,r=n.cellCount,o=n.cellSizeAndPositionGetter,a=n.sectionSize,s=ihe({cellCount:r,cellSizeAndPositionGetter:o,sectionSize:a});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(n){var r=n.align,o=n.cellIndex,a=n.height,s=n.scrollLeft,l=n.scrollTop,c=n.width,d=this.props.cellCount;if(o>=0&&o<d){var f=this._cellMetadata[o];s=hP({align:r,cellOffset:f.x,cellSize:f.width,containerSize:c,currentOffset:s,targetIndex:o}),l=hP({align:r,cellOffset:f.y,cellSize:f.height,containerSize:a,currentOffset:l,targetIndex:o})}return{scrollLeft:s,scrollTop:l}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(n){var r=this,o=n.height,a=n.isScrolling,s=n.width,l=n.x,c=n.y,d=this.props,f=d.cellGroupRenderer,h=d.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:s,x:l,y:c}),f({cellCache:this._cellCache,cellRenderer:h,cellSizeAndPositionGetter:function(v){var w=v.index;return r._sectionManager.getCellMetadata({index:w})},indices:this._lastRenderedCellIndices,isScrolling:a})}},{key:"_isScrollingChange",value:function(n){n||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(n){this._collectionView=n}}]),e}($.exports.PureComponent);ne(IN,"defaultProps",{"aria-label":"grid",cellGroupRenderer:nhe});IN.propTypes={};function nhe(t){var e=t.cellCache,i=t.cellRenderer,n=t.cellSizeAndPositionGetter,r=t.indices,o=t.isScrolling;return r.map(function(a){var s=n({index:a}),l={index:a,isScrolling:o,key:a,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return o?(a in e||(e[a]=i(l)),e[a]):i(l)}).filter(function(a){return!!a})}function D2(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function rhe(t){if(Array.isArray(t))return D2(t)}function ohe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RN(t,e){if(!!t){if(typeof t=="string")return D2(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return D2(t,e)}}function ahe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function she(t){return rhe(t)||ohe(t)||RN(t)||ahe()}var PN=function(t){Er(e,t);function e(i,n){var r;return Gi(this,e),r=eo(this,or(e).call(this,i,n)),r._loadMoreRowsMemoizer=gf(),r._onRowsRendered=r._onRowsRendered.bind(re(r)),r._registerChild=r._registerChild.bind(re(r)),r}return Ui(e,[{key:"resetLoadMoreRowsCache",value:function(n){this._loadMoreRowsMemoizer=gf(),n&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var n=this.props.children;return n({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(n){var r=this,o=this.props.loadMoreRows;n.forEach(function(a){var s=o(a);s&&s.then(function(){lhe({lastRenderedStartIndex:r._lastRenderedStartIndex,lastRenderedStopIndex:r._lastRenderedStopIndex,startIndex:a.startIndex,stopIndex:a.stopIndex})&&r._registeredChild&&uhe(r._registeredChild,r._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(n){var r=n.startIndex,o=n.stopIndex;this._lastRenderedStartIndex=r,this._lastRenderedStopIndex=o,this._doStuff(r,o)}},{key:"_doStuff",value:function(n,r){var o,a=this,s=this.props,l=s.isRowLoaded,c=s.minimumBatchSize,d=s.rowCount,f=s.threshold,h=che({isRowLoaded:l,minimumBatchSize:c,rowCount:d,startIndex:Math.max(0,n-f),stopIndex:Math.min(d-1,r+f)}),m=(o=[]).concat.apply(o,she(h.map(function(v){var w=v.startIndex,g=v.stopIndex;return[w,g]})));this._loadMoreRowsMemoizer({callback:function(){a._loadUnloadedRanges(h)},indices:{squashedUnloadedRanges:m}})}},{key:"_registerChild",value:function(n){this._registeredChild=n}}]),e}($.exports.PureComponent);ne(PN,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});PN.propTypes={};function lhe(t){var e=t.lastRenderedStartIndex,i=t.lastRenderedStopIndex,n=t.startIndex,r=t.stopIndex;return!(n>i||r<e)}function che(t){for(var e=t.isRowLoaded,i=t.minimumBatchSize,n=t.rowCount,r=t.startIndex,o=t.stopIndex,a=[],s=null,l=null,c=r;c<=o;c++){var d=e({index:c});d?l!==null&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=c,s===null&&(s=c))}if(l!==null){for(var f=Math.min(Math.max(l,s+i-1),n-1),h=l+1;h<=f&&!e({index:h});h++)l=h;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var m=a[0];m.stopIndex-m.startIndex+1<i&&m.startIndex>0;){var v=m.startIndex-1;if(!e({index:v}))m.startIndex=v;else break}return a}function uhe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=typeof t.recomputeGridSize=="function"?t.recomputeGridSize:t.recomputeRowHeights;i?i.call(t,e):t.forceUpdate()}var mP,gP,LN=(gP=mP=function(t){Er(e,t);function e(){var i,n;Gi(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=eo(this,(i=or(e)).call.apply(i,[this].concat(o))),ne(re(n),"Grid",void 0),ne(re(n),"_cellRenderer",function(s){var l=s.parent,c=s.rowIndex,d=s.style,f=s.isScrolling,h=s.isVisible,m=s.key,v=n.props.rowRenderer,w=Object.getOwnPropertyDescriptor(d,"width");return w&&w.writable&&(d.width="100%"),v({index:c,style:d,isScrolling:f,isVisible:h,key:m,parent:l})}),ne(re(n),"_setRef",function(s){n.Grid=s}),ne(re(n),"_onScroll",function(s){var l=s.clientHeight,c=s.scrollHeight,d=s.scrollTop,f=n.props.onScroll;f({clientHeight:l,scrollHeight:c,scrollTop:d})}),ne(re(n),"_onSectionRendered",function(s){var l=s.rowOverscanStartIndex,c=s.rowOverscanStopIndex,d=s.rowStartIndex,f=s.rowStopIndex,h=n.props.onRowsRendered;h({overscanStartIndex:l,overscanStopIndex:c,startIndex:d,stopIndex:f})}),n}return Ui(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var r=n.alignment,o=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o,columnIndex:0}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n,columnIndex:0})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.noRowsRenderer,a=n.scrollToIndex,s=n.width,l=rt("ReactVirtualized__List",r);return $.exports.createElement(rl,Me({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:l,columnWidth:s,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:a}))}}]),e}($.exports.PureComponent),ne(mP,"propTypes",null),gP);ne(LN,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:TN,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function dhe(t){if(Array.isArray(t))return t}function fhe(t,e){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var n=[],r=!0,o=!1,a,s;try{for(i=i.call(t);!(r=(a=i.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){o=!0,s=l}finally{try{!r&&i.return!=null&&i.return()}finally{if(o)throw s}}return n}}function phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hhe(t,e){return dhe(t)||fhe(t,e)||RN(t,e)||phe()}function mhe(t,e,i,n){for(var r=i+1;e<=i;){var o=e+i>>>1,a=t[o];a>=n?(r=o,i=o-1):e=o+1}return r}function ghe(t,e,i,n,r){for(var o=i+1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)>=0?(o=a,i=a-1):e=a+1}return o}function bhe(t,e,i,n,r){return typeof i=="function"?ghe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):mhe(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function vhe(t,e,i,n){for(var r=i+1;e<=i;){var o=e+i>>>1,a=t[o];a>n?(r=o,i=o-1):e=o+1}return r}function yhe(t,e,i,n,r){for(var o=i+1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)>0?(o=a,i=a-1):e=a+1}return o}function whe(t,e,i,n,r){return typeof i=="function"?yhe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):vhe(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function Ahe(t,e,i,n){for(var r=e-1;e<=i;){var o=e+i>>>1,a=t[o];a<n?(r=o,e=o+1):i=o-1}return r}function xhe(t,e,i,n,r){for(var o=e-1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)<0?(o=a,e=a+1):i=a-1}return o}function khe(t,e,i,n,r){return typeof i=="function"?xhe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):Ahe(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function _he(t,e,i,n){for(var r=e-1;e<=i;){var o=e+i>>>1,a=t[o];a<=n?(r=o,e=o+1):i=o-1}return r}function The(t,e,i,n,r){for(var o=e-1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)<=0?(o=a,e=a+1):i=a-1}return o}function She(t,e,i,n,r){return typeof i=="function"?The(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):_he(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function Che(t,e,i,n){for(;e<=i;){var r=e+i>>>1,o=t[r];if(o===n)return r;o<=n?e=r+1:i=r-1}return-1}function Ehe(t,e,i,n,r){for(;e<=i;){var o=e+i>>>1,a=t[o],s=r(a,n);if(s===0)return o;s<=0?e=o+1:i=o-1}return-1}function zhe(t,e,i,n,r){return typeof i=="function"?Ehe(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):Che(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}var Dy={ge:bhe,gt:whe,lt:khe,le:She,eq:zhe},yd=0,bc=1,xv=2;function iE(t,e,i,n,r){this.mid=t,this.left=e,this.right=i,this.leftPoints=n,this.rightPoints=r,this.count=(e?e.count:0)+(i?i.count:0)+n.length}var Ug=iE.prototype;function yk(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function ON(t,e){var i=vf(e);t.mid=i.mid,t.left=i.left,t.right=i.right,t.leftPoints=i.leftPoints,t.rightPoints=i.rightPoints,t.count=i.count}function bP(t,e){var i=t.intervals([]);i.push(e),ON(t,i)}function vP(t,e){var i=t.intervals([]),n=i.indexOf(e);return n<0?yd:(i.splice(n,1),ON(t,i),bc)}Ug.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};Ug.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?bP(this,t):this.left.insert(t):this.left=vf([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?bP(this,t):this.right.insert(t):this.right=vf([t]);else{var i=Dy.ge(this.leftPoints,t,nE),n=Dy.ge(this.rightPoints,t,rE);this.leftPoints.splice(i,0,t),this.rightPoints.splice(n,0,t)}};Ug.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return yd;var i=this.right?this.right.count:0;if(4*i>3*(e-1))return vP(this,t);var n=this.left.remove(t);return n===xv?(this.left=null,this.count-=1,bc):(n===bc&&(this.count-=1),n)}else if(t[0]>this.mid){if(!this.right)return yd;var r=this.left?this.left.count:0;if(4*r>3*(e-1))return vP(this,t);var n=this.right.remove(t);return n===xv?(this.right=null,this.count-=1,bc):(n===bc&&(this.count-=1),n)}else{if(this.count===1)return this.leftPoints[0]===t?xv:yd;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var o=this,a=this.left;a.right;)o=a,a=a.right;if(o===this)a.right=this.right;else{var s=this.left,n=this.right;o.count-=a.count,o.right=a.left,a.left=s,a.right=n}yk(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?yk(this,this.left):yk(this,this.right);return bc}for(var s=Dy.ge(this.leftPoints,t,nE);s<this.leftPoints.length&&this.leftPoints[s][0]===t[0];++s)if(this.leftPoints[s]===t){this.count-=1,this.leftPoints.splice(s,1);for(var n=Dy.ge(this.rightPoints,t,rE);n<this.rightPoints.length&&this.rightPoints[n][1]===t[1];++n)if(this.rightPoints[n]===t)return this.rightPoints.splice(n,1),bc}return yd}};function DN(t,e,i){for(var n=0;n<t.length&&t[n][0]<=e;++n){var r=i(t[n]);if(r)return r}}function MN(t,e,i){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var r=i(t[n]);if(r)return r}}function BN(t,e){for(var i=0;i<t.length;++i){var n=e(t[i]);if(n)return n}}Ug.queryPoint=function(t,e){if(t<this.mid){if(this.left){var i=this.left.queryPoint(t,e);if(i)return i}return DN(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var i=this.right.queryPoint(t,e);if(i)return i}return MN(this.rightPoints,t,e)}else return BN(this.leftPoints,e)};Ug.queryInterval=function(t,e,i){if(t<this.mid&&this.left){var n=this.left.queryInterval(t,e,i);if(n)return n}if(e>this.mid&&this.right){var n=this.right.queryInterval(t,e,i);if(n)return n}return e<this.mid?DN(this.leftPoints,e,i):t>this.mid?MN(this.rightPoints,t,i):BN(this.leftPoints,i)};function Ihe(t,e){return t-e}function nE(t,e){var i=t[0]-e[0];return i||t[1]-e[1]}function rE(t,e){var i=t[1]-e[1];return i||t[0]-e[0]}function vf(t){if(t.length===0)return null;for(var e=[],i=0;i<t.length;++i)e.push(t[i][0],t[i][1]);e.sort(Ihe);for(var n=e[e.length>>1],r=[],o=[],a=[],i=0;i<t.length;++i){var s=t[i];s[1]<n?r.push(s):n<s[0]?o.push(s):a.push(s)}var l=a,c=a.slice();return l.sort(nE),c.sort(rE),new iE(n,vf(r),vf(o),l,c)}function M2(t){this.root=t}var Qf=M2.prototype;Qf.insert=function(t){this.root?this.root.insert(t):this.root=new iE(t[0],null,null,[t],[t])};Qf.remove=function(t){if(this.root){var e=this.root.remove(t);return e===xv&&(this.root=null),e!==yd}return!1};Qf.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};Qf.queryInterval=function(t,e,i){if(t<=e&&this.root)return this.root.queryInterval(t,e,i)};Object.defineProperty(Qf,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Qf,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Rhe(t){return!t||t.length===0?new M2(null):new M2(vf(t))}var wk=function(){function t(){Gi(this,t),ne(this,"_columnSizeMap",{}),ne(this,"_intervalTree",Rhe()),ne(this,"_leftMap",{})}return Ui(t,[{key:"estimateTotalHeight",value:function(i,n,r){var o=i-this.count;return this.tallestColumnSize+Math.ceil(o/n)*r}},{key:"range",value:function(i,n,r){var o=this;this._intervalTree.queryInterval(i,i+n,function(a){var s=hhe(a,3),l=s[0];s[1];var c=s[2];return r(c,o._leftMap[c],l)})}},{key:"setPosition",value:function(i,n,r,o){this._intervalTree.insert([r,r+o,i]),this._leftMap[i]=n;var a=this._columnSizeMap,s=a[n];s===void 0?a[n]=r+o:a[n]=Math.max(s,r+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var i=this._columnSizeMap,n=0;for(var r in i){var o=i[r];n=n===0?o:Math.min(n,o)}return n}},{key:"tallestColumnSize",get:function(){var i=this._columnSizeMap,n=0;for(var r in i){var o=i[r];n=Math.max(n,o)}return n}}]),t}(),yP,wP;function AP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Phe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?AP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):AP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Lhe={},Ohe=150,FN=(wP=yP=function(t){Er(e,t);function e(){var i,n;Gi(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=eo(this,(i=or(e)).call.apply(i,[this].concat(o))),ne(re(n),"state",{isScrolling:!1,scrollTop:0}),ne(re(n),"_debounceResetIsScrollingId",void 0),ne(re(n),"_invalidateOnUpdateStartIndex",null),ne(re(n),"_invalidateOnUpdateStopIndex",null),ne(re(n),"_positionCache",new wk),ne(re(n),"_startIndex",null),ne(re(n),"_startIndexMemoized",null),ne(re(n),"_stopIndex",null),ne(re(n),"_stopIndexMemoized",null),ne(re(n),"_debounceResetIsScrollingCallback",function(){n.setState({isScrolling:!1})}),ne(re(n),"_setScrollingContainerRef",function(s){n._scrollingContainer=s}),ne(re(n),"_onScroll",function(s){var l=n.props.height,c=s.currentTarget.scrollTop,d=Math.min(Math.max(0,n._getEstimatedTotalHeight()-l),c);c===d&&(n._debounceResetIsScrolling(),n.state.scrollTop!==d&&n.setState({isScrolling:!0,scrollTop:d}))}),n}return Ui(e,[{key:"clearCellPositions",value:function(){this._positionCache=new wk,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=r,this._invalidateOnUpdateStopIndex=r):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,r),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,r))}},{key:"recomputeCellPositions",value:function(){var n=this._positionCache.count-1;this._positionCache=new wk,this._populatePositionCache(0,n),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(n,r){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==n.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&bf(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var n=this,r=this.props,o=r.autoHeight,a=r.cellCount,s=r.cellMeasurerCache,l=r.cellRenderer,c=r.className,d=r.height,f=r.id,h=r.keyMapper,m=r.overscanByPixels,v=r.role,w=r.style,g=r.tabIndex,A=r.width,x=r.rowDirection,T=this.state,E=T.isScrolling,z=T.scrollTop,L=[],B=this._getEstimatedTotalHeight(),O=this._positionCache.shortestColumnSize,F=this._positionCache.count,H=0,X;if(this._positionCache.range(Math.max(0,z-m),d+m*2,function(Ee,_e,Ne){var Be;typeof X=="undefined"?(H=Ee,X=Ee):(H=Math.min(H,Ee),X=Math.max(X,Ee)),L.push(l({index:Ee,isScrolling:E,key:h(Ee),parent:n,style:(Be={height:s.getHeight(Ee)},ne(Be,x==="ltr"?"left":"right",_e),ne(Be,"position","absolute"),ne(Be,"top",Ne),ne(Be,"width",s.getWidth(Ee)),Be)}))}),O<z+d+m&&F<a)for(var de=Math.min(a-F,Math.ceil((z+d+m-O)/s.defaultHeight*A/s.defaultWidth)),we=F;we<F+de;we++)X=we,L.push(l({index:we,isScrolling:E,key:h(we),parent:this,style:{width:s.getWidth(we)}}));return this._startIndex=H,this._stopIndex=X,$.exports.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:rt("ReactVirtualized__Masonry",c),id:f,onScroll:this._onScroll,role:v,style:Phe({boxSizing:"border-box",direction:"ltr",height:o?"auto":d,overflowX:"hidden",overflowY:B<d?"hidden":"auto",position:"relative",width:A,WebkitOverflowScrolling:"touch",willChange:"transform"},w),tabIndex:g},$.exports.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:B,maxWidth:"100%",maxHeight:B,overflow:"hidden",pointerEvents:E?"none":"",position:"relative"}},L))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var n=this._invalidateOnUpdateStartIndex,r=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(n,r),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var n=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&bf(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=tE(this._debounceResetIsScrollingCallback,n)}},{key:"_getEstimatedTotalHeight",value:function(){var n=this.props,r=n.cellCount,o=n.cellMeasurerCache,a=n.width,s=Math.max(1,Math.floor(a/o.defaultWidth));return this._positionCache.estimateTotalHeight(r,s,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var n=this.props,r=n.height,o=n.onScroll,a=this.state.scrollTop;this._onScrollMemoized!==a&&(o({clientHeight:r,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:a}),this._onScrollMemoized=a)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var n=this.props.onCellsRendered;n({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(n,r){for(var o=this.props,a=o.cellMeasurerCache,s=o.cellPositioner,l=n;l<=r;l++){var c=s(l),d=c.left,f=c.top;this._positionCache.setPosition(l,d,f,a.getHeight(l))}}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.scrollTop!==void 0&&r.scrollTop!==n.scrollTop?{isScrolling:!0,scrollTop:n.scrollTop}:null}}]),e}($.exports.PureComponent),ne(yP,"propTypes",null),wP);ne(FN,"defaultProps",{autoHeight:!1,keyMapper:Dhe,onCellsRendered:xP,onScroll:xP,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Ohe,style:Lhe,tabIndex:0,rowDirection:"ltr"});function Dhe(t){return t}function xP(){}jg(FN);var Ak=function(){function t(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gi(this,t),ne(this,"_cellMeasurerCache",void 0),ne(this,"_columnIndexOffset",void 0),ne(this,"_rowIndexOffset",void 0),ne(this,"columnWidth",function(l){var c=l.index;e._cellMeasurerCache.columnWidth({index:c+e._columnIndexOffset})}),ne(this,"rowHeight",function(l){var c=l.index;e._cellMeasurerCache.rowHeight({index:c+e._rowIndexOffset})});var n=i.cellMeasurerCache,r=i.columnIndexOffset,o=r===void 0?0:r,a=i.rowIndexOffset,s=a===void 0?0:a;this._cellMeasurerCache=n,this._columnIndexOffset=o,this._rowIndexOffset=s}return Ui(t,[{key:"clear",value:function(i,n){this._cellMeasurerCache.clear(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"getWidth",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"has",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"set",value:function(i,n,r,o){this._cellMeasurerCache.set(i+this._rowIndexOffset,n+this._columnIndexOffset,r,o)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}();function kP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function zn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?kP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):kP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var _P=20,oE=function(t){Er(e,t);function e(i,n){var r;Gi(this,e),r=eo(this,or(e).call(this,i,n)),ne(re(r),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),ne(re(r),"_deferredInvalidateColumnIndex",null),ne(re(r),"_deferredInvalidateRowIndex",null),ne(re(r),"_bottomLeftGridRef",function(l){r._bottomLeftGrid=l}),ne(re(r),"_bottomRightGridRef",function(l){r._bottomRightGrid=l}),ne(re(r),"_cellRendererBottomLeftGrid",function(l){var c=l.rowIndex,d=kh(l,["rowIndex"]),f=r.props,h=f.cellRenderer,m=f.fixedRowCount,v=f.rowCount;return c===v-m?$.exports.createElement("div",{key:d.key,style:zn({},d.style,{height:_P})}):h(zn({},d,{parent:re(r),rowIndex:c+m}))}),ne(re(r),"_cellRendererBottomRightGrid",function(l){var c=l.columnIndex,d=l.rowIndex,f=kh(l,["columnIndex","rowIndex"]),h=r.props,m=h.cellRenderer,v=h.fixedColumnCount,w=h.fixedRowCount;return m(zn({},f,{columnIndex:c+v,parent:re(r),rowIndex:d+w}))}),ne(re(r),"_cellRendererTopRightGrid",function(l){var c=l.columnIndex,d=kh(l,["columnIndex"]),f=r.props,h=f.cellRenderer,m=f.columnCount,v=f.fixedColumnCount;return c===m-v?$.exports.createElement("div",{key:d.key,style:zn({},d.style,{width:_P})}):h(zn({},d,{columnIndex:c+v,parent:re(r)}))}),ne(re(r),"_columnWidthRightGrid",function(l){var c=l.index,d=r.props,f=d.columnCount,h=d.fixedColumnCount,m=d.columnWidth,v=r.state,w=v.scrollbarSize,g=v.showHorizontalScrollbar;return g&&c===f-h?w:typeof m=="function"?m({index:c+h}):m}),ne(re(r),"_onScroll",function(l){var c=l.scrollLeft,d=l.scrollTop;r.setState({scrollLeft:c,scrollTop:d});var f=r.props.onScroll;f&&f(l)}),ne(re(r),"_onScrollbarPresenceChange",function(l){var c=l.horizontal,d=l.size,f=l.vertical,h=r.state,m=h.showHorizontalScrollbar,v=h.showVerticalScrollbar;if(c!==m||f!==v){r.setState({scrollbarSize:d,showHorizontalScrollbar:c,showVerticalScrollbar:f});var w=r.props.onScrollbarPresenceChange;typeof w=="function"&&w({horizontal:c,size:d,vertical:f})}}),ne(re(r),"_onScrollLeft",function(l){var c=l.scrollLeft;r._onScroll({scrollLeft:c,scrollTop:r.state.scrollTop})}),ne(re(r),"_onScrollTop",function(l){var c=l.scrollTop;r._onScroll({scrollTop:c,scrollLeft:r.state.scrollLeft})}),ne(re(r),"_rowHeightBottomGrid",function(l){var c=l.index,d=r.props,f=d.fixedRowCount,h=d.rowCount,m=d.rowHeight,v=r.state,w=v.scrollbarSize,g=v.showVerticalScrollbar;return g&&c===h-f?w:typeof m=="function"?m({index:c+f}):m}),ne(re(r),"_topLeftGridRef",function(l){r._topLeftGrid=l}),ne(re(r),"_topRightGridRef",function(l){r._topRightGrid=l});var o=i.deferredMeasurementCache,a=i.fixedColumnCount,s=i.fixedRowCount;return r._maybeCalculateCachedStyles(!0),o&&(r._deferredMeasurementCacheBottomLeftGrid=s>0?new Ak({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:s}):o,r._deferredMeasurementCacheBottomRightGrid=a>0||s>0?new Ak({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:s}):o,r._deferredMeasurementCacheTopRightGrid=a>0?new Ak({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:0}):o),r}return Ui(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a,l=this.props,c=l.fixedColumnCount,d=l.fixedRowCount,f=Math.max(0,o-c),h=Math.max(0,s-d);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:h}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:f,rowIndex:h}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:f,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var n=this.props,r=n.scrollLeft,o=n.scrollTop;if(r>0||o>0){var a={};r>0&&(a.scrollLeft=r),o>0&&(a.scrollTop=o),this.setState(a)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var n=this.props,r=n.onScroll,o=n.onSectionRendered;n.onScrollbarPresenceChange,n.scrollLeft;var a=n.scrollToColumn;n.scrollTop;var s=n.scrollToRow,l=kh(n,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var c=this.state,d=c.scrollLeft,f=c.scrollTop;return $.exports.createElement("div",{style:this._containerOuterStyle},$.exports.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(l),this._renderTopRightGrid(zn({},l,{onScroll:r,scrollLeft:d}))),$.exports.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(zn({},l,{onScroll:r,scrollTop:f})),this._renderBottomRightGrid(zn({},l,{onScroll:r,onSectionRendered:o,scrollLeft:d,scrollToColumn:a,scrollToRow:s,scrollTop:f}))))}},{key:"_getBottomGridHeight",value:function(n){var r=n.height,o=this._getTopGridHeight(n);return r-o}},{key:"_getLeftGridWidth",value:function(n){var r=n.fixedColumnCount,o=n.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var a=0,s=0;s<r;s++)a+=o({index:s});this._leftGridWidth=a}else this._leftGridWidth=o*r;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(n){var r=n.width,o=this._getLeftGridWidth(n);return r-o}},{key:"_getTopGridHeight",value:function(n){var r=n.fixedRowCount,o=n.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var a=0,s=0;s<r;s++)a+=o({index:s});this._topGridHeight=a}else this._topGridHeight=o*r;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var n=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:r}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(n){var r=this.props,o=r.columnWidth,a=r.enableFixedColumnScroll,s=r.enableFixedRowScroll,l=r.height,c=r.fixedColumnCount,d=r.fixedRowCount,f=r.rowHeight,h=r.style,m=r.styleBottomLeftGrid,v=r.styleBottomRightGrid,w=r.styleTopLeftGrid,g=r.styleTopRightGrid,A=r.width,x=n||l!==this._lastRenderedHeight||A!==this._lastRenderedWidth,T=n||o!==this._lastRenderedColumnWidth||c!==this._lastRenderedFixedColumnCount,E=n||d!==this._lastRenderedFixedRowCount||f!==this._lastRenderedRowHeight;(n||x||h!==this._lastRenderedStyle)&&(this._containerOuterStyle=zn({height:l,overflow:"visible",width:A},h)),(n||x||E)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:A},this._containerBottomStyle={height:l-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:A}),(n||m!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=zn({left:0,overflowX:"hidden",overflowY:a?"auto":"hidden",position:"absolute"},m)),(n||T||v!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=zn({left:this._getLeftGridWidth(this.props),position:"absolute"},v)),(n||w!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=zn({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},w)),(n||T||g!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=zn({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},g)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=c,this._lastRenderedFixedRowCount=d,this._lastRenderedHeight=l,this._lastRenderedRowHeight=f,this._lastRenderedStyle=h,this._lastRenderedStyleBottomLeftGrid=m,this._lastRenderedStyleBottomRightGrid=v,this._lastRenderedStyleTopLeftGrid=w,this._lastRenderedStyleTopRightGrid=g,this._lastRenderedWidth=A}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(n){var r=n.enableFixedColumnScroll,o=n.fixedColumnCount,a=n.fixedRowCount,s=n.rowCount,l=n.hideBottomLeftGridScrollbar,c=this.state.showVerticalScrollbar;if(!o)return null;var d=c?1:0,f=this._getBottomGridHeight(n),h=this._getLeftGridWidth(n),m=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,v=l?h+m:h,w=$.exports.createElement(rl,Me({},n,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:f,onScroll:r?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-a)+d,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:v}));return l?$.exports.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:zn({},this._bottomLeftGridStyle,{height:f,width:h,overflowY:"hidden"})},w):w}},{key:"_renderBottomRightGrid",value:function(n){var r=n.columnCount,o=n.fixedColumnCount,a=n.fixedRowCount,s=n.rowCount,l=n.scrollToColumn,c=n.scrollToRow;return $.exports.createElement(rl,Me({},n,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,r-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(n),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-a),rowHeight:this._rowHeightBottomGrid,scrollToColumn:l-o,scrollToRow:c-a,style:this._bottomRightGridStyle,width:this._getRightGridWidth(n)}))}},{key:"_renderTopLeftGrid",value:function(n){var r=n.fixedColumnCount,o=n.fixedRowCount;return!r||!o?null:$.exports.createElement(rl,Me({},n,{className:this.props.classNameTopLeftGrid,columnCount:r,height:this._getTopGridHeight(n),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(n)}))}},{key:"_renderTopRightGrid",value:function(n){var r=n.columnCount,o=n.enableFixedRowScroll,a=n.fixedColumnCount,s=n.fixedRowCount,l=n.scrollLeft,c=n.hideTopRightGridScrollbar,d=this.state,f=d.showHorizontalScrollbar,h=d.scrollbarSize;if(!s)return null;var m=f?1:0,v=this._getTopGridHeight(n),w=this._getRightGridWidth(n),g=f?h:0,A=v,x=this._topRightGridStyle;c&&(A=v+g,x=zn({},this._topRightGridStyle,{left:0}));var T=$.exports.createElement(rl,Me({},n,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,r-a)+m,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:A,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:l,style:x,tabIndex:null,width:w}));return c?$.exports.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:zn({},this._topRightGridStyle,{height:v,width:w,overflowX:"hidden"})},T):T}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.scrollLeft!==r.scrollLeft||n.scrollTop!==r.scrollTop?{scrollLeft:n.scrollLeft!=null&&n.scrollLeft>=0?n.scrollLeft:r.scrollLeft,scrollTop:n.scrollTop!=null&&n.scrollTop>=0?n.scrollTop:r.scrollTop}:null}}]),e}($.exports.PureComponent);ne(oE,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});oE.propTypes={};jg(oE);function Mhe(t){var e=t.dataKey,i=t.rowData;return typeof i.get=="function"?i.get(e):i[e]}function Bhe(t){var e=t.cellData;return e==null?"":String(e)}function NN(t){var e=t.className,i=t.columns,n=t.style;return $.exports.createElement("div",{className:e,role:"row",style:n},i)}NN.propTypes=null;var ol={ASC:"ASC",DESC:"DESC"};function jN(t){var e=t.sortDirection,i=rt("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===ol.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===ol.DESC});return $.exports.createElement("svg",{className:i,width:18,height:18,viewBox:"0 0 24 24"},e===ol.ASC?$.exports.createElement("path",{d:"M7 14l5-5 5 5z"}):$.exports.createElement("path",{d:"M7 10l5 5 5-5z"}),$.exports.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}jN.propTypes={};function UN(t){var e=t.dataKey,i=t.label,n=t.sortBy,r=t.sortDirection,o=n===e,a=[$.exports.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof i=="string"?i:null},i)];return o&&a.push($.exports.createElement(jN,{key:"SortIndicator",sortDirection:r})),a}UN.propTypes=null;function GN(t){var e=t.className,i=t.columns,n=t.index,r=t.key,o=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,l=t.onRowMouseOver,c=t.onRowRightClick,d=t.rowData,f=t.style,h={"aria-rowindex":n+1};return(o||a||s||l||c)&&(h["aria-label"]="row",h.tabIndex=0,o&&(h.onClick=function(m){return o({event:m,index:n,rowData:d})}),a&&(h.onDoubleClick=function(m){return a({event:m,index:n,rowData:d})}),s&&(h.onMouseOut=function(m){return s({event:m,index:n,rowData:d})}),l&&(h.onMouseOver=function(m){return l({event:m,index:n,rowData:d})}),c&&(h.onContextMenu=function(m){return c({event:m,index:n,rowData:d})})),$.exports.createElement("div",Me({},h,{className:e,key:r,role:"row",style:f}),i)}GN.propTypes=null;var HN=function(t){Er(e,t);function e(){return Gi(this,e),eo(this,or(e).apply(this,arguments))}return e}($.exports.Component);ne(HN,"defaultProps",{cellDataGetter:Mhe,cellRenderer:Bhe,defaultSortDirection:ol.ASC,flexGrow:0,flexShrink:1,headerRenderer:UN,style:{}});HN.propTypes={};function TP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Ju(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?TP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):TP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var WN=function(t){Er(e,t);function e(i){var n;return Gi(this,e),n=eo(this,or(e).call(this,i)),n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(re(n)),n._createRow=n._createRow.bind(re(n)),n._onScroll=n._onScroll.bind(re(n)),n._onSectionRendered=n._onSectionRendered.bind(re(n)),n._setRef=n._setRef.bind(re(n)),n}return Ui(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var r=n.alignment,o=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var n=yl.exports.findDOMNode(this.Grid),r=n.clientWidth||0,o=n.offsetWidth||0;return o-r}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var n=this,r=this.props,o=r.children,a=r.className,s=r.disableHeader,l=r.gridClassName,c=r.gridStyle,d=r.headerHeight,f=r.headerRowRenderer,h=r.height,m=r.id,v=r.noRowsRenderer,w=r.rowClassName,g=r.rowStyle,A=r.scrollToIndex,x=r.style,T=r.width,E=this.state.scrollbarWidth,z=s?h:h-d,L=typeof w=="function"?w({index:-1}):w,B=typeof g=="function"?g({index:-1}):g;return this._cachedColumnStyles=[],$.exports.Children.toArray(o).forEach(function(O,F){var H=n._getFlexStyleForColumn(O,O.props.style);n._cachedColumnStyles[F]=Ju({overflow:"hidden"},H)}),$.exports.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":$.exports.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:rt("ReactVirtualized__Table",a),id:m,role:"grid",style:x},!s&&f({className:rt("ReactVirtualized__Table__headerRow",L),columns:this._getHeaderColumns(),style:Ju({height:d,overflow:"hidden",paddingRight:E,width:T},B)}),$.exports.createElement(rl,Me({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:rt("ReactVirtualized__Table__Grid",l),cellRenderer:this._createRow,columnWidth:T,columnCount:1,height:z,id:void 0,noContentRenderer:v,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:E,scrollToRow:A,style:Ju({},c,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(n){var r=n.column,o=n.columnIndex,a=n.isScrolling,s=n.parent,l=n.rowData,c=n.rowIndex,d=this.props.onColumnClick,f=r.props,h=f.cellDataGetter,m=f.cellRenderer,v=f.className,w=f.columnData,g=f.dataKey,A=f.id,x=h({columnData:w,dataKey:g,rowData:l}),T=m({cellData:x,columnData:w,columnIndex:o,dataKey:g,isScrolling:a,parent:s,rowData:l,rowIndex:c}),E=function(O){d&&d({columnData:w,dataKey:g,event:O})},z=this._cachedColumnStyles[o],L=typeof T=="string"?T:null;return $.exports.createElement("div",{"aria-colindex":o+1,"aria-describedby":A,className:rt("ReactVirtualized__Table__rowColumn",v),key:"Row"+c+"-Col"+o,onClick:E,role:"gridcell",style:z,title:L},T)}},{key:"_createHeader",value:function(n){var r=n.column,o=n.index,a=this.props,s=a.headerClassName,l=a.headerStyle,c=a.onHeaderClick,d=a.sort,f=a.sortBy,h=a.sortDirection,m=r.props,v=m.columnData,w=m.dataKey,g=m.defaultSortDirection,A=m.disableSort,x=m.headerRenderer,T=m.id,E=m.label,z=!A&&d,L=rt("ReactVirtualized__Table__headerColumn",s,r.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:z}),B=this._getFlexStyleForColumn(r,Ju({},l,{},r.props.headerStyle)),O=x({columnData:v,dataKey:w,disableSort:A,label:E,sortBy:f,sortDirection:h}),F,H,X,de,we;if(z||c){var Ee=f!==w,_e=Ee?g:h===ol.DESC?ol.ASC:ol.DESC,Ne=function(Pe){z&&d({defaultSortDirection:g,event:Pe,sortBy:w,sortDirection:_e}),c&&c({columnData:v,dataKey:w,event:Pe})},Be=function(Pe){(Pe.key==="Enter"||Pe.key===" ")&&Ne(Pe)};we=r.props["aria-label"]||E||w,de="none",X=0,F=Ne,H=Be}return f===w&&(de=h===ol.ASC?"ascending":"descending"),$.exports.createElement("div",{"aria-label":we,"aria-sort":de,className:L,id:T,key:"Header-Col"+o,onClick:F,onKeyDown:H,role:"columnheader",style:B,tabIndex:X},O)}},{key:"_createRow",value:function(n){var r=this,o=n.rowIndex,a=n.isScrolling,s=n.key,l=n.parent,c=n.style,d=this.props,f=d.children,h=d.onRowClick,m=d.onRowDoubleClick,v=d.onRowRightClick,w=d.onRowMouseOver,g=d.onRowMouseOut,A=d.rowClassName,x=d.rowGetter,T=d.rowRenderer,E=d.rowStyle,z=this.state.scrollbarWidth,L=typeof A=="function"?A({index:o}):A,B=typeof E=="function"?E({index:o}):E,O=x({index:o}),F=$.exports.Children.toArray(f).map(function(de,we){return r._createColumn({column:de,columnIndex:we,isScrolling:a,parent:l,rowData:O,rowIndex:o,scrollbarWidth:z})}),H=rt("ReactVirtualized__Table__row",L),X=Ju({},c,{height:this._getRowHeight(o),overflow:"hidden",paddingRight:z},B);return T({className:H,columns:F,index:o,isScrolling:a,key:s,onRowClick:h,onRowDoubleClick:m,onRowRightClick:v,onRowMouseOver:w,onRowMouseOut:g,rowData:O,style:X})}},{key:"_getFlexStyleForColumn",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(n.props.flexGrow," ").concat(n.props.flexShrink," ").concat(n.props.width,"px"),a=Ju({},r,{flex:o,msFlex:o,WebkitFlex:o});return n.props.maxWidth&&(a.maxWidth=n.props.maxWidth),n.props.minWidth&&(a.minWidth=n.props.minWidth),a}},{key:"_getHeaderColumns",value:function(){var n=this,r=this.props,o=r.children,a=r.disableHeader,s=a?[]:$.exports.Children.toArray(o);return s.map(function(l,c){return n._createHeader({column:l,index:c})})}},{key:"_getRowHeight",value:function(n){var r=this.props.rowHeight;return typeof r=="function"?r({index:n}):r}},{key:"_onScroll",value:function(n){var r=n.clientHeight,o=n.scrollHeight,a=n.scrollTop,s=this.props.onScroll;s({clientHeight:r,scrollHeight:o,scrollTop:a})}},{key:"_onSectionRendered",value:function(n){var r=n.rowOverscanStartIndex,o=n.rowOverscanStopIndex,a=n.rowStartIndex,s=n.rowStopIndex,l=this.props.onRowsRendered;l({overscanStartIndex:r,overscanStopIndex:o,startIndex:a,stopIndex:s})}},{key:"_setRef",value:function(n){this.Grid=n}},{key:"_setScrollbarWidth",value:function(){var n=this.getScrollbarWidth();this.setState({scrollbarWidth:n})}}]),e}($.exports.PureComponent);ne(WN,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:TN,overscanRowCount:10,rowRenderer:GN,headerRowRenderer:NN,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});WN.propTypes={};var vl=[],Qh=null,$c=null;function YN(){$c&&($c=null,document.body&&Qh!=null&&(document.body.style.pointerEvents=Qh),Qh=null)}function Fhe(){YN(),vl.forEach(function(t){return t.__resetIsScrolling()})}function Nhe(){$c&&bf($c);var t=0;vl.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),$c=tE(Fhe,t)}function VN(t){t.currentTarget===window&&Qh==null&&document.body&&(Qh=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),Nhe(),vl.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function SP(t,e){vl.some(function(i){return i.props.scrollElement===e})||e.addEventListener("scroll",VN),vl.push(t)}function CP(t,e){vl=vl.filter(function(i){return i!==t}),vl.length||(e.removeEventListener("scroll",VN),$c&&(bf($c),YN()))}var aE=function(e){return e===window},_h=function(e){return e.getBoundingClientRect()};function EP(t,e){if(t)if(aE(t)){var i=window,n=i.innerHeight,r=i.innerWidth;return{height:typeof n=="number"?n:0,width:typeof r=="number"?r:0}}else return _h(t);else return{height:e.serverHeight,width:e.serverWidth}}function jhe(t,e){if(aE(e)&&document.documentElement){var i=document.documentElement,n=_h(t),r=_h(i);return{top:n.top-r.top,left:n.left-r.left}}else{var o=$N(e),a=_h(t),s=_h(e);return{top:a.top+o.top-s.top,left:a.left+o.left-s.left}}}function $N(t){return aE(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var zP,IP;function RP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Uhe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?RP(i,!0).forEach(function(n){ne(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):RP(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Ghe=150,QN=function(){return typeof window!="undefined"?window:void 0},Hhe=(IP=zP=function(t){Er(e,t);function e(){var i,n;Gi(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=eo(this,(i=or(e)).call.apply(i,[this].concat(o))),ne(re(n),"_window",QN()),ne(re(n),"_isMounted",!1),ne(re(n),"_positionFromTop",0),ne(re(n),"_positionFromLeft",0),ne(re(n),"_detectElementResize",void 0),ne(re(n),"_child",void 0),ne(re(n),"state",Uhe({},EP(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),ne(re(n),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=s,n.updatePosition()}),ne(re(n),"_onChildScroll",function(s){var l=s.scrollTop;if(n.state.scrollTop!==l){var c=n.props.scrollElement;c&&(typeof c.scrollTo=="function"?c.scrollTo(0,l+n._positionFromTop):c.scrollTop=l+n._positionFromTop)}}),ne(re(n),"_registerResizeListener",function(s){s===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(s,n._onResize)}),ne(re(n),"_unregisterResizeListener",function(s){s===window?window.removeEventListener("resize",n._onResize,!1):s&&n._detectElementResize.removeResizeListener(s,n._onResize)}),ne(re(n),"_onResize",function(){n.updatePosition()}),ne(re(n),"__handleWindowScrollEvent",function(){if(!!n._isMounted){var s=n.props.onScroll,l=n.props.scrollElement;if(l){var c=$N(l),d=Math.max(0,c.left-n._positionFromLeft),f=Math.max(0,c.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:d,scrollTop:f}),s({scrollLeft:d,scrollTop:f})}}}),ne(re(n),"__resetIsScrolling",function(){n.setState({isScrolling:!1})}),n}return Ui(e,[{key:"updatePosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,r=this.props.onResize,o=this.state,a=o.height,s=o.width,l=this._child||yl.exports.findDOMNode(this);if(l instanceof Element&&n){var c=jhe(l,n);this._positionFromTop=c.top,this._positionFromLeft=c.left}var d=EP(n,this.props);(a!==d.height||s!==d.width)&&(this.setState({height:d.height,width:d.width}),r({height:d.height,width:d.width}))}},{key:"componentDidMount",value:function(){var n=this.props.scrollElement;this._detectElementResize=CN(),this.updatePosition(n),n&&(SP(this,n),this._registerResizeListener(n)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(n,r){var o=this.props.scrollElement,a=n.scrollElement;a!==o&&a!=null&&o!=null&&(this.updatePosition(o),CP(this,a),SP(this,o),this._unregisterResizeListener(a),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var n=this.props.scrollElement;n&&(CP(this,n),this._unregisterResizeListener(n)),this._isMounted=!1}},{key:"render",value:function(){var n=this.props.children,r=this.state,o=r.isScrolling,a=r.scrollTop,s=r.scrollLeft,l=r.height,c=r.width;return n({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:l,isScrolling:o,scrollLeft:s,scrollTop:a,width:c})}}]),e}($.exports.PureComponent),ne(zP,"propTypes",null),IP);ne(Hhe,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:Ghe,scrollElement:QN(),serverHeight:0,serverWidth:0});const Whe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Yhe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Vhe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.9,stroke:"currentColor",className:"w-6 h-6",width:"24",height:"24",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),$he=()=>ue("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:[P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Qhe=Fe.div(t=>({display:"grid",gridTemplateColumns:"1fr",rowGap:8,padding:"8px 16px",backgroundColor:"white",borderLeft:`4px solid ${t.isJumpedTo?Ro.dark_blue:"transparent"}`})),qhe=Fe.div({fontSize:Sr.font_size_5}),Khe=Fe.div(t=>({display:"grid",columnGap:4,gridTemplateColumns:t.hasMultipleActions?"1fr auto auto auto":"1fr auto auto",justifyContent:"start",alignItems:"center"})),Xhe=Fe.div({display:"grid",columnGap:4,gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",fontSize:Sr.font_size_2,overflowWrap:"anywhere","& p":{margin:0}}),My=24,Jhe=Fe.img({objectFit:"cover",objectPosition:"center",borderRadius:"50%",width:My,height:My}),Zhe=Fe.div({width:My,height:My}),xk=Fe.button({padding:"2px 8px !important",display:"flex",justifyContent:"center",alignItems:"center"}),qN=({sessionIndex:t,speakerName:e,text:i,startTime:n,speakerId:r,speakerPictureSrc:o,searchQuery:a,handleJumpToVideoClip:s,handleJumpToTranscript:l,componentRef:c})=>{const[d,f]=$.exports.useState(!1),h=$.exports.useRef(null);$.exports.useImperativeHandle(c,()=>({scrollIntoView:()=>{var A;(A=h.current)==null||A.scrollIntoView({behavior:"smooth",block:"center"}),f(!0),setTimeout(()=>{f(!1)},5e3)}}));const m=r?P(yn,{to:`/people/${r}`,children:e}):P("div",{children:e}),v=o?P(Jhe,{src:o,alt:e}):P(Zhe,{children:P(Whe,{})}),w=()=>{navigator.clipboard.writeText(i)},g=$.exports.useMemo(()=>{const A=$m(a||""),x=Vm(A.split(" "));if(!A||x.length===0)return[];const T=x.map(z=>Ry(z.toLowerCase())),E=x.map((z,L)=>new RegExp(`\\b(${z}|${T[L]})`,"g"));return a&&a.trim().length>0&&E.push(new RegExp(a.trim(),"g")),E},[a]);return ue(Qhe,{isJumpedTo:d,ref:h,children:[P(qhe,{children:P(rN,{caseSensitive:!1,searchWords:g,textToHighlight:i})}),ue(Khe,{hasMultipleActions:l!==void 0,children:[ue(Xhe,{children:[v,ue("div",{children:[m,P("p",{children:`${Ae.session} ${t+1}`}),P("p",{children:n})]})]}),P("div",{children:P(ha,{position:"top right",content:Ae.jump_to_sentence_video,size:"mini",trigger:P(xk,{"aria-label":Ae.jump_to_sentence_video,className:"mzp-c-button mzp-t-neutral",onClick:s,children:P($he,{})})})}),l&&P("div",{children:P(ha,{position:"top right",content:Ae.jump_to_sentence_transcript,size:"mini",trigger:P(xk,{"aria-label":Ae.jump_to_sentence_transcript,className:"mzp-c-button mzp-t-neutral",onClick:l,children:P(Yhe,{})})})}),P("div",{children:P(ha,{position:"top right",content:Ae.copy_button,size:"mini",trigger:P(xk,{"aria-label":Ae.copy_button,className:"mzp-c-button mzp-t-neutral",onClick:w,children:P(Vhe,{})})})})]})]})};function qh(t){return`${t}`.padStart(2,"0")}function KN(t){const e=Math.floor(t),i=Math.floor(e/3600),n=Math.floor((e-i*3600)/60),r=e-i*3600-n*60;return`${qh(i)}:${qh(n)}:${qh(r)}`}const eme=({searchQuery:t,sentences:e,jumpToVideoClip:i,jumpToTranscript:n})=>{const r=(c,d)=>()=>i(c,d),o=c=>()=>{n(c)},a=new qpe({fixedWidth:!0,defaultHeight:100}),s=()=>{a.clearAll()},l=({index:c,parent:d,key:f,style:h})=>P(zN,{cache:a,parent:d,columnIndex:0,rowIndex:c,children:P("div",{style:h,role:"row",children:P("div",{style:{margin:"0 0 16px 0"},role:"cell",children:P(qN,{sessionIndex:e[c].session_index,speakerName:e[c].speaker_name,text:e[c].text,startTime:KN(e[c].start_time),handleJumpToVideoClip:r(e[c].session_index,e[c].start_time),searchQuery:t,speakerId:e[c].speaker_id,speakerPictureSrc:e[c].speaker_pictureSrc,handleJumpToTranscript:o(e[c].index)})})})},f);return P(EN,{onResize:s,children:({width:c,height:d})=>P(LN,{deferredMeasurementCache:a,height:d,rowCount:e.length,rowHeight:a.rowHeight,rowRenderer:l,scrollToIndex:0,style:{willChange:""},width:c})})},tme=Fe.div({display:"flex",flexDirection:"column",height:"100%"}),ime=Fe.div({display:"flex",flexDirection:"column",justifyContent:"start",marginBottom:"16px","div:first-of-type":{fontSize:Sr.font_size_7,fontWeight:600},[`@media (min-width:${Mt.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}),nme=Fe.div(t=>({minHeight:t.hasSearchResults?"80vh":0,[`@media (min-width:${Mt.tablet})`]:{minHeight:t.hasSearchResults?"50vh":0},[`@media (min-aspect-ratio:5/4), (min-width:${Mt.desktop})`]:{flex:"1 1 auto",minHeight:0}})),rme=({searchQuery:t,sentences:e,jumpToVideoClip:i,jumpToTranscript:n})=>{const[r,o]=$.exports.useState(t),a=h=>{o(h.target.value)},[s,l]=$.exports.useState(t),c=h=>{h.preventDefault(),l(r)},d=$.exports.useMemo(()=>e.data?e.data.map(({text:h})=>{const m=$m(h),w=Vm(m.split(" ")).map(g=>Ry(g.toLowerCase()));return new Set(w)}):[],[e.data]),f=$.exports.useMemo(()=>{if(e.data){if(!s.trim())return e.data;const h=$m(s),m=Vm(h.split(" "));if(!h||m.length===0)return[];const v=m.map(w=>Ry(w.toLowerCase()));return e.data.filter((w,g)=>v.some(A=>d[g].has(A)))}return[]},[e.data,d,s]);return ue(tme,{children:[ue(ime,{children:[P("div",{children:Ae.search_transcript}),P("div",{children:e.data&&Ae.number_of_results.replace("{number}",`${f.length}`)})]}),P("form",{className:"mzp-c-form",role:"search",onSubmit:c,children:P("input",{style:{width:"100%"},type:"search",placeholder:Ae.search_transcript_placeholder,value:r,onChange:a})}),P(Ng,{data:"transcript",isLoading:e.isLoading,error:e.error,notFound:!e.data||e.data.length===0,children:e.data&&P(nme,{hasSearchResults:f.length!==0,children:P(eme,{searchQuery:s,sentences:f,jumpToVideoClip:i,jumpToTranscript:n})})})]})};var Th;typeof window!="undefined"?Th=window:typeof zo!="undefined"?Th=zo:typeof self!="undefined"?Th=self:Th={};var Q=Th,ome={},ame=Object.freeze(Object.defineProperty({__proto__:null,default:ome},Symbol.toStringTag,{value:"Module"})),sme=pT(ame),PP=typeof zo!="undefined"?zo:typeof window!="undefined"?window:{},lme=sme,Sh;typeof document!="undefined"?Sh=document:(Sh=PP["__GLOBAL_DOCUMENT_CACHE@4"],Sh||(Sh=PP["__GLOBAL_DOCUMENT_CACHE@4"]=lme));var Oe=Sh,cme=ume;function ume(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}var B2={exports:{}};(function(t,e){function i(l){if(l&&typeof l=="object"){var c=l.which||l.keyCode||l.charCode;c&&(l=c)}if(typeof l=="number")return a[l];var d=String(l),f=n[d.toLowerCase()];if(f)return f;var f=r[d.toLowerCase()];if(f)return f;if(d.length===1)return d.charCodeAt(0)}i.isEventKey=function(c,d){if(c&&typeof c=="object"){var f=c.which||c.keyCode||c.charCode;if(f==null)return!1;if(typeof d=="string"){var h=n[d.toLowerCase()];if(h)return h===f;var h=r[d.toLowerCase()];if(h)return h===f}else if(typeof d=="number")return d===f;return!1}},e=t.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var a=e.names=e.title={};for(o in n)a[n[o]]=o;for(var s in r)n[s]=r[s]})(B2,B2.exports);var ft=B2.exports,sE={exports:{}},dme=pT(Cq),fme=hme,pme=Object.prototype.toString;function hme(t){if(!t)return!1;var e=pme.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var mme=Q,gme=function(e,i){return i===void 0&&(i=!1),function(n,r,o){if(n){e(n);return}if(r.statusCode>=400&&r.statusCode<=599){var a=o;if(i)if(mme.TextDecoder){var s=bme(r.headers&&r.headers["content-type"]);try{a=new TextDecoder(s).decode(o)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:a});return}e(null,o)}};function bme(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var n=i.split("="),r=n[0],o=n[1];return r.trim()==="charset"?o.trim():e},"utf-8")}var vme=gme,XN=Q,yme=dme,wme=fme;ma.httpHandler=vme;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var Ame=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(n){var r=n.indexOf(":"),o=n.slice(0,r).trim().toLowerCase(),a=n.slice(r+1).trim();typeof i[o]=="undefined"?i[o]=a:Array.isArray(i[o])?i[o].push(a):i[o]=[i[o],a]}),i};sE.exports=ma;sE.exports.default=ma;ma.XMLHttpRequest=XN.XMLHttpRequest||Tme;ma.XDomainRequest="withCredentials"in new ma.XMLHttpRequest?ma.XMLHttpRequest:XN.XDomainRequest;xme(["get","put","post","patch","head","delete"],function(t){ma[t==="delete"?"del":t]=function(e,i,n){return i=JN(e,i,n),i.method=t.toUpperCase(),ZN(i)}});function xme(t,e){for(var i=0;i<t.length;i++)e(t[i])}function kme(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function JN(t,e,i){var n=t;return wme(e)?(i=e,typeof t=="string"&&(n={uri:t})):n=yme({},e,{uri:t}),n.callback=i,n}function ma(t,e,i){return e=JN(t,e,i),ZN(e)}function ZN(t){if(typeof t.callback=="undefined")throw new Error("callback argument missing");var e=!1,i=function(T,E,z){e||(e=!0,t.callback(T,E,z))};function n(){s.readyState===4&&setTimeout(a,0)}function r(){var x=void 0;if(s.response?x=s.response:x=s.responseText||_me(s),w)try{x=JSON.parse(x)}catch{}return x}function o(x){return clearTimeout(g),x instanceof Error||(x=new Error(""+(x||"Unknown XMLHttpRequest Error"))),x.statusCode=0,i(x,A)}function a(){if(!c){var x;clearTimeout(g),t.useXDR&&s.status===void 0?x=200:x=s.status===1223?204:s.status;var T=A,E=null;return x!==0?(T={body:r(),statusCode:x,method:f,headers:{},url:d,rawRequest:s},s.getAllResponseHeaders&&(T.headers=Ame(s.getAllResponseHeaders()))):E=new Error("Internal XMLHttpRequest Error"),i(E,T,T.body)}}var s=t.xhr||null;s||(t.cors||t.useXDR?s=new ma.XDomainRequest:s=new ma.XMLHttpRequest);var l,c,d=s.url=t.uri||t.url,f=s.method=t.method||"GET",h=t.body||t.data,m=s.headers=t.headers||{},v=!!t.sync,w=!1,g,A={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:s};if("json"in t&&t.json!==!1&&(w=!0,m.accept||m.Accept||(m.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),s.onreadystatechange=n,s.onload=a,s.onerror=o,s.onprogress=function(){},s.onabort=function(){c=!0},s.ontimeout=o,s.open(f,d,!v,t.username,t.password),v||(s.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(g=setTimeout(function(){if(!c){c=!0,s.abort("timeout");var x=new Error("XMLHttpRequest timeout");x.code="ETIMEDOUT",o(x)}},t.timeout)),s.setRequestHeader)for(l in m)m.hasOwnProperty(l)&&s.setRequestHeader(l,m[l]);else if(t.headers&&!kme(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(s.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(s),s.send(h||null),s}function _me(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function Tme(){}var e7=sE.exports,t7={exports:{}},LP=Oe,lE=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Gr(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Gr.prototype=lE(Error.prototype);Gr.prototype.constructor=Gr;Gr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function cE(t){function e(n,r,o,a){return(n|0)*3600+(r|0)*60+(o|0)+(a|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Kh(){this.values=lE(null)}Kh.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Ch(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if(typeof r[o]=="string"){var a=r[o].split(i);if(a.length===2){var s=a[0],l=a[1];e(s,l)}}}function Sme(t,e,i){var n=t;function r(){var s=cE(t);if(s===null)throw new Gr(Gr.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),s}function o(s,l){var c=new Kh;Ch(s,function(d,f){switch(d){case"region":for(var h=i.length-1;h>=0;h--)if(i[h].id===f){c.set(d,i[h].region);break}break;case"vertical":c.alt(d,f,["rl","lr"]);break;case"line":var m=f.split(","),v=m[0];c.integer(d,v),c.percent(d,v)&&c.set("snapToLines",!1),c.alt(d,v,["auto"]),m.length===2&&c.alt("lineAlign",m[1],["start","center","end"]);break;case"position":m=f.split(","),c.percent(d,m[0]),m.length===2&&c.alt("positionAlign",m[1],["start","center","end"]);break;case"size":c.percent(d,f);break;case"align":c.alt(d,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch{}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch{l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch{l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.substr(0,3)!=="-->")throw new Gr(Gr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),a(),e.endTime=r(),a(),o(t,e)}var kk=LP.createElement&&LP.createElement("textarea"),Cme={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},OP={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Eme={v:"title",lang:"lang"},DP={rt:"ruby"};function i7(t,e){function i(){if(!e)return null;function v(g){return e=e.substr(g.length),g}var w=e.match(/^([^<]*)(<[^>]*>?)?/);return v(w[1]?w[1]:w[2])}function n(v){return kk.innerHTML=v,v=kk.textContent,kk.textContent="",v}function r(v,w){return!DP[w.localName]||DP[w.localName]===v.localName}function o(v,w){var g=Cme[v];if(!g)return null;var A=t.document.createElement(g),x=Eme[v];return x&&w&&(A[x]=w.trim()),A}for(var a=t.document.createElement("div"),s=a,l,c=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),s=s.parentNode);continue}var d=cE(l.substr(1,l.length-2)),f;if(d){f=t.document.createProcessingInstruction("timestamp",d),s.appendChild(f);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(f=o(h[1],h[3]),!f)||!r(s,f))continue;if(h[2]){var m=h[2].split(".");m.forEach(function(v){var w=/^bg_/.test(v),g=w?v.slice(3):v;if(OP.hasOwnProperty(g)){var A=w?"background-color":"color",x=OP[g];f.style[A]=x}}),f.className=m.join(" ")}c.push(h[1]),s.appendChild(f),s=f;continue}s.appendChild(t.document.createTextNode(n(l)))}return a}var MP=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function zme(t){for(var e=0;e<MP.length;e++){var i=MP[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function Ime(t){var e=[],i="",n;if(!t||!t.childNodes)return"ltr";function r(s,l){for(var c=l.childNodes.length-1;c>=0;c--)s.push(l.childNodes[c])}function o(s){if(!s||!s.length)return null;var l=s.pop(),c=l.textContent||l.innerText;if(c){var d=c.match(/^.*(\n|\r)/);return d?(s.length=0,d[0]):c}if(l.tagName==="ruby")return o(s);if(l.childNodes)return r(s,l),o(s)}for(r(e,t);i=o(e);)for(var a=0;a<i.length;a++)if(n=i.charCodeAt(a),zme(n))return"rtl";return"ltr"}function Rme(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)i[r].mode==="showing"&&n++;return++n*-1}function EA(){}EA.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};EA.prototype.formatStyle=function(t,e){return t===0?0:t+e};function By(t,e,i){EA.call(this),this.cue=e,this.cueDiv=i7(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:Ime(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}By.prototype=lE(EA.prototype);By.prototype.constructor=By;function Jn(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}Jn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Jn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Jn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Jn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Jn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Jn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)};Jn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Jn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r};function Pme(t,e,i,n){function r(g,A){for(var x,T=new Jn(g),E=1,z=0;z<A.length;z++){for(;g.overlapsOppositeAxis(i,A[z])||g.within(i)&&g.overlapsAny(n);)g.move(A[z]);if(g.within(i))return g;var L=g.intersectPercentage(i);E>L&&(x=new Jn(g),E=L),g=new Jn(T)}return x||T}var o=new Jn(e),a=e.cue,s=Rme(a),l=[];if(a.snapToLines){var c;switch(a.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var d=o.lineHeight,f=d*Math.round(s),h=i[c]+d,m=l[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/d)*d),s<0&&(f+=a.vertical===""?i.height:i.width,l=l.reverse()),o.move(m,f)}else{var v=o.lineHeight/i.height*100;switch(a.lineAlign){case"center":s-=v/2;break;case"end":s-=v;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")});break}l=["+y","-x","+x","-y"],o=new Jn(e)}var w=r(o,l);e.move(w.toCSSCompatValues(i))}function qf(){}qf.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};qf.convertCueToDOMTree=function(t,e){return!t||!e?null:i7(t,e)};var Lme=.05,Ome="sans-serif",Dme="1.5%";qf.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=Dme,i.appendChild(n);function r(d){for(var f=0;f<d.length;f++)if(d[f].hasBeenReset||!d[f].displayState)return!0;return!1}if(!r(e)){for(var o=0;o<e.length;o++)n.appendChild(e[o].displayState);return}var a=[],s=Jn.getSimpleBoxPosition(n),l=Math.round(s.height*Lme*100)/100,c={font:l+"px "+Ome};(function(){for(var d,f,h=0;h<e.length;h++)f=e[h],d=new By(t,f,c),n.appendChild(d.div),Pme(t,d,s,a),f.displayState=d.div,a.push(Jn.getSimpleBoxPosition(d))})()};qf.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};qf.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Gr)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var d=e.buffer,f=0;f<d.length&&d[f]!=="\r"&&d[f]!==`
`;)++f;var h=d.substr(0,f);return d[f]==="\r"&&++f,d[f]===`
`&&++f,e.buffer=d.substr(f),h}function n(d){var f=new Kh;if(Ch(d,function(m,v){switch(m){case"id":f.set(m,v);break;case"width":f.percent(m,v);break;case"lines":f.integer(m,v);break;case"regionanchor":case"viewportanchor":var w=v.split(",");if(w.length!==2)break;var g=new Kh;if(g.percent("x",w[0]),g.percent("y",w[1]),!g.has("x")||!g.has("y"))break;f.set(m+"X",g.get("x")),f.set(m+"Y",g.get("y"));break;case"scroll":f.alt(m,v,["up"]);break}},/=/,/\s/),f.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=f.get("width",100),h.lines=f.get("lines",3),h.regionAnchorX=f.get("regionanchorX",0),h.regionAnchorY=f.get("regionanchorY",100),h.viewportAnchorX=f.get("viewportanchorX",0),h.viewportAnchorY=f.get("viewportanchorY",100),h.scroll=f.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:f.get("id"),region:h})}}function r(d){var f=new Kh;Ch(d,function(h,m){switch(h){case"MPEGT":f.integer(h+"S",m);break;case"LOCA":f.set(h+"L",cE(m));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function o(d){d.match(/X-TIMESTAMP-MAP/)?Ch(d,function(f,h){switch(f){case"X-TIMESTAMP-MAP":r(h);break}},/=/):Ch(d,function(f,h){switch(f){case"Region":n(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=i();var s=a.match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new Gr(Gr.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=i(),e.state){case"HEADER":/:/.test(a)?o(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{Sme(a,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Gr(Gr.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Mme=qf,Bme="auto",Fme={"":1,lr:1,rl:1},Nme={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function jme(t){if(typeof t!="string")return!1;var e=Fme[t.toLowerCase()];return e?t.toLowerCase():!1}function _k(t){if(typeof t!="string")return!1;var e=Nme[t.toLowerCase()];return e?t.toLowerCase():!1}function n7(t,e,i){this.hasBeenReset=!1;var n="",r=!1,o=t,a=e,s=i,l=null,c="",d=!0,f="auto",h="start",m="auto",v="auto",w=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(A){n=""+A}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(A){r=!!A}},startTime:{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");o=A,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");a=A,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(A){s=""+A,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(A){l=A,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(A){var x=jme(A);if(x===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=x,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(A){d=!!A,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(A){if(typeof A!="number"&&A!==Bme)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=A,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(A){var x=_k(A);x?(h=x,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");m=A,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(A){var x=_k(A);x?(v=x,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return w},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");w=A,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(A){var x=_k(A);if(!x)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=x,this.hasBeenReset=!0}}}),this.displayState=void 0}n7.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ume=n7,Gme={"":!0,up:!0};function Hme(t){if(typeof t!="string")return!1;var e=Gme[t.toLowerCase()];return e?t.toLowerCase():!1}function lh(t){return typeof t=="number"&&t>=0&&t<=100}function Wme(){var t=100,e=3,i=0,n=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(s){if(!lh(s))throw new Error("Width must be between 0 and 100.");t=s}},lines:{enumerable:!0,get:function(){return e},set:function(s){if(typeof s!="number")throw new TypeError("Lines must be set to a number.");e=s}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(s){if(!lh(s))throw new Error("RegionAnchorX must be between 0 and 100.");n=s}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(s){if(!lh(s))throw new Error("RegionAnchorY must be between 0 and 100.");i=s}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(s){if(!lh(s))throw new Error("ViewportAnchorY must be between 0 and 100.");o=s}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(s){if(!lh(s))throw new Error("ViewportAnchorX must be between 0 and 100.");r=s}},scroll:{enumerable:!0,get:function(){return a},set:function(s){var l=Hme(s);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var Yme=Wme,_s=Q,wu=t7.exports={WebVTT:Mme,VTTCue:Ume,VTTRegion:Yme};_s.vttjs=wu;_s.WebVTT=wu.WebVTT;var Vme=wu.VTTCue,$me=wu.VTTRegion,Qme=_s.VTTCue,qme=_s.VTTRegion;wu.shim=function(){_s.VTTCue=Vme,_s.VTTRegion=$me};wu.restore=function(){_s.VTTCue=Qme,_s.VTTRegion=qme};_s.VTTCue||wu.shim();var BP=t7.exports;function Kme(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kv(t,e,i){return Kme()?kv=Reflect.construct:kv=function(r,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(r,s),c=new l;return a&&um(c,a.prototype),c},kv.apply(null,arguments)}var r7={exports:{}};(function(t,e){(function(i){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,r=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(l,c,d){if(d=d||{},l=l.trim(),c=c.trim(),!c){if(!d.alwaysNormalize)return l;var f=s.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=s.normalizePath(f.path),s.buildURLFromParts(f)}var h=s.parseURL(c);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return d.alwaysNormalize?(h.path=s.normalizePath(h.path),s.buildURLFromParts(h)):c;var m=s.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var v=r.exec(m.path);m.netLoc=v[1],m.path=v[2]}m.netLoc&&!m.path&&(m.path="/");var w={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(w.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)w.path=m.path,h.params||(w.params=m.params,h.query||(w.query=m.query));else{var g=m.path,A=g.substring(0,g.lastIndexOf("/")+1)+h.path;w.path=s.normalizePath(A)}return w.path===null&&(w.path=d.alwaysNormalize?s.normalizePath(h.path):h.path),s.buildURLFromParts(w)},parseURL:function(l){var c=n.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=s})()})(r7);var FP=r7.exports,NP="http://example.com",zA=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=Q.location&&Q.location.href||"");var n=typeof Q.URL=="function",r=/^\/\//.test(e),o=!Q.location&&!/\/\//i.test(e);if(n?e=new Q.URL(e,Q.location||NP):/\/\//i.test(e)||(e=FP.buildAbsoluteURL(Q.location&&Q.location.href||"",e)),n){var a=new URL(i,e);return o?a.href.slice(NP.length):r?a.href.slice(a.protocol.length):a.href}return FP.buildAbsoluteURL(e,i)},uE=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,r){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r)},e.off=function(n,r){if(!this.listeners[n])return!1;var o=this.listeners[n].indexOf(r);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(o,1),o>-1},e.trigger=function(n){var r=this.listeners[n];if(!!r)if(arguments.length===2)for(var o=r.length,a=0;a<o;++a)r[a].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),l=r.length,c=0;c<l;++c)r[c].apply(this,s)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(r){n.push(r)})},t}(),Xme=function(e){return Q.atob?Q.atob(e):Buffer.from(e,"base64").toString("binary")};function o7(t){for(var e=Xme(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var Jme=function(t){ye(e,t);function e(){var n;return n=t.call(this)||this,n.buffer="",n}var i=e.prototype;return i.push=function(r){var o;for(this.buffer+=r,o=this.buffer.indexOf(`
`);o>-1;o=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,o)),this.buffer=this.buffer.substring(o+1)},e}(uE),Zme=String.fromCharCode(9),Tk=function(e){var i=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return i[1]&&(n.length=parseInt(i[1],10)),i[2]&&(n.offset=parseInt(i[2],10)),n},ege=function(){var e="[^=]*",i='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+i+")";return new RegExp("(?:^|,)("+n+")")},So=function(e){for(var i=e.split(ege()),n={},r=i.length,o;r--;)i[r]!==""&&(o=/([^=]*)=(.*)/.exec(i[r]).slice(1),o[0]=o[0].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^['"](.*)['"]$/g,"$1"),n[o[0]]=o[1]);return n},tge=function(t){ye(e,t);function e(){var n;return n=t.call(this)||this,n.customParsers=[],n.tagMappers=[],n}var i=e.prototype;return i.push=function(r){var o=this,a,s;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var l=this.tagMappers.reduce(function(c,d){var f=d(r);return f===r?c:c.concat([f])},[r]);l.forEach(function(c){for(var d=0;d<o.customParsers.length;d++)if(o.customParsers[d].call(o,c))return;if(c.indexOf("#EXT")!==0){o.trigger("data",{type:"comment",text:c.slice(1)});return}if(c=c.replace("\r",""),a=/^#EXTM3U/.exec(c),a){o.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(c),a){s={type:"tag",tagType:"inf"},a[1]&&(s.duration=parseFloat(a[1])),a[2]&&(s.title=a[2]),o.trigger("data",s);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"targetduration"},a[1]&&(s.duration=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"version"},a[1]&&(s.version=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"media-sequence"},a[1]&&(s.number=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(s.number=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"playlist-type"},a[1]&&(s.playlistType=a[1]),o.trigger("data",s);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(c),a){s=Me(Tk(a[1]),{type:"tag",tagType:"byterange"}),o.trigger("data",s);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(c),a){s={type:"tag",tagType:"allow-cache"},a[1]&&(s.allowed=!/NO/.test(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(c),a){if(s={type:"tag",tagType:"map"},a[1]){var f=So(a[1]);f.URI&&(s.uri=f.URI),f.BYTERANGE&&(s.byterange=Tk(f.BYTERANGE))}o.trigger("data",s);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(c),a){if(s={type:"tag",tagType:"stream-inf"},a[1]){if(s.attributes=So(a[1]),s.attributes.RESOLUTION){var h=s.attributes.RESOLUTION.split("x"),m={};h[0]&&(m.width=parseInt(h[0],10)),h[1]&&(m.height=parseInt(h[1],10)),s.attributes.RESOLUTION=m}s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))}o.trigger("data",s);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(c),a){s={type:"tag",tagType:"media"},a[1]&&(s.attributes=So(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-ENDLIST/.exec(c),a){o.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(c),a){o.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(c),a){s={type:"tag",tagType:"program-date-time"},a[1]&&(s.dateTimeString=a[1],s.dateTimeObject=new Date(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(c),a){s={type:"tag",tagType:"key"},a[1]&&(s.attributes=So(a[1]),s.attributes.IV&&(s.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),o.trigger("data",s);return}if(a=/^#EXT-X-START:?(.*)$/.exec(c),a){s={type:"tag",tagType:"start"},a[1]&&(s.attributes=So(a[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),o.trigger("data",s);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-out-cont"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-out"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-in"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"skip"},s.attributes=So(a[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(Zme)),o.trigger("data",s);return}if(a=/^#EXT-X-PART:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"part"},s.attributes=So(a[1]),["DURATION"].forEach(function(v){s.attributes.hasOwnProperty(v)&&(s.attributes[v]=parseFloat(s.attributes[v]))}),["INDEPENDENT","GAP"].forEach(function(v){s.attributes.hasOwnProperty(v)&&(s.attributes[v]=/YES/.test(s.attributes[v]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=Tk(s.attributes.BYTERANGE)),o.trigger("data",s);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"server-control"},s.attributes=So(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(v){s.attributes.hasOwnProperty(v)&&(s.attributes[v]=parseFloat(s.attributes[v]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(v){s.attributes.hasOwnProperty(v)&&(s.attributes[v]=/YES/.test(s.attributes[v]))}),o.trigger("data",s);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"part-inf"},s.attributes=So(a[1]),["PART-TARGET"].forEach(function(v){s.attributes.hasOwnProperty(v)&&(s.attributes[v]=parseFloat(s.attributes[v]))}),o.trigger("data",s);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"preload-hint"},s.attributes=So(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(v){if(s.attributes.hasOwnProperty(v)){s.attributes[v]=parseInt(s.attributes[v],10);var w=v==="BYTERANGE-LENGTH"?"length":"offset";s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[w]=s.attributes[v],delete s.attributes[v]}}),o.trigger("data",s);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"rendition-report"},s.attributes=So(a[1]),["LAST-MSN","LAST-PART"].forEach(function(v){s.attributes.hasOwnProperty(v)&&(s.attributes[v]=parseInt(s.attributes[v],10))}),o.trigger("data",s);return}o.trigger("data",{type:"tag",data:c.slice(4)})})}},i.addParser=function(r){var o=this,a=r.expression,s=r.customType,l=r.dataParser,c=r.segment;typeof l!="function"&&(l=function(f){return f}),this.customParsers.push(function(d){var f=a.exec(d);if(f)return o.trigger("data",{type:"custom",data:l(d),customType:s,segment:c}),!0})},i.addTagMapper=function(r){var o=r.expression,a=r.map,s=function(c){return o.test(c)?a(c):c};this.tagMappers.push(s)},e}(uE),ige=function(e){return e.toLowerCase().replace(/-(\w)/g,function(i){return i[1].toUpperCase()})},Zu=function(e){var i={};return Object.keys(e).forEach(function(n){i[ige(n)]=e[n]}),i},Sk=function(e){var i=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(!!i){var o="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",l=n&&n*3,c=r&&r*2;n&&!i.hasOwnProperty(a)&&(i[a]=l,this.trigger("info",{message:o+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&i[a]<l&&(this.trigger("warn",{message:o+" clamping HOLD-BACK ("+i[a]+") to targetDuration * 3 ("+l+")"}),i[a]=l),r&&!i.hasOwnProperty(s)&&(i[s]=r*3,this.trigger("info",{message:o+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+i[s]+")."})),r&&i[s]<c&&(this.trigger("warn",{message:o+" clamping PART-HOLD-BACK ("+i[s]+") to partTargetDuration * 2 ("+c+")."}),i[s]=c)}},nge=function(t){ye(e,t);function e(){var n;n=t.call(this)||this,n.lineStream=new Jme,n.parseStream=new tge,n.lineStream.pipe(n.parseStream);var r=re(n),o=[],a={},s,l,c=!1,d=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",m=0;n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var v=0,w=0;return n.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&s&&(a.map=s),!a.key&&l&&(a.key=l),!a.timeline&&typeof m=="number"&&(a.timeline=m),n.manifest.preloadSegment=a)}),n.parseStream.on("data",function(g){var A,x;({tag:function(){({version:function(){g.version&&(this.manifest.version=g.version)},"allow-cache":function(){this.manifest.allowCache=g.allowed,"allowed"in g||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var z={};"length"in g&&(a.byterange=z,z.length=g.length,"offset"in g||(g.offset=v)),"offset"in g&&(a.byterange=z,z.offset=g.offset),v=z.offset+z.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),g.duration>0&&(a.duration=g.duration),g.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(!g.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(g.attributes.METHOD==="NONE"){l=null;return}if(!g.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(g.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:g.attributes};return}if(g.attributes.KEYFORMAT===h){var z=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(z.indexOf(g.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(g.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),g.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(g.attributes.KEYID&&g.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:g.attributes.KEYFORMAT,keyId:g.attributes.KEYID.substring(2)},pssh:o7(g.attributes.URI.split(",")[1])};return}g.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:g.attributes.METHOD||"AES-128",uri:g.attributes.URI},typeof g.attributes.IV!="undefined"&&(l.iv=g.attributes.IV)},"media-sequence":function(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+g.number});return}this.manifest.mediaSequence=g.number},"discontinuity-sequence":function(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+g.number});return}this.manifest.discontinuitySequence=g.number,m=g.number},"playlist-type":function(){if(!/VOD|EVENT/.test(g.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+g.playlist});return}this.manifest.playlistType=g.playlistType},map:function(){s={},g.uri&&(s.uri=g.uri),g.byterange&&(s.byterange=g.byterange),l&&(s.key=l)},"stream-inf":function(){if(this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||f,!g.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),Me(a.attributes,g.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,!(g.attributes&&g.attributes.TYPE&&g.attributes["GROUP-ID"]&&g.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var z=this.manifest.mediaGroups[g.attributes.TYPE];z[g.attributes["GROUP-ID"]]=z[g.attributes["GROUP-ID"]]||{},A=z[g.attributes["GROUP-ID"]],x={default:/yes/i.test(g.attributes.DEFAULT)},x.default?x.autoselect=!0:x.autoselect=/yes/i.test(g.attributes.AUTOSELECT),g.attributes.LANGUAGE&&(x.language=g.attributes.LANGUAGE),g.attributes.URI&&(x.uri=g.attributes.URI),g.attributes["INSTREAM-ID"]&&(x.instreamId=g.attributes["INSTREAM-ID"]),g.attributes.CHARACTERISTICS&&(x.characteristics=g.attributes.CHARACTERISTICS),g.attributes.FORCED&&(x.forced=/yes/i.test(g.attributes.FORCED)),A[g.attributes.NAME]=x},discontinuity:function(){m+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=g.dateTimeString,this.manifest.dateTimeObject=g.dateTimeObject),a.dateTimeString=g.dateTimeString,a.dateTimeObject=g.dateTimeObject},targetduration:function(){if(!isFinite(g.duration)||g.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+g.duration});return}this.manifest.targetDuration=g.duration,Sk.call(this,this.manifest)},start:function(){if(!g.attributes||isNaN(g.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:g.attributes["TIME-OFFSET"],precise:g.attributes.PRECISE}},"cue-out":function(){a.cueOut=g.data},"cue-out-cont":function(){a.cueOutCont=g.data},"cue-in":function(){a.cueIn=g.data},skip:function(){this.manifest.skip=Zu(g.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",g.attributes,["SKIPPED-SEGMENTS"])},part:function(){var z=this;c=!0;var L=this.manifest.segments.length,B=Zu(g.attributes);a.parts=a.parts||[],a.parts.push(B),B.byterange&&(B.byterange.hasOwnProperty("offset")||(B.byterange.offset=w),w=B.byterange.offset+B.byterange.length);var O=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+O+" for segment #"+L,g.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(F,H){F.hasOwnProperty("lastPart")||z.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+H+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var z=this.manifest.serverControl=Zu(g.attributes);z.hasOwnProperty("canBlockReload")||(z.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Sk.call(this,this.manifest),z.canSkipDateranges&&!z.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var z=this.manifest.segments.length,L=Zu(g.attributes),B=L.type&&L.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(L),L.byterange&&(L.byterange.hasOwnProperty("offset")||(L.byterange.offset=B?w:0,B&&(w=L.byterange.offset+L.byterange.length)));var O=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+O+" for segment #"+z,g.attributes,["TYPE","URI"]),!!L.type)for(var F=0;F<a.preloadHints.length-1;F++){var H=a.preloadHints[F];!H.type||H.type===L.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+O+" for segment #"+z+" has the same TYPE "+L.type+" as preload hint #"+F})}},"rendition-report":function(){var z=Zu(g.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(z);var L=this.manifest.renditionReports.length-1,B=["LAST-MSN","URI"];c&&B.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+L,g.attributes,B)},"part-inf":function(){this.manifest.partInf=Zu(g.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",g.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Sk.call(this,this.manifest)}}[g.tagType]||d).call(r)},uri:function(){a.uri=g.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=m,s&&(a.map=s),w=0,a={}},comment:function(){},custom:function(){g.segment?(a.custom=a.custom||{},a.custom[g.customType]=g.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[g.customType]=g.data)}})[g.type].call(r)}),n}var i=e.prototype;return i.warnOnMissingAttributes_=function(r,o,a){var s=[];a.forEach(function(l){o.hasOwnProperty(l)||s.push(l)}),s.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+s.join(", ")})},i.push=function(r){this.lineStream.push(r)},i.end=function(){this.lineStream.push(`
`),this.trigger("end")},i.addParser=function(r){this.parseStream.addParser(r)},i.addTagMapper=function(r){this.parseStream.addTagMapper(r)},e}(uE),Qc={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},rge=["video","audio","text"],jP=["Video","Audio","Text"],a7=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,n,r){var o=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(r).toString(16)).slice(-2);return"avc1."+o+"00"+a})},Ko=function(e){e===void 0&&(e="");var i=e.split(","),n=[];return i.forEach(function(r){r=r.trim();var o;rge.forEach(function(a){var s=Qc[a].exec(r.toLowerCase());if(!(!s||s.length<=1)){o=a;var l=r.substring(0,s[1].length),c=r.replace(l,"");n.push({type:l,details:c,mediaType:a})}}),o||n.push({type:r,details:"",mediaType:"unknown"})}),n},oge=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var n=e.mediaGroups.AUDIO[i];if(!n)return null;for(var r in n){var o=n[r];if(o.default&&o.playlists)return Ko(o.playlists[0].attributes.CODECS)}return null},s7=function(e){return e===void 0&&(e=""),Qc.audio.test(e.trim().toLowerCase())},age=function(e){return e===void 0&&(e=""),Qc.text.test(e.trim().toLowerCase())},Qm=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(o){return a7(o.trim())}),n="video";i.length===1&&s7(i[0])?n="audio":i.length===1&&age(i[0])&&(n="application");var r="mp4";return i.every(function(o){return Qc.mp4.test(o)})?r="mp4":i.every(function(o){return Qc.webm.test(o)})?r="webm":i.every(function(o){return Qc.ogg.test(o)})&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}},_v=function(e){return e===void 0&&(e=""),Q.MediaSource&&Q.MediaSource.isTypeSupported&&Q.MediaSource.isTypeSupported(Qm(e))||!1},Ck=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var n=0;n<jP.length;n++){var r=jP[n];if(Qc["muxer"+r].test(i))return!0}return!1})},UP="mp4a.40.2",sge="avc1.4d400d",lge=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,cge=/^application\/dash\+xml/i,l7=function(e){return lge.test(e)?"hls":cge.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Vl={},$l={};function uge(t,e,i){if(i===void 0&&(i=Array.prototype),t&&typeof i.find=="function")return i.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];if(e.call(void 0,r,n,t))return r}}function dE(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var c7=dE({HTML:"text/html",isHTML:function(t){return t===c7.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),u7=dE({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===u7.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});$l.find=uge;$l.freeze=dE;$l.MIME_TYPE=c7;$l.NAMESPACE=u7;var d7=$l,ga=d7.find,qm=d7.NAMESPACE;function dge(t){return t!==""}function fge(t){return t?t.split(/[\t\n\f\r ]+/).filter(dge):[]}function pge(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function GP(t){if(!t)return[];var e=fge(t);return Object.keys(e.reduce(pge,{}))}function hge(t){return function(e){return t&&t.indexOf(e)!==-1}}function Gg(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function zr(t,e){var i=t.prototype;if(!(i instanceof e)){let r=function(){};var n=r;r.prototype=e.prototype,r=new r,Gg(i,r),t.prototype=i=r}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var Ir={},Po=Ir.ELEMENT_NODE=1,yf=Ir.ATTRIBUTE_NODE=2,Fy=Ir.TEXT_NODE=3,f7=Ir.CDATA_SECTION_NODE=4,p7=Ir.ENTITY_REFERENCE_NODE=5,mge=Ir.ENTITY_NODE=6,h7=Ir.PROCESSING_INSTRUCTION_NODE=7,m7=Ir.COMMENT_NODE=8,g7=Ir.DOCUMENT_NODE=9,b7=Ir.DOCUMENT_TYPE_NODE=10,Ts=Ir.DOCUMENT_FRAGMENT_NODE=11,gge=Ir.NOTATION_NODE=12,Gn={},ln={};Gn.INDEX_SIZE_ERR=(ln[1]="Index size error",1);Gn.DOMSTRING_SIZE_ERR=(ln[2]="DOMString size error",2);var br=Gn.HIERARCHY_REQUEST_ERR=(ln[3]="Hierarchy request error",3);Gn.WRONG_DOCUMENT_ERR=(ln[4]="Wrong document",4);Gn.INVALID_CHARACTER_ERR=(ln[5]="Invalid character",5);Gn.NO_DATA_ALLOWED_ERR=(ln[6]="No data allowed",6);Gn.NO_MODIFICATION_ALLOWED_ERR=(ln[7]="No modification allowed",7);var v7=Gn.NOT_FOUND_ERR=(ln[8]="Not found",8);Gn.NOT_SUPPORTED_ERR=(ln[9]="Not supported",9);var HP=Gn.INUSE_ATTRIBUTE_ERR=(ln[10]="Attribute in use",10);Gn.INVALID_STATE_ERR=(ln[11]="Invalid state",11);Gn.SYNTAX_ERR=(ln[12]="Syntax error",12);Gn.INVALID_MODIFICATION_ERR=(ln[13]="Invalid modification",13);Gn.NAMESPACE_ERR=(ln[14]="Invalid namespace",14);Gn.INVALID_ACCESS_ERR=(ln[15]="Invalid access",15);function Ii(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,ln[t]),this.message=ln[t],Error.captureStackTrace&&Error.captureStackTrace(this,Ii);return i.code=t,e&&(this.message=this.message+": "+e),i}Ii.prototype=Error.prototype;Gg(Gn,Ii);function ps(){}ps.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)wd(this[n],i,t,e);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function wf(t,e){this._node=t,this._refresh=e,fE(this)}function fE(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);I7(t,"length",i.length),Gg(i,t),t._inc=e}}wf.prototype.item=function(t){return fE(this),this[t]};zr(wf,ps);function Ny(){}function y7(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function WP(t,e,i,n){if(n?e[y7(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&x7(r,t,n),bge(r,t,i))}}function YP(t,e,i){var n=y7(e,i);if(n>=0){for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,t){var o=t.ownerDocument;o&&(x7(o,t,i),i.ownerElement=null)}}else throw new Ii(v7,new Error(t.tagName+"@"+i))}Ny.prototype={length:0,item:ps.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Ii(HP);var i=this.getNamedItem(t.nodeName);return WP(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new Ii(HP);return i=this.getNamedItemNS(t.namespaceURI,t.localName),WP(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return YP(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return YP(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function w7(){}w7.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var n=new Hg;if(n.implementation=this,n.childNodes=new ps,n.doctype=i||null,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new IA;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=i||"",n}};function Jt(){}Jt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return jy(this,t,e)},replaceChild:function(t,e){jy(this,t,e,_7),e&&this.removeChild(e)},removeChild:function(t){return k7(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return F2(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Fy&&t.nodeType==Fy?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===t)return n}e=e.nodeType==yf?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&t in i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];e=e.nodeType==yf?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function A7(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Gg(Ir,Jt);Gg(Ir,Jt.prototype);function Km(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Km(t,e))return!0;while(t=t.nextSibling)}function Hg(){this.ownerDocument=this}function bge(t,e,i){t&&t._inc++;var n=i.namespaceURI;n===qm.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function x7(t,e,i,n){t&&t._inc++;var r=i.namespaceURI;r===qm.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function pE(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var r=e.firstChild,o=0;r;)n[o++]=r,r=r.nextSibling;n.length=o,delete n[n.length]}}}function k7(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,pE(t.ownerDocument,t),e}function vge(t){return t&&(t.nodeType===Jt.DOCUMENT_NODE||t.nodeType===Jt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Jt.ELEMENT_NODE)}function yge(t){return t&&(ba(t)||hE(t)||Ss(t)||t.nodeType===Jt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Jt.COMMENT_NODE||t.nodeType===Jt.PROCESSING_INSTRUCTION_NODE)}function Ss(t){return t&&t.nodeType===Jt.DOCUMENT_TYPE_NODE}function ba(t){return t&&t.nodeType===Jt.ELEMENT_NODE}function hE(t){return t&&t.nodeType===Jt.TEXT_NODE}function VP(t,e){var i=t.childNodes||[];if(ga(i,ba)||Ss(e))return!1;var n=ga(i,Ss);return!(e&&n&&i.indexOf(n)>i.indexOf(e))}function $P(t,e){var i=t.childNodes||[];function n(o){return ba(o)&&o!==e}if(ga(i,n))return!1;var r=ga(i,Ss);return!(e&&r&&i.indexOf(r)>i.indexOf(e))}function wge(t,e,i){if(!vge(t))throw new Ii(br,"Unexpected parent node type "+t.nodeType);if(i&&i.parentNode!==t)throw new Ii(v7,"child not in parent");if(!yge(e)||Ss(e)&&t.nodeType!==Jt.DOCUMENT_NODE)throw new Ii(br,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function Age(t,e,i){var n=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Jt.DOCUMENT_FRAGMENT_NODE){var o=r.filter(ba);if(o.length>1||ga(r,hE))throw new Ii(br,"More than one element or text in fragment");if(o.length===1&&!VP(t,i))throw new Ii(br,"Element in fragment can not be inserted before doctype")}if(ba(e)&&!VP(t,i))throw new Ii(br,"Only one element can be added and only after doctype");if(Ss(e)){if(ga(n,Ss))throw new Ii(br,"Only one doctype is allowed");var a=ga(n,ba);if(i&&n.indexOf(a)<n.indexOf(i))throw new Ii(br,"Doctype can only be inserted before an element");if(!i&&a)throw new Ii(br,"Doctype can not be appended since element is present")}}function _7(t,e,i){var n=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Jt.DOCUMENT_FRAGMENT_NODE){var o=r.filter(ba);if(o.length>1||ga(r,hE))throw new Ii(br,"More than one element or text in fragment");if(o.length===1&&!$P(t,i))throw new Ii(br,"Element in fragment can not be inserted before doctype")}if(ba(e)&&!$P(t,i))throw new Ii(br,"Only one element can be added and only after doctype");if(Ss(e)){let l=function(c){return Ss(c)&&c!==i};var s=l;if(ga(n,l))throw new Ii(br,"Only one doctype is allowed");var a=ga(n,ba);if(i&&n.indexOf(a)<n.indexOf(i))throw new Ii(br,"Doctype can only be inserted before an element")}}function jy(t,e,i,n){wge(t,e,i),t.nodeType===Jt.DOCUMENT_NODE&&(n||Age)(t,e,i);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===Ts){var o=e.firstChild;if(o==null)return e;var a=e.lastChild}else o=a=e;var s=i?i.previousSibling:t.lastChild;o.previousSibling=s,a.nextSibling=i,s?s.nextSibling=o:t.firstChild=o,i==null?t.lastChild=a:i.previousSibling=a;do o.parentNode=t;while(o!==a&&(o=o.nextSibling));return pE(t.ownerDocument||t,t),e.nodeType==Ts&&(e.firstChild=e.lastChild=null),e}function xge(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,pE(t.ownerDocument,t,e),e}Hg.prototype={nodeName:"#document",nodeType:g7,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ts){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return jy(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Po&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),k7(this,t)},replaceChild:function(t,e){jy(this,t,e,_7),t.ownerDocument=this,e&&this.removeChild(e),ba(t)&&(this.documentElement=t)},importNode:function(t,e){return z7(this,t,e)},getElementById:function(t){var e=null;return Km(this.documentElement,function(i){if(i.nodeType==Po&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=GP(t);return new wf(this,function(i){var n=[];return e.length>0&&Km(i.documentElement,function(r){if(r!==i&&r.nodeType===Po){var o=r.getAttribute("class");if(o){var a=t===o;if(!a){var s=GP(o);a=e.every(hge(s))}a&&n.push(r)}}}),n})},createElement:function(t){var e=new du;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new ps;var i=e.attributes=new Ny;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new RA;return t.ownerDocument=this,t.childNodes=new ps,t},createTextNode:function(t){var e=new mE;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new gE;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new bE;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new yE;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new Uy;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new vE;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new du,n=e.split(":"),r=i.attributes=new Ny;return i.childNodes=new ps,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new Uy,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}};zr(Hg,Jt);function du(){this._nsMap={}}du.prototype={nodeType:Po,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ts?this.insertBefore(t,null):xge(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new wf(this,function(e){var i=[];return Km(e,function(n){n!==e&&n.nodeType==Po&&(t==="*"||n.tagName==t)&&i.push(n)}),i})},getElementsByTagNameNS:function(t,e){return new wf(this,function(i){var n=[];return Km(i,function(r){r!==i&&r.nodeType===Po&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&n.push(r)}),n})}};Hg.prototype.getElementsByTagName=du.prototype.getElementsByTagName;Hg.prototype.getElementsByTagNameNS=du.prototype.getElementsByTagNameNS;zr(du,Jt);function Uy(){}Uy.prototype.nodeType=yf;zr(Uy,Jt);function Wg(){}Wg.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(ln[br])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),r=this.data.substring(t+e);i=n+i+r,this.nodeValue=this.data=i,this.length=i.length}};zr(Wg,Jt);function mE(){}mE.prototype={nodeName:"#text",nodeType:Fy,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};zr(mE,Wg);function gE(){}gE.prototype={nodeName:"#comment",nodeType:m7};zr(gE,Wg);function bE(){}bE.prototype={nodeName:"#cdata-section",nodeType:f7};zr(bE,Wg);function IA(){}IA.prototype.nodeType=b7;zr(IA,Jt);function T7(){}T7.prototype.nodeType=gge;zr(T7,Jt);function S7(){}S7.prototype.nodeType=mge;zr(S7,Jt);function vE(){}vE.prototype.nodeType=p7;zr(vE,Jt);function RA(){}RA.prototype.nodeName="#document-fragment";RA.prototype.nodeType=Ts;zr(RA,Jt);function yE(){}yE.prototype.nodeType=h7;zr(yE,Jt);function C7(){}C7.prototype.serializeToString=function(t,e,i){return E7.call(t,e,i)};Jt.prototype.toString=E7;function E7(t,e){var i=[],n=this.nodeType==9&&this.documentElement||this,r=n.prefix,o=n.namespaceURI;if(o&&r==null){var r=n.lookupPrefix(o);if(r==null)var a=[{namespace:o,prefix:null}]}return wd(this,i,t,e,a),i.join("")}function QP(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!r||n==="xml"&&r===qm.XML||r===qm.XMLNS)return!1;for(var o=i.length;o--;){var a=i[o];if(a.prefix===n)return a.namespace!==r}return!0}function Ek(t,e,i){t.push(" ",e,'="',i.replace(/[<&"]/g,A7),'"')}function wd(t,e,i,n,r){if(r||(r=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Po:var o=t.attributes,a=o.length,A=t.firstChild,s=t.tagName;i=qm.isHTML(t.namespaceURI)||i;var l=s;if(!i&&!t.prefix&&t.namespaceURI){for(var c,d=0;d<o.length;d++)if(o.item(d).name==="xmlns"){c=o.item(d).value;break}if(!c)for(var f=r.length-1;f>=0;f--){var h=r[f];if(h.prefix===""&&h.namespace===t.namespaceURI){c=h.namespace;break}}if(c!==t.namespaceURI)for(var f=r.length-1;f>=0;f--){var h=r[f];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+s);break}}}e.push("<",l);for(var m=0;m<a;m++){var v=o.item(m);v.prefix=="xmlns"?r.push({prefix:v.localName,namespace:v.value}):v.nodeName=="xmlns"&&r.push({prefix:"",namespace:v.value})}for(var m=0;m<a;m++){var v=o.item(m);if(QP(v,i,r)){var w=v.prefix||"",g=v.namespaceURI;Ek(e,w?"xmlns:"+w:"xmlns",g),r.push({prefix:w,namespace:g})}wd(v,e,i,n,r)}if(s===l&&QP(t,i,r)){var w=t.prefix||"",g=t.namespaceURI;Ek(e,w?"xmlns:"+w:"xmlns",g),r.push({prefix:w,namespace:g})}if(A||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(e.push(">"),i&&/^script$/i.test(s))for(;A;)A.data?e.push(A.data):wd(A,e,i,n,r.slice()),A=A.nextSibling;else for(;A;)wd(A,e,i,n,r.slice()),A=A.nextSibling;e.push("</",l,">")}else e.push("/>");return;case g7:case Ts:for(var A=t.firstChild;A;)wd(A,e,i,n,r.slice()),A=A.nextSibling;return;case yf:return Ek(e,t.name,t.value);case Fy:return e.push(t.data.replace(/[<&]/g,A7).replace(/]]>/g,"]]&gt;"));case f7:return e.push("<![CDATA[",t.data,"]]>");case m7:return e.push("<!--",t.data,"-->");case b7:var x=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),T&&T!="."&&e.push(" ",T),e.push(">");else if(T&&T!=".")e.push(" SYSTEM ",T,">");else{var E=t.internalSubset;E&&e.push(" [",E,"]"),e.push(">")}return;case h7:return e.push("<?",t.target," ",t.data,"?>");case p7:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function z7(t,e,i){var n;switch(e.nodeType){case Po:n=e.cloneNode(!1),n.ownerDocument=t;case Ts:break;case yf:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i)for(var r=e.firstChild;r;)n.appendChild(z7(t,r,i)),r=r.nextSibling;return n}function F2(t,e,i){var n=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];typeof o!="object"&&o!=n[r]&&(n[r]=o)}switch(e.childNodes&&(n.childNodes=new ps),n.ownerDocument=t,n.nodeType){case Po:var a=e.attributes,s=n.attributes=new Ny,l=a.length;s._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(F2(t,a.item(c),!0));break;case yf:i=!0}if(i)for(var d=e.firstChild;d;)n.appendChild(F2(t,d,i)),d=d.nextSibling;return n}function I7(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Po:case Ts:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};var getTextContent=t;Object.defineProperty(wf.prototype,"length",{get:function(){return fE(this),this.$$length}}),Object.defineProperty(Jt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Po:case Ts:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),I7=function(e,i,n){e["$$"+i]=n}}}catch{}Vl.DocumentType=IA;Vl.DOMException=Ii;Vl.DOMImplementation=w7;Vl.Element=du;Vl.Node=Jt;Vl.NodeList=ps;Vl.XMLSerializer=C7;var Yg={},R7={};(function(t){var e=$l.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(R7);var wE={},Xm=$l.NAMESPACE,N2=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,qP=new RegExp("[\\-\\.0-9"+N2.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),KP=new RegExp("^"+N2.source+qP.source+"*(?::"+N2.source+qP.source+"*)?$"),ch=0,Xs=1,ed=2,uh=3,td=4,id=5,dh=6,U0=7;function Af(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Af)}Af.prototype=new Error;Af.prototype.name=Af.name;function P7(){}P7.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),L7(e,e={}),kge(t,e,i,n,this.errorHandler),n.endDocument()}};function kge(t,e,i,n,r){function o(Ne){if(Ne>65535){Ne-=65536;var Be=55296+(Ne>>10),Ve=56320+(Ne&1023);return String.fromCharCode(Be,Ve)}else return String.fromCharCode(Ne)}function a(Ne){var Be=Ne.slice(1,-1);return Be in i?i[Be]:Be.charAt(0)==="#"?o(parseInt(Be.substr(1).replace("x","0x"))):(r.error("entity not found:"+Ne),Ne)}function s(Ne){if(Ne>w){var Be=t.substring(w,Ne).replace(/&#?\w+;/g,a);h&&l(w),n.characters(Be,0,Ne-w),w=Ne}}function l(Ne,Be){for(;Ne>=d&&(Be=f.exec(t));)c=Be.index,d=c+Be[0].length,h.lineNumber++;h.columnNumber=Ne-c+1}for(var c=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,m=[{currentNSMap:e}],v={},w=0;;){try{var g=t.indexOf("<",w);if(g<0){if(!t.substr(w).match(/^\s*$/)){var A=n.doc,x=A.createTextNode(t.substr(w));A.appendChild(x),n.currentElement=x}return}switch(g>w&&s(g),t.charAt(g+1)){case"/":var X=t.indexOf(">",g+3),T=t.substring(g+2,X).replace(/[ \t\n\r]+$/g,""),E=m.pop();X<0?(T=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+T+" is not complete:"+E.tagName),X=g+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),r.error("end tag name: "+T+" maybe not complete"),X=g+1+T.length);var z=E.localNSMap,L=E.tagName==T,B=L||E.tagName&&E.tagName.toLowerCase()==T.toLowerCase();if(B){if(n.endElement(E.uri,E.localName,T),z)for(var O in z)Object.prototype.hasOwnProperty.call(z,O)&&n.endPrefixMapping(O);L||r.fatalError("end tag name: "+T+" is not match the current start tagName:"+E.tagName)}else m.push(E);X++;break;case"?":h&&l(g),X=Ege(t,g,n);break;case"!":h&&l(g),X=Cge(t,g,n,r);break;default:h&&l(g);var F=new O7,H=m[m.length-1].currentNSMap,X=_ge(t,g,F,H,a,r),de=F.length;if(!F.closed&&Sge(t,X,F.tagName,v)&&(F.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),h&&de){for(var we=XP(h,{}),Ee=0;Ee<de;Ee++){var _e=F[Ee];l(_e.offset),_e.locator=XP(h,{})}n.locator=we,JP(F,n,H)&&m.push(F),n.locator=h}else JP(F,n,H)&&m.push(F);Xm.isHTML(F.uri)&&!F.closed?X=Tge(t,X,F.tagName,a,n):X++}}catch(Ne){if(Ne instanceof Af)throw Ne;r.error("element parse error: "+Ne),X=-1}X>w?w=X:s(Math.max(g,w)+1)}}function XP(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function _ge(t,e,i,n,r,o){function a(h,m,v){i.attributeNames.hasOwnProperty(h)&&o.fatalError("Attribute "+h+" redefined"),i.addValue(h,m,v)}for(var s,l,c=++e,d=ch;;){var f=t.charAt(c);switch(f){case"=":if(d===Xs)s=t.slice(e,c),d=uh;else if(d===ed)d=uh;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===uh||d===Xs)if(d===Xs&&(o.warning('attribute value must after "="'),s=t.slice(e,c)),e=c+1,c=t.indexOf(f,e),c>0)l=t.slice(e,c).replace(/&#?\w+;/g,r),a(s,l,e-1),d=id;else throw new Error("attribute value no end '"+f+"' match");else if(d==td)l=t.slice(e,c).replace(/&#?\w+;/g,r),a(s,l,e),o.warning('attribute "'+s+'" missed start quot('+f+")!!"),e=c+1,d=id;else throw new Error('attribute value must after "="');break;case"/":switch(d){case ch:i.setTagName(t.slice(e,c));case id:case dh:case U0:d=U0,i.closed=!0;case td:case Xs:case ed:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),d==ch&&i.setTagName(t.slice(e,c)),c;case">":switch(d){case ch:i.setTagName(t.slice(e,c));case id:case dh:case U0:break;case td:case Xs:l=t.slice(e,c),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case ed:d===ed&&(l=s),d==td?(o.warning('attribute "'+l+'" missed quot(")!'),a(s,l.replace(/&#?\w+;/g,r),e)):((!Xm.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case uh:throw new Error("attribute value missed!!")}return c;case"\x80":f=" ";default:if(f<=" ")switch(d){case ch:i.setTagName(t.slice(e,c)),d=dh;break;case Xs:s=t.slice(e,c),d=ed;break;case td:var l=t.slice(e,c).replace(/&#?\w+;/g,r);o.warning('attribute "'+l+'" missed quot(")!!'),a(s,l,e);case id:d=dh;break}else switch(d){case ed:i.tagName,(!Xm.isHTML(n[""])||!s.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),a(s,s,e),e=c,d=Xs;break;case id:o.warning('attribute space is required"'+s+'"!!');case dh:d=Xs,e=c;break;case uh:d=td,e=c;break;case U0:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function JP(t,e,i){for(var n=t.tagName,r=null,f=t.length;f--;){var o=t[f],a=o.qName,s=o.value,h=a.indexOf(":");if(h>0)var l=o.prefix=a.slice(0,h),c=a.slice(h+1),d=l==="xmlns"&&c;else c=a,l=null,d=a==="xmlns"&&"";o.localName=c,d!==!1&&(r==null&&(r={},L7(i,i={})),i[d]=r[d]=s,o.uri=Xm.XMLNS,e.startPrefixMapping(d,s))}for(var f=t.length;f--;){o=t[f];var l=o.prefix;l&&(l==="xml"&&(o.uri=Xm.XML),l!=="xmlns"&&(o.uri=i[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),c=t.localName=n.slice(h+1)):(l=null,c=t.localName=n);var m=t.uri=i[l||""];if(e.startElement(m,c,n,t),t.closed){if(e.endElement(m,c,n),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=r,!0}function Tge(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var o=t.indexOf("</"+i+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(i)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),o)}return e+1}function Sge(t,e,i,n){var r=n[i];return r==null&&(r=t.lastIndexOf("</"+i+">"),r<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function L7(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function Cge(t,e,i,n){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(i.comment(t,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,o-e-9),i.endCDATA(),o+3}var a=zge(t,e),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],c=!1,d=!1;s>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],d=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(d=a[3][0]));var f=a[s-1];return i.startDTD(l,c,d),i.endDTD(),f.index+f[0].length}}return-1}function Ege(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function O7(){this.attributeNames={}}O7.prototype={setTagName:function(t){if(!KP.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!KP.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function zge(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);i=r.exec(t);)if(n.push(i),i[1])return n}wE.XMLReader=P7;wE.ParseError=Af;var Ige=$l,AE=Vl,ZP=R7,D7=wE,Rge=AE.DOMImplementation,eL=Ige.NAMESPACE,Pge=D7.ParseError,Lge=D7.XMLReader;function M7(t){this.options=t||{locator:{}}}M7.prototype.parseFromString=function(t,e){var i=this.options,n=new Lge,r=i.domBuilder||new Vg,o=i.errorHandler,a=i.locator,s=i.xmlns||{},l=/\/x?html?$/.test(e),c=l?ZP.HTML_ENTITIES:ZP.XML_ENTITIES;return a&&r.setDocumentLocator(a),n.errorHandler=Oge(o,r,a),n.domBuilder=i.domBuilder||r,l&&(s[""]=eL.HTML),s.xml=s.xml||eL.XML,t&&typeof t=="string"?n.parse(t,s,c):n.errorHandler.error("invalid doc source"),r.doc};function Oge(t,e,i){if(!t){if(e instanceof Vg)return e;t=e}var n={},r=t instanceof Function;i=i||{};function o(a){var s=t[a];!s&&r&&(s=t.length==2?function(l){t(a,l)}:t),n[a]=s&&function(l){s("[xmldom "+a+"]	"+l+j2(i))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function Vg(){this.cdata=!1}function nd(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Vg.prototype={startDocument:function(){this.doc=new Rge().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,o=r.createElementNS(t,i||e),a=n.length;G0(this,o),this.currentElement=o,this.locator&&nd(this.locator,o);for(var s=0;s<a;s++){var t=n.getURI(s),l=n.getValue(s),i=n.getQName(s),c=r.createAttributeNS(t,i);this.locator&&nd(n.getLocator(s),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&nd(this.locator,i),G0(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=tL.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&nd(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=tL.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&nd(this.locator,n),G0(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(t,e,i);this.locator&&nd(this.locator,r),G0(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,j2(this.locator))},error:function(t){console.error("[xmldom error]	"+t,j2(this.locator))},fatalError:function(t){throw new Pge(t,this.locator)}};function j2(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function tL(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Vg.prototype[t]=function(){return null}});function G0(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Yg.__DOMHandler=Vg;Yg.DOMParser=M7;Yg.DOMImplementation=AE.DOMImplementation;Yg.XMLSerializer=AE.XMLSerializer;var Dge=Yg.DOMParser;/*! @name mpd-parser @version 0.19.2 @license Apache-2.0 */var iL=function(e){return!!e&&typeof e=="object"},Zn=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(function(r,o){return typeof o!="object"||Object.keys(o).forEach(function(a){Array.isArray(r[a])&&Array.isArray(o[a])?r[a]=r[a].concat(o[a]):iL(r[a])&&iL(o[a])?r[a]=t(r[a],o[a]):r[a]=o[a]}),r},{})},Mge=function(e){return Object.keys(e).map(function(i){return e[i]})},Bge=function(e,i){for(var n=[],r=e;r<i;r++)n.push(r);return n},PA=function(e){return e.reduce(function(i,n){return i.concat(n)},[])},B7=function(e){if(!e.length)return[];for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i},Fge=function(e,i){return e.reduce(function(n,r,o){return r[i]&&n.push(o),n},[])},xf={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Jm=function(e){var i=e.baseUrl,n=i===void 0?"":i,r=e.source,o=r===void 0?"":r,a=e.range,s=a===void 0?"":a,l=e.indexRange,c=l===void 0?"":l,d={uri:o,resolvedUri:zA(n||"",o)};if(s||c){var f=s||c,h=f.split("-"),m=parseInt(h[0],10),v=parseInt(h[1],10);d.byterange={length:v-m+1,offset:m}}return d},Nge=function(e){var i=e.offset+e.length-1;return e.offset+"-"+i},nL=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},jge={static:function(e){var i=e.duration,n=e.timescale,r=n===void 0?1:n,o=e.sourceDuration,a=e.periodDuration,s=nL(e.endNumber),l=i/r;return typeof s=="number"?{start:0,end:s}:typeof a=="number"?{start:0,end:a/l}:{start:0,end:o/l}},dynamic:function(e){var i=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,o=e.timescale,a=o===void 0?1:o,s=e.duration,l=e.start,c=l===void 0?0:l,d=e.minimumUpdatePeriod,f=d===void 0?0:d,h=e.timeShiftBufferDepth,m=h===void 0?1/0:h,v=nL(e.endNumber),w=(i+n)/1e3,g=r+c,A=w+f,x=A-g,T=Math.ceil(x*a/s),E=Math.floor((w-g-m)*a/s),z=Math.floor((w-g)*a/s);return{start:Math.max(0,E),end:typeof v=="number"?v:Math.min(T,z)}}},Uge=function(e){return function(i,n){var r=e.duration,o=e.timescale,a=o===void 0?1:o,s=e.periodIndex,l=e.startNumber,c=l===void 0?1:l;return{number:c+i,duration:r/a,timeline:s,time:n*r}}},xE=function(e){var i=e.type,n=e.duration,r=e.timescale,o=r===void 0?1:r,a=e.periodDuration,s=e.sourceDuration,l=jge[i](e),c=l.start,d=l.end,f=Bge(c,d).map(Uge(e));if(i==="static"){var h=f.length-1,m=typeof a=="number"?a:s;f[h].duration=m-n/o*h}return f},F7=function(e){var i=e.baseUrl,n=e.initialization,r=n===void 0?{}:n,o=e.sourceDuration,a=e.indexRange,s=a===void 0?"":a,l=e.duration;if(!i)throw new Error(xf.NO_BASE_URL);var c=Jm({baseUrl:i,source:r.sourceURL,range:r.range}),d=Jm({baseUrl:i,source:i,indexRange:s});if(d.map=c,l){var f=xE(e);f.length&&(d.duration=f[0].duration,d.timeline=f[0].timeline)}else o&&(d.duration=o,d.timeline=0);return d.number=0,[d]},kE=function(e,i,n){for(var r=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,l=s.offset+s.length,c=i.timescale,d=i.references.filter(function(L){return L.referenceType!==1}),f=[],h=e.endList?"static":"dynamic",m=l+i.firstOffset,v=0;v<d.length;v++){var w=i.references[v],g=w.referencedSize,A=w.subsegmentDuration,x=m+g-1,T=m+"-"+x,E={baseUrl:n,timescale:c,timeline:a,periodIndex:a,duration:A,sourceDuration:o,indexRange:T,type:h},z=F7(E)[0];r&&(z.map=r),f.push(z),m+=g}return e.segments=f,e},LA=function(e){return e&&e.uri+"-"+Nge(e.byterange)},rL=function(e){var i=Mge(e.reduce(function(n,r){var o=r.attributes.id+(r.attributes.lang||"");if(n[o]){var a;r.segments[0]&&(r.segments[0].discontinuity=!0),(a=n[o].segments).push.apply(a,r.segments),r.attributes.contentProtection&&(n[o].attributes.contentProtection=r.attributes.contentProtection)}else n[o]=r;return n},{}));return i.map(function(n){return n.discontinuityStarts=Fge(n.segments,"discontinuity"),n})},_E=function(e,i){var n=LA(e.sidx),r=n&&i[n]&&i[n].sidx;return r&&kE(e,r,e.sidx.resolvedUri),e},Gge=function(e,i){if(i===void 0&&(i={}),!Object.keys(i).length)return e;for(var n in e)e[n]=_E(e[n],i);return e},Hge=function(e,i){var n,r=e.attributes,o=e.segments,a=e.sidx,s={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:r.type==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:o,mediaSequence:o.length?o[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),a&&(s.sidx=a),i&&(s.attributes.AUDIO="audio",s.attributes.SUBTITLES="subs"),s},Wge=function(e){var i,n=e.attributes,r=e.segments;typeof r=="undefined"&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var o=(i={NAME:n.id,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i);return n.codecs&&(o.CODECS=n.codecs),{attributes:o,uri:"",endList:n.type==="static",timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},Yge=function(e,i,n){i===void 0&&(i={}),n===void 0&&(n=!1);var r,o=e.reduce(function(s,l){var c=l.attributes.role&&l.attributes.role.value||"",d=l.attributes.lang||"",f=l.attributes.label||"main";if(d&&!l.attributes.label){var h=c?" ("+c+")":"";f=""+l.attributes.lang+h}s[f]||(s[f]={language:d,autoselect:!0,default:c==="main",playlists:[],uri:""});var m=_E(Hge(l,n),i);return s[f].playlists.push(m),typeof r=="undefined"&&c==="main"&&(r=l,r.default=!0),s},{});if(!r){var a=Object.keys(o)[0];o[a].default=!0}return o},Vge=function(e,i){return i===void 0&&(i={}),e.reduce(function(n,r){var o=r.attributes.lang||"text";return n[o]||(n[o]={language:o,default:!1,autoselect:!1,playlists:[],uri:""}),n[o].playlists.push(_E(Wge(r),i)),n},{})},$ge=function(e){return e.reduce(function(i,n){return n&&n.forEach(function(r){var o=r.channel,a=r.language;i[a]={autoselect:!1,default:!1,instreamId:o,language:a},r.hasOwnProperty("aspectRatio")&&(i[a].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(i[a].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(i[a]["3D"]=r["3D"])}),i},{})},Qge=function(e){var i,n=e.attributes,r=e.segments,o=e.sidx,a={attributes:(i={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:n.type==="static",timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),o&&(a.sidx=o),a},qge=function(e){var i=e.attributes;return i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video"},Kge=function(e){var i=e.attributes;return i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio"},Xge=function(e){var i=e.attributes;return i.mimeType==="text/vtt"||i.contentType==="text"},Jge=function(e,i,n){var r;if(n===void 0&&(n={}),!e.length)return{};var o=e[0].attributes,a=o.sourceDuration,s=o.type,l=o.suggestedPresentationDelay,c=o.minimumUpdatePeriod,d=rL(e.filter(qge)).map(Qge),f=rL(e.filter(Kge)),h=e.filter(Xge),m=e.map(function(g){return g.attributes.captionServices}).filter(Boolean),v={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:a,playlists:Gge(d,n)};c>=0&&(v.minimumUpdatePeriod=c*1e3),i&&(v.locations=i),s==="dynamic"&&(v.suggestedPresentationDelay=l);var w=v.playlists.length===0;return f.length&&(v.mediaGroups.AUDIO.audio=Yge(f,n,w)),h.length&&(v.mediaGroups.SUBTITLES.subs=Vge(h,n)),m.length&&(v.mediaGroups["CLOSED-CAPTIONS"].cc=$ge(m)),v},Zge=function(e,i,n){var r=e.NOW,o=e.clientOffset,a=e.availabilityStartTime,s=e.timescale,l=s===void 0?1:s,c=e.start,d=c===void 0?0:c,f=e.minimumUpdatePeriod,h=f===void 0?0:f,m=(r+o)/1e3,v=a+d,w=m+h,g=w-v;return Math.ceil((g*l-i)/n)},N7=function(e,i){for(var n=e.type,r=e.minimumUpdatePeriod,o=r===void 0?0:r,a=e.media,s=a===void 0?"":a,l=e.sourceDuration,c=e.timescale,d=c===void 0?1:c,f=e.startNumber,h=f===void 0?1:f,m=e.periodIndex,v=[],w=-1,g=0;g<i.length;g++){var A=i[g],x=A.d,T=A.r||0,E=A.t||0;w<0&&(w=E),E&&E>w&&(w=E);var z=void 0;if(T<0){var L=g+1;L===i.length?n==="dynamic"&&o>0&&s.indexOf("$Number$")>0?z=Zge(e,w,x):z=(l*d-w)/x:z=(i[L].t-w)/x}else z=T+1;for(var B=h+v.length+z,O=h+v.length;O<B;)v.push({number:O,duration:x/d,time:w,timeline:m}),w+=x,O++}return v},ebe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,tbe=function(e){return function(i,n,r,o){if(i==="$$")return"$";if(typeof e[n]=="undefined")return i;var a=""+e[n];return n==="RepresentationID"||(r?o=parseInt(o,10):o=1,a.length>=o)?a:""+new Array(o-a.length+1).join("0")+a}},oL=function(e,i){return e.replace(ebe,tbe(i))},ibe=function(e,i){return!e.duration&&!i?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]:e.duration?xE(e):N7(e,i)},nbe=function(e,i){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,o=r===void 0?{sourceURL:"",range:""}:r,a=Jm({baseUrl:e.baseUrl,source:oL(o.sourceURL,n),range:o.range}),s=ibe(e,i);return s.map(function(l){n.Number=l.number,n.Time=l.time;var c=oL(e.media||"",n),d=e.timescale||1,f=e.presentationTimeOffset||0,h=e.periodStart+(l.time-f)/d,m={uri:c,timeline:l.timeline,duration:l.duration,resolvedUri:zA(e.baseUrl||"",c),map:a,number:l.number,presentationTime:h};return m})},rbe=function(e,i){var n=e.baseUrl,r=e.initialization,o=r===void 0?{}:r,a=Jm({baseUrl:n,source:o.sourceURL,range:o.range}),s=Jm({baseUrl:n,source:i.media,range:i.mediaRange});return s.map=a,s},obe=function(e,i){var n=e.duration,r=e.segmentUrls,o=r===void 0?[]:r,a=e.periodStart;if(!n&&!i||n&&i)throw new Error(xf.SEGMENT_TIME_UNSPECIFIED);var s=o.map(function(d){return rbe(e,d)}),l;n&&(l=xE(e)),i&&(l=N7(e,i));var c=l.map(function(d,f){if(s[f]){var h=s[f],m=e.timescale||1,v=e.presentationTimeOffset||0;return h.timeline=d.timeline,h.duration=d.duration,h.number=d.number,h.presentationTime=a+(d.time-v)/m,h}}).filter(function(d){return d});return c},abe=function(e){var i=e.attributes,n=e.segmentInfo,r,o;n.template?(o=nbe,r=Zn(i,n.template)):n.base?(o=F7,r=Zn(i,n.base)):n.list&&(o=obe,r=Zn(i,n.list));var a={attributes:i};if(!o)return a;var s=o(r,n.segmentTimeline);if(r.duration){var l=r,c=l.duration,d=l.timescale,f=d===void 0?1:d;r.duration=c/f}else s.length?r.duration=s.reduce(function(h,m){return Math.max(h,Math.ceil(m.duration))},0):r.duration=0;return a.attributes=r,a.segments=s,n.base&&r.indexRange&&(a.sidx=s[0],a.segments=[]),a},sbe=function(e){return e.map(abe)},Ci=function(e,i){return B7(e.childNodes).filter(function(n){var r=n.tagName;return r===i})},TE=function(e){return e.textContent.trim()},rd=function(e){var i=31536e3,n=30*24*60*60,r=24*60*60,o=60*60,a=60,s=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=s.exec(e);if(!l)return 0;var c=l.slice(1),d=c[0],f=c[1],h=c[2],m=c[3],v=c[4],w=c[5];return parseFloat(d||0)*i+parseFloat(f||0)*n+parseFloat(h||0)*r+parseFloat(m||0)*o+parseFloat(v||0)*a+parseFloat(w||0)},lbe=function(e){var i=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return i.test(e)&&(e+="Z"),Date.parse(e)},aL={mediaPresentationDuration:function(e){return rd(e)},availabilityStartTime:function(e){return lbe(e)/1e3},minimumUpdatePeriod:function(e){return rd(e)},suggestedPresentationDelay:function(e){return rd(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return rd(e)},start:function(e){return rd(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var i=parseInt(e,10);return isNaN(i)?rd(e):i},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},On=function(e){return e&&e.attributes?B7(e.attributes).reduce(function(i,n){var r=aL[n.name]||aL.DEFAULT;return i[n.name]=r(n.value),i},{}):{}},cbe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},OA=function(e,i){return i.length?PA(e.map(function(n){return i.map(function(r){return zA(n,TE(r))})})):e},SE=function(e){var i=Ci(e,"SegmentTemplate")[0],n=Ci(e,"SegmentList")[0],r=n&&Ci(n,"SegmentURL").map(function(h){return Zn({tag:"SegmentURL"},On(h))}),o=Ci(e,"SegmentBase")[0],a=n||i,s=a&&Ci(a,"SegmentTimeline")[0],l=n||o||i,c=l&&Ci(l,"Initialization")[0],d=i&&On(i);d&&c?d.initialization=c&&On(c):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var f={template:d,segmentTimeline:s&&Ci(s,"S").map(function(h){return On(h)}),list:n&&Zn(On(n),{segmentUrls:r,initialization:On(c)}),base:o&&Zn(On(o),{initialization:On(c)})};return Object.keys(f).forEach(function(h){f[h]||delete f[h]}),f},ube=function(e,i,n){return function(r){var o=Ci(r,"BaseURL"),a=OA(i,o),s=Zn(e,On(r)),l=SE(r);return a.map(function(c){return{segmentInfo:Zn(n,l),attributes:Zn(s,{baseUrl:c})}})}},dbe=function(e){return e.reduce(function(i,n){var r=On(n),o=cbe[r.schemeIdUri];if(o){i[o]={attributes:r};var a=Ci(n,"cenc:pssh")[0];if(a){var s=TE(a),l=s&&o7(s);i[o].pssh=l}}return i},{})},fbe=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(r){var o,a;if(a=r,/^CC\d=/.test(r)){var s=r.split("=");o=s[0],a=s[1]}else/^CC\d$/.test(r)&&(o=r);return{channel:o,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(r){var o={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var a=r.split("="),s=a[0],l=a[1],c=l===void 0?"":l;o.channel=s,o.language=r,c.split(",").forEach(function(d){var f=d.split(":"),h=f[0],m=f[1];h==="lang"?o.language=m:h==="er"?o.easyReader=Number(m):h==="war"?o.aspectRatio=Number(m):h==="3D"&&(o["3D"]=Number(m))})}else o.language=r;return o.channel&&(o.channel="SERVICE"+o.channel),o})}},pbe=function(e,i,n){return function(r){var o=On(r),a=OA(i,Ci(r,"BaseURL")),s=Ci(r,"Role")[0],l={role:On(s)},c=Zn(e,o,l),d=Ci(r,"Accessibility")[0],f=fbe(On(d));f&&(c=Zn(c,{captionServices:f}));var h=Ci(r,"Label")[0];if(h&&h.childNodes.length){var m=h.childNodes[0].nodeValue.trim();c=Zn(c,{label:m})}var v=dbe(Ci(r,"ContentProtection"));Object.keys(v).length&&(c=Zn(c,{contentProtection:v}));var w=SE(r),g=Ci(r,"Representation"),A=Zn(n,w);return PA(g.map(ube(c,a,A)))}},hbe=function(e,i){return function(n,r){var o=OA(i,Ci(n.node,"BaseURL")),a=parseInt(n.attributes.id,10),s=Q.isNaN(a)?r:a,l=Zn(e,{periodIndex:s,periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(l.periodDuration=n.attributes.duration);var c=Ci(n.node,"AdaptationSet"),d=SE(n.node);return PA(c.map(pbe(l,o,d)))}},mbe=function(e){var i=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return typeof i.start=="number"?i.start:n&&typeof n.start=="number"&&typeof n.duration=="number"?n.start+n.duration:!n&&r==="static"?0:null},gbe=function(e,i){i===void 0&&(i={});var n=i,r=n.manifestUri,o=r===void 0?"":r,a=n.NOW,s=a===void 0?Date.now():a,l=n.clientOffset,c=l===void 0?0:l,d=Ci(e,"Period");if(!d.length)throw new Error(xf.INVALID_NUMBER_OF_PERIOD);var f=Ci(e,"Location"),h=On(e),m=OA([o],Ci(e,"BaseURL"));h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=s,h.clientOffset=c,f.length&&(h.locations=f.map(TE));var v=[];return d.forEach(function(w,g){var A=On(w),x=v[g-1];A.start=mbe({attributes:A,priorPeriodAttributes:x?x.attributes:null,mpdType:h.type}),v.push({node:w,attributes:A})}),{locations:h.locations,representationInfo:PA(v.map(hbe(h,m)))}},j7=function(e){if(e==="")throw new Error(xf.DASH_EMPTY_MANIFEST);var i=new Dge,n,r;try{n=i.parseFromString(e,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(xf.DASH_INVALID_XML);return r},bbe=function(e){var i=Ci(e,"UTCTiming")[0];if(!i)return null;var n=On(i);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(xf.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},vbe=function(e,i){i===void 0&&(i={});var n=gbe(j7(e),i),r=sbe(n.representationInfo);return Jge(r,n.locations,i.sidxMapping)},ybe=function(e){return bbe(j7(e))},sL=Math.pow(2,32),wbe=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;i.version===0?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=e.getUint32(n)*sL+e.getUint32(n+4),i.firstOffset=e.getUint32(n+8)*sL+e.getUint32(n+12),n+=16),n+=2;var r=e.getUint16(n);for(n+=2;r>0;n+=12,r--)i.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return i},Abe=wbe,xbe=function(e){return e.toString(2).length},kbe=function(e){return Math.ceil(xbe(e)/8)},_be=function(e){return ArrayBuffer.isView(e)},nt=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!_be(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},hn=Q.BigInt||Number,U2=[hn("0x1"),hn("0x100"),hn("0x10000"),hn("0x1000000"),hn("0x100000000"),hn("0x10000000000"),hn("0x1000000000000"),hn("0x100000000000000"),hn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var Tbe=function(e,i){var n=i===void 0?{}:i,r=n.signed,o=r===void 0?!1:r,a=n.le,s=a===void 0?!1:a;e=nt(e);var l=s?"reduce":"reduceRight",c=e[l]?e[l]:Array.prototype[l],d=c.call(e,function(h,m,v){var w=s?v:Math.abs(v+1-e.length);return h+hn(m)*U2[w]},hn(0));if(o){var f=U2[e.length]/hn(2)-hn(1);d=hn(d),d>f&&(d-=f,d-=f,d-=hn(2))}return Number(d)},Sbe=function(e,i){var n=i===void 0?{}:i,r=n.le,o=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=hn(e);for(var a=kbe(e),s=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var c=o?l:Math.abs(l+1-s.length);s[c]=Number(e/U2[l]&hn(255)),e<0&&(s[c]=Math.abs(~s[c]),s[c]-=l===0?1:2)}return s},U7=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Cbe=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i=i.filter(function(s){return s&&(s.byteLength||s.length)&&typeof s!="string"}),i.length<=1)return nt(i[0]);var r=i.reduce(function(s,l,c){return s+(l.byteLength||l.length)},0),o=new Uint8Array(r),a=0;return i.forEach(function(s){s=nt(s),o.set(s,a),a+=s.byteLength}),o},ui=function(e,i,n){var r=n===void 0?{}:n,o=r.offset,a=o===void 0?0:o,s=r.mask,l=s===void 0?[]:s;e=nt(e),i=nt(i);var c=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&c.call(i,function(d,f){var h=l[f]?l[f]&e[a+f]:e[a+f];return d===h})},Ebe=nt([73,68,51]),zbe=function(e,i){i===void 0&&(i=0),e=nt(e);var n=e[i+5],r=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],o=(n&16)>>4;return o?r+20:r+10},Eh=function t(e,i){return i===void 0&&(i=0),e=nt(e),e.length-i<10||!ui(e,Ebe,{offset:i})?i:(i+=zbe(e,i),t(e,i))},lL=function(e){return typeof e=="string"?U7(e):e},Ibe=function(e){return Array.isArray(e)?e.map(function(i){return lL(i)}):[lL(e)]},Rbe=function t(e,i,n){n===void 0&&(n=!1),i=Ibe(i),e=nt(e);var r=[];if(!i.length)return r;for(var o=0;o<e.length;){var a=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,s=e.subarray(o+4,o+8);if(a===0)break;var l=o+a;if(l>e.length){if(n)break;l=e.length}var c=e.subarray(o+8,l);ui(s,i[0])&&(i.length===1?r.push(c):r.push.apply(r,t(c,i.slice(1),n))),o=l}return r},H0={EBML:nt([26,69,223,163]),DocType:nt([66,130]),Segment:nt([24,83,128,103]),SegmentInfo:nt([21,73,169,102]),Tracks:nt([22,84,174,107]),Track:nt([174]),TrackNumber:nt([215]),DefaultDuration:nt([35,227,131]),TrackEntry:nt([174]),TrackType:nt([131]),FlagDefault:nt([136]),CodecID:nt([134]),CodecPrivate:nt([99,162]),VideoTrack:nt([224]),AudioTrack:nt([225]),Cluster:nt([31,67,182,117]),Timestamp:nt([231]),TimestampScale:nt([42,215,177]),BlockGroup:nt([160]),BlockDuration:nt([155]),Block:nt([161]),SimpleBlock:nt([163])},G2=[128,64,32,16,8,4,2,1],Pbe=function(e){for(var i=1,n=0;n<G2.length&&!(e&G2[n]);n++)i++;return i},Gy=function(e,i,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var o=Pbe(e[i]),a=e.subarray(i,i+o);return n&&(a=Array.prototype.slice.call(e,i,i+o),a[0]^=G2[o-1]),{length:o,value:Tbe(a,{signed:r}),bytes:a}},cL=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?Sbe(e):e},Lbe=function(e){return Array.isArray(e)?e.map(function(i){return cL(i)}):[cL(e)]},Obe=function t(e,i,n){if(n>=i.length)return i.length;var r=Gy(i,n,!1);if(ui(e.bytes,r.bytes))return n;var o=Gy(i,n+r.length);return t(e,i,n+o.length+o.value+r.length)},uL=function t(e,i){i=Lbe(i),e=nt(e);var n=[];if(!i.length)return n;for(var r=0;r<e.length;){var o=Gy(e,r,!1),a=Gy(e,r+o.length),s=r+o.length+a.length;a.value===127&&(a.value=Obe(o,e,s),a.value!==e.length&&(a.value-=s));var l=s+a.value>e.length?e.length:s+a.value,c=e.subarray(s,l);ui(i[0],o.bytes)&&(i.length===1?n.push(c):n=n.concat(t(c,i.slice(1))));var d=o.length+a.length+c.length;r+=d}return n},Dbe=nt([0,0,0,1]),Mbe=nt([0,0,1]),Bbe=nt([0,0,3]),Fbe=function(e){for(var i=[],n=1;n<e.length-2;)ui(e.subarray(n,n+3),Bbe)&&(i.push(n+2),n++),n++;if(i.length===0)return e;var r=e.length-i.length,o=new Uint8Array(r),a=0;for(n=0;n<r;a++,n++)a===i[0]&&(a++,i.shift()),o[n]=e[a];return o},G7=function(e,i,n,r){r===void 0&&(r=1/0),e=nt(e),n=[].concat(n);for(var o=0,a,s=0;o<e.length&&(s<r||a);){var l=void 0;if(ui(e.subarray(o),Dbe)?l=4:ui(e.subarray(o),Mbe)&&(l=3),!l){o++;continue}if(s++,a)return Fbe(e.subarray(a,o));var c=void 0;i==="h264"?c=e[o+l]&31:i==="h265"&&(c=e[o+l]>>1&63),n.indexOf(c)!==-1&&(a=o+l),o+=l+(i==="h264"?1:2)}return e.subarray(0,0)},Nbe=function(e,i,n){return G7(e,"h264",i,n)},jbe=function(e,i,n){return G7(e,"h265",i,n)},Qn={webm:nt([119,101,98,109]),matroska:nt([109,97,116,114,111,115,107,97]),flac:nt([102,76,97,67]),ogg:nt([79,103,103,83]),ac3:nt([11,119]),riff:nt([82,73,70,70]),avi:nt([65,86,73]),wav:nt([87,65,86,69]),"3gp":nt([102,116,121,112,51,103]),mp4:nt([102,116,121,112]),fmp4:nt([115,116,121,112]),mov:nt([102,116,121,112,113,116]),moov:nt([109,111,111,118]),moof:nt([109,111,111,102])},kf={aac:function(e){var i=Eh(e);return ui(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Eh(e);return ui(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=uL(e,[H0.EBML,H0.DocType])[0];return ui(i,Qn.webm)},mkv:function(e){var i=uL(e,[H0.EBML,H0.DocType])[0];return ui(i,Qn.matroska)},mp4:function(e){if(kf["3gp"](e)||kf.mov(e))return!1;if(ui(e,Qn.mp4,{offset:4})||ui(e,Qn.fmp4,{offset:4})||ui(e,Qn.moof,{offset:4})||ui(e,Qn.moov,{offset:4}))return!0},mov:function(e){return ui(e,Qn.mov,{offset:4})},"3gp":function(e){return ui(e,Qn["3gp"],{offset:4})},ac3:function(e){var i=Eh(e);return ui(e,Qn.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Eh(e);return ui(e,Qn.flac,{offset:i})},ogg:function(e){return ui(e,Qn.ogg)},avi:function(e){return ui(e,Qn.riff)&&ui(e,Qn.avi,{offset:8})},wav:function(e){return ui(e,Qn.riff)&&ui(e,Qn.wav,{offset:8})},h264:function(e){return Nbe(e,7,3).length},h265:function(e){return jbe(e,[32,33],3).length}},H2=Object.keys(kf).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);H2.forEach(function(t){var e=kf[t];kf[t]=function(i){return e(nt(i))}});var Ube=kf,CE=function(e){e=nt(e);for(var i=0;i<H2.length;i++){var n=H2[i];if(Ube[n](e))return n}return""},Gbe=function(e){return Rbe(e,["moof"]).length>0},EE=9e4,zE,IE,DA,RE,H7,W7,Y7;zE=function(t){return t*EE};IE=function(t,e){return t*e};DA=function(t){return t/EE};RE=function(t,e){return t/e};H7=function(t,e){return zE(RE(t,e))};W7=function(t,e){return IE(DA(t),e)};Y7=function(t,e,i){return DA(i?t:t-e)};var Hy={ONE_SECOND_IN_TS:EE,secondsToVideoTs:zE,secondsToAudioTs:IE,videoTsToSeconds:DA,audioTsToSeconds:RE,audioTsToVideoTs:H7,videoTsToAudioTs:W7,metadataTsToSeconds:Y7};/**
 * @license
 * Video.js 7.17.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var V7="7.17.0",ns={},Bl=function(e,i){return ns[e]=ns[e]||[],i&&(ns[e]=ns[e].concat(i)),ns[e]},Hbe=function(e,i){Bl(e,i)},$7=function(e,i){var n=Bl(e).indexOf(i);return n<=-1?!1:(ns[e]=ns[e].slice(),ns[e].splice(n,1),!0)},Wbe=function(e,i){Bl(e,[].concat(i).map(function(n){var r=function o(){return $7(e,o),n.apply(void 0,arguments)};return r}))},Wy={prefixed:!0},Tv=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],dL=Tv[0],zh;for(var W0=0;W0<Tv.length;W0++)if(Tv[W0][1]in Oe){zh=Tv[W0];break}if(zh){for(var Y0=0;Y0<zh.length;Y0++)Wy[dL[Y0]]=zh[Y0];Wy.prefixed=zh[0]!==dL[0]}var hr=[],Ybe=function(e,i){return function(n,r,o){var a=i.levels[r],s=new RegExp("^("+a+")$");if(n!=="log"&&o.unshift(n.toUpperCase()+":"),o.unshift(e+":"),hr){hr.push([].concat(o));var l=hr.length-1e3;hr.splice(0,l>0?l:0)}if(!!Q.console){var c=Q.console[n];!c&&n==="debug"&&(c=Q.console.info||Q.console.log),!(!c||!a||!s.test(n))&&c[Array.isArray(o)?"apply":"call"](Q.console,o)}}};function Q7(t){var e="info",i,n=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];i("log",e,a)};return i=Ybe(t,n),n.createLogger=function(r){return Q7(t+": "+r)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(r){if(typeof r=="string"){if(!n.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},n.history=function(){return hr?[].concat(hr):[]},n.history.filter=function(r){return(hr||[]).filter(function(o){return new RegExp(".*"+r+".*").test(o[0])})},n.history.clear=function(){hr&&(hr.length=0)},n.history.disable=function(){hr!==null&&(hr.length=0,hr=null)},n.history.enable=function(){hr===null&&(hr=[])},n.error=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("error",e,o)},n.warn=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("warn",e,o)},n.debug=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("debug",e,o)},n}var wt=Q7("VIDEOJS"),q7=wt.createLogger,Vbe=Object.prototype.toString,K7=function(e){return Cs(e)?Object.keys(e):[]};function Bd(t,e){K7(t).forEach(function(i){return e(t[i],i)})}function $be(t,e,i){return i===void 0&&(i=0),K7(t).reduce(function(n,r){return e(n,t[r],r)},i)}function wi(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?Me.apply(void 0,[t].concat(i)):(i.forEach(function(r){!r||Bd(r,function(o,a){t[a]=o})}),t)}function Cs(t){return!!t&&typeof t=="object"}function Zm(t){return Cs(t)&&Vbe.call(t)==="[object Object]"&&t.constructor===Object}function eg(t,e){if(!t||!e)return"";if(typeof Q.getComputedStyle=="function"){var i;try{i=Q.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}var rn=Q.navigator&&Q.navigator.userAgent||"",fL=/AppleWebKit\/([\d.]+)/i.exec(rn),Qbe=fL?parseFloat(fL.pop()):null,X7=/iPod/i.test(rn),qbe=function(){var t=rn.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Os=/Android/i.test(rn),PE=function(){var t=rn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),J7=Os&&PE<5&&Qbe<537,Z7=/Firefox/i.test(rn),$g=/Edg/i.test(rn),Ds=!$g&&(/Chrome/i.test(rn)||/CriOS/i.test(rn)),ej=function(){var t=rn.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Qg=function(){var t=/MSIE\s(\d+)\.\d/.exec(rn),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(rn)&&/rv:11.0/.test(rn)&&(e=11),e}(),LE=/Safari/i.test(rn)&&!Ds&&!Os&&!$g,tj=/Windows/i.test(rn),_f=Boolean(Kf()&&("ontouchstart"in Q||Q.navigator.maxTouchPoints||Q.DocumentTouch&&Q.document instanceof Q.DocumentTouch)),OE=/iPad/i.test(rn)||LE&&_f&&!/iPhone/i.test(rn),DE=/iPhone/i.test(rn)&&!OE,kr=DE||OE||X7,MA=(LE||kr)&&!Ds,Kbe=Object.freeze({__proto__:null,IS_IPOD:X7,IOS_VERSION:qbe,IS_ANDROID:Os,ANDROID_VERSION:PE,IS_NATIVE_ANDROID:J7,IS_FIREFOX:Z7,IS_EDGE:$g,IS_CHROME:Ds,CHROME_VERSION:ej,IE_VERSION:Qg,IS_SAFARI:LE,IS_WINDOWS:tj,TOUCH_ENABLED:_f,IS_IPAD:OE,IS_IPHONE:DE,IS_IOS:kr,IS_ANY_SAFARI:MA});function pL(t){return typeof t=="string"&&Boolean(t.trim())}function ij(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Xbe(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function Kf(){return Oe===Q.document}function Xf(t){return Cs(t)&&t.nodeType===1}function nj(){try{return Q.parent!==Q.self}catch{return!0}}function rj(t){return function(e,i){if(!pL(e))return Oe[t](null);pL(i)&&(i=Oe.querySelector(i));var n=Xf(i)?i:Oe;return n[t]&&n[t](e)}}function Ft(t,e,i,n){t===void 0&&(t="div"),e===void 0&&(e={}),i===void 0&&(i={});var r=Oe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(o){var a=e[o];o.indexOf("aria-")!==-1||o==="role"||o==="type"?(wt.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+o+" to "+a+".")),r.setAttribute(o,a)):o==="textContent"?Au(r,a):(r[o]!==a||o==="tabIndex")&&(r[o]=a)}),Object.getOwnPropertyNames(i).forEach(function(o){r.setAttribute(o,i[o])}),n&&BE(r,n),r}function Au(t,e){return typeof t.textContent=="undefined"?t.innerText=e:t.textContent=e,t}function W2(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function qc(t,e){return ij(e),t.classList?t.classList.contains(e):Xbe(e).test(t.className)}function hs(t,e){return t.classList?t.classList.add(e):qc(t,e)||(t.className=(t.className+" "+e).trim()),t}function qg(t,e){return t?(t.classList?t.classList.remove(e):(ij(e),t.className=t.className.split(/\s+/).filter(function(i){return i!==e}).join(" ")),t):(wt.warn("removeClass was called with an element that doesn't exist"),null)}function oj(t,e,i){var n=qc(t,e);if(typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=!n),i!==n)return i?hs(t,e):qg(t,e),t}function aj(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var n=e[i];n===null||typeof n=="undefined"||n===!1?t.removeAttribute(i):t.setAttribute(i,n===!0?"":n)})}function Za(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var o=n[r].name,a=n[r].value;(typeof t[o]=="boolean"||i.indexOf(","+o+",")!==-1)&&(a=a!==null),e[o]=a}return e}function sj(t,e){return t.getAttribute(e)}function Tf(t,e,i){t.setAttribute(e,i)}function BA(t,e){t.removeAttribute(e)}function lj(){Oe.body.focus(),Oe.onselectstart=function(){return!1}}function cj(){Oe.onselectstart=function(){return!0}}function Sf(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(n){e[n]!==void 0&&(i[n]=e[n])}),i.height||(i.height=parseFloat(eg(t,"height"))),i.width||(i.width=parseFloat(eg(t,"width"))),i}}function tg(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,i=t.offsetHeight,n=0,r=0;t.offsetParent&&t!==Oe[Wy.fullscreenElement];)n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:n,top:r,width:e,height:i}}function FA(t,e){var i={x:0,y:0};if(kr)for(var n=t;n&&n.nodeName.toLowerCase()!=="html";){var r=eg(n,"transform");if(/^matrix/.test(r)){var o=r.slice(7,-1).split(/,\s/).map(Number);i.x+=o[4],i.y+=o[5]}else if(/^matrix3d/.test(r)){var a=r.slice(9,-1).split(/,\s/).map(Number);i.x+=a[12],i.y+=a[13]}n=n.parentNode}var s={},l=tg(e.target),c=tg(t),d=c.width,f=c.height,h=e.offsetY-(c.top-l.top),m=e.offsetX-(c.left-l.left);return e.changedTouches&&(m=e.changedTouches[0].pageX-c.left,h=e.changedTouches[0].pageY+c.top,kr&&(m-=i.x,h-=i.y)),s.y=1-Math.max(0,Math.min(1,h/f)),s.x=Math.max(0,Math.min(1,m/d)),s}function uj(t){return Cs(t)&&t.nodeType===3}function ME(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function dj(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Xf(e)||uj(e))return e;if(typeof e=="string"&&/\S/.test(e))return Oe.createTextNode(e)}).filter(function(e){return e})}function BE(t,e){return dj(e).forEach(function(i){return t.appendChild(i)}),t}function fj(t,e){return BE(ME(t),e)}function ig(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Fl=rj("querySelector"),pj=rj("querySelectorAll"),hj=Object.freeze({__proto__:null,isReal:Kf,isEl:Xf,isInFrame:nj,createEl:Ft,textContent:Au,prependTo:W2,hasClass:qc,addClass:hs,removeClass:qg,toggleClass:oj,setAttributes:aj,getAttributes:Za,getAttribute:sj,setAttribute:Tf,removeAttribute:BA,blockTextSelection:lj,unblockTextSelection:cj,getBoundingClientRect:Sf,findPosition:tg,getPointerPosition:FA,isTextNode:uj,emptyEl:ME,normalizeContent:dj,appendContent:BE,insertContent:fj,isSingleLeftClick:ig,$:Fl,$$:pj}),mj=!1,Y2,Jbe=function(){if(Y2.options.autoSetup!==!1){var e=Array.prototype.slice.call(Oe.getElementsByTagName("video")),i=Array.prototype.slice.call(Oe.getElementsByTagName("audio")),n=Array.prototype.slice.call(Oe.getElementsByTagName("video-js")),r=e.concat(i,n);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(s&&s.getAttribute){if(s.player===void 0){var l=s.getAttribute("data-setup");l!==null&&Y2(s)}}else{V2(1);break}}else mj||V2(1)}};function V2(t,e){!Kf()||(e&&(Y2=e),Q.setTimeout(Jbe,t))}function $2(){mj=!0,Q.removeEventListener("load",$2)}Kf()&&(Oe.readyState==="complete"?$2():Q.addEventListener("load",$2));var gj=function(e){var i=Oe.createElement("style");return i.className=e,i},bj=function(e,i){e.styleSheet?e.styleSheet.cssText=i:e.textContent=i},Zbe=3,e0e=Zbe;function Ql(){return e0e++}var vj;Q.WeakMap||(vj=function(){function t(){this.vdata="vdata"+Math.floor(Q.performance&&Q.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(n,r){var o=n[this.vdata]||Ql();return n[this.vdata]||(n[this.vdata]=o),this.data[o]=r,this},e.get=function(n){var r=n[this.vdata];if(r)return this.data[r];wt("We have no data for this element",n)},e.has=function(n){var r=n[this.vdata];return r in this.data},e.delete=function(n){var r=n[this.vdata];r&&(delete this.data[r],delete n[this.vdata])},t}());var er=Q.WeakMap?new WeakMap:new vj;function hL(t,e){if(!!er.has(t)){var i=er.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&er.delete(t)}}function FE(t,e,i,n){i.forEach(function(r){t(e,r,n)})}function NA(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var n=t||Q.event;t={};for(var r in n)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&(r==="returnValue"&&n.preventDefault||(t[r]=n[r]));if(t.target||(t.target=t.srcElement||Oe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){var o=Oe.documentElement,a=Oe.body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var V0,t0e=function(){if(typeof V0!="boolean"){V0=!1;try{var e=Object.defineProperty({},"passive",{get:function(){V0=!0}});Q.addEventListener("test",null,e),Q.removeEventListener("test",null,e)}catch{}}return V0},i0e=["touchstart","touchmove"];function Kr(t,e,i){if(Array.isArray(e))return FE(Kr,t,e,i);er.has(t)||er.set(t,{});var n=er.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Ql()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(o,a){if(!n.disabled){o=NA(o);var s=n.handlers[o.type];if(s)for(var l=s.slice(0),c=0,d=l.length;c<d&&!o.isImmediatePropagationStopped();c++)try{l[c].call(t,o,a)}catch(f){wt.error(f)}}}),n.handlers[e].length===1)if(t.addEventListener){var r=!1;t0e()&&i0e.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Fn(t,e,i){if(!!er.has(t)){var n=er.get(t);if(!!n.handlers){if(Array.isArray(e))return FE(Fn,t,e,i);var r=function(c,d){n.handlers[d]=[],hL(c,d)};if(e===void 0){for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(t,o);return}var a=n.handlers[e];if(!!a){if(!i){r(t,e);return}if(i.guid)for(var s=0;s<a.length;s++)a[s].guid===i.guid&&a.splice(s--,1);hL(t,e)}}}}function Jf(t,e,i){var n=er.has(t)?er.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=NA(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&e.bubbles===!0)Jf.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){er.has(e.target)||er.set(e.target,{});var o=er.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function jA(t,e,i){if(Array.isArray(e))return FE(jA,t,e,i);var n=function r(){Fn(t,e,r),i.apply(this,arguments)};n.guid=i.guid=i.guid||Ql(),Kr(t,e,n)}function yj(t,e,i){var n=function r(){Fn(t,e,r),i.apply(this,arguments)};n.guid=i.guid=i.guid||Ql(),Kr(t,e,n)}var n0e=Object.freeze({__proto__:null,fixEvent:NA,on:Kr,off:Fn,trigger:Jf,one:jA,any:yj}),Fo=30,ri=function(e,i,n){i.guid||(i.guid=Ql());var r=i.bind(e);return r.guid=n?n+"_"+i.guid:i.guid,r},Es=function(e,i){var n=Q.performance.now(),r=function(){var a=Q.performance.now();a-n>=i&&(e.apply(void 0,arguments),n=a)};return r},r0e=function(e,i,n,r){r===void 0&&(r=Q);var o,a=function(){r.clearTimeout(o),o=null},s=function(){var c=this,d=arguments,f=function(){o=null,f=null,n||e.apply(c,d)};!o&&n&&e.apply(c,d),r.clearTimeout(o),o=r.setTimeout(f,i)};return s.cancel=a,s},cn=function(){};cn.prototype.allowedEvents_={};cn.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Kr(this,t,e),this.addEventListener=i};cn.prototype.addEventListener=cn.prototype.on;cn.prototype.off=function(t,e){Fn(this,t,e)};cn.prototype.removeEventListener=cn.prototype.off;cn.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},jA(this,t,e),this.addEventListener=i};cn.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},yj(this,t,e),this.addEventListener=i};cn.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=NA(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Jf(this,t)};cn.prototype.dispatchEvent=cn.prototype.trigger;var fh;cn.prototype.queueTrigger=function(t){var e=this;fh||(fh=new Map);var i=t.type||t,n=fh.get(this);n||(n=new Map,fh.set(this,n));var r=n.get(i);n.delete(i),Q.clearTimeout(r);var o=Q.setTimeout(function(){n.size===0&&(n=null,fh.delete(e)),e.trigger(t)},0);n.set(i,o)};var UA=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},ms=function(e){return e instanceof cn||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof e[i]=="function"})},o0e=function(e,i){ms(e)?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))},Q2=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Yy=function(e,i,n){if(!e||!e.nodeName&&!ms(e))throw new Error("Invalid target for "+UA(i)+"#"+n+"; must be a DOM node or evented object.")},wj=function(e,i,n){if(!Q2(e))throw new Error("Invalid event type for "+UA(i)+"#"+n+"; must be a non-empty string or array.")},Aj=function(e,i,n){if(typeof e!="function")throw new Error("Invalid listener for "+UA(i)+"#"+n+"; must be a function.")},zk=function(e,i,n){var r=i.length<3||i[0]===e||i[0]===e.eventBusEl_,o,a,s;return r?(o=e.eventBusEl_,i.length>=3&&i.shift(),a=i[0],s=i[1]):(o=i[0],a=i[1],s=i[2]),Yy(o,e,n),wj(a,e,n),Aj(s,e,n),s=ri(e,s),{isTargetingSelf:r,target:o,type:a,listener:s}},pc=function(e,i,n,r){Yy(e,e,i),e.nodeName?n0e[i](e,n,r):e[i](n,r)},a0e={on:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=zk(this,n,"on"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(pc(s,"on",l,c),!a){var d=function(){return e.off(s,l,c)};d.guid=c.guid;var f=function(){return e.off("dispose",d)};f.guid=c.guid,pc(this,"on","dispose",d),pc(s,"on","dispose",f)}},one:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=zk(this,n,"one"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(a)pc(s,"one",l,c);else{var d=function f(){e.off(s,l,f);for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];c.apply(null,m)};d.guid=c.guid,pc(s,"one",l,d)}},any:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=zk(this,n,"any"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(a)pc(s,"any",l,c);else{var d=function f(){e.off(s,l,f);for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];c.apply(null,m)};d.guid=c.guid,pc(s,"any",l,d)}},off:function(e,i,n){if(!e||Q2(e))Fn(this.eventBusEl_,e,i);else{var r=e,o=i;Yy(r,this,"off"),wj(o,this,"off"),Aj(n,this,"off"),n=ri(this,n),this.off("dispose",n),r.nodeName?(Fn(r,o,n),Fn(r,"dispose",n)):ms(r)&&(r.off(o,n),r.off("dispose",n))}},trigger:function(e,i){Yy(this.eventBusEl_,this,"trigger");var n=e&&typeof e!="string"?e.type:e;if(!Q2(n)){var r="Invalid event type for "+UA(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||wt).error(r);else throw new Error(r)}return Jf(this.eventBusEl_,e,i)}};function NE(t,e){e===void 0&&(e={});var i=e,n=i.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=Ft("span",{className:"vjs-event-bus"});return wi(t,a0e),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(r){r()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&er.has(r)&&er.delete(r)}),Q.setTimeout(function(){t.eventBusEl_=null},0)}),t}var s0e={state:{},setState:function(e){var i=this;typeof e=="function"&&(e=e());var n;return Bd(e,function(r,o){i.state[o]!==r&&(n=n||{},n[o]={from:i.state[o],to:r}),i.state[o]=r}),n&&ms(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function xj(t,e){return wi(t,s0e),t.state=wi({},t.state,e),typeof t.handleStateChanged=="function"&&ms(t)&&t.on("statechanged",t.handleStateChanged),t}var Sv=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toLowerCase()})},Ei=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},l0e=function(e,i){return Ei(e)===Ei(i)};function ci(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(r){!r||Bd(r,function(o,a){if(!Zm(o)){t[a]=o;return}Zm(t[a])||(t[a]={}),t[a]=ci(t[a],o)})}),t}var c0e=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(n){return n in this.map_},e.delete=function(n){var r=this.has(n);return delete this.map_[n],r},e.set=function(n,r){return this.map_[n]=r,this},e.forEach=function(n,r){for(var o in this.map_)n.call(r,this.map_[o],o,this)},t}(),u0e=Q.Map?Q.Map:c0e,d0e=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(n){return n in this.set_},e.delete=function(n){var r=this.has(n);return delete this.set_[n],r},e.add=function(n){return this.set_[n]=1,this},e.forEach=function(n,r){for(var o in this.set_)n.call(r,o,o,this)},t}(),Ik=Q.Set?Q.Set:d0e,xe=function(){function t(i,n,r){if(!i&&this.play?this.player_=i=this:this.player_=i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ci({},this.options_),n=this.options_=ci(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=i&&i.id&&i.id()||"no_player";this.id_=o+"_component_"+Ql()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.evented!==!1&&(NE(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),xj(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ik,this.setIntervalIds_=new Ik,this.rafIds_=new Ik,this.namedRafs_=new u0e,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(n){return n?(this.options_=ci(this.options_,n),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(n,r,o){return Ft(n,r,o)},e.localize=function(n,r,o){o===void 0&&(o=n);var a=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),l=s&&s[a],c=a&&a.split("-")[0],d=s&&s[c],f=o;return l&&l[n]?f=l[n]:d&&d[n]&&(f=d[n]),r&&(f=f.replace(/\{(\d+)\}/g,function(h,m){var v=r[m-1],w=v;return typeof v=="undefined"&&(w=h),w})),f},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(n){return this.childIndex_[n]},e.getChild=function(n){if(!!n)return this.childNameIndex_[n]},e.getDescendant=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r=r.reduce(function(l,c){return l.concat(c)},[]);for(var a=this,s=0;s<r.length;s++)if(a=a.getChild(r[s]),!a||!a.getChild)return;return a},e.addChild=function(n,r,o){r===void 0&&(r={}),o===void 0&&(o=this.children_.length);var a,s;if(typeof n=="string"){s=Ei(n);var l=r.componentClass||s;r.name=s;var c=t.getComponent(l);if(!c)throw new Error("Component "+l+" does not exist");if(typeof c!="function")return null;a=new c(this.player_||this,r)}else a=n;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(o,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),s=s||a.name&&Ei(a.name()),s&&(this.childNameIndex_[s]=a,this.childNameIndex_[Sv(s)]=a),typeof a.el=="function"&&a.el()){var d=null;this.children_[o+1]&&(this.children_[o+1].el_?d=this.children_[o+1].el_:Xf(this.children_[o+1])&&(d=this.children_[o+1])),this.contentEl().insertBefore(a.el(),d)}return a},e.removeChild=function(n){if(typeof n=="string"&&(n=this.getChild(n)),!(!n||!this.children_)){for(var r=!1,o=this.children_.length-1;o>=0;o--)if(this.children_[o]===n){r=!0,this.children_.splice(o,1);break}if(!!r){n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[Ei(n.name())]=null,this.childNameIndex_[Sv(n.name())]=null;var a=n.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el())}}},e.initChildren=function(){var n=this,r=this.options_.children;if(r){var o=this.options_,a=function(d){var f=d.name,h=d.opts;if(o[f]!==void 0&&(h=o[f]),h!==!1){h===!0&&(h={}),h.playerOptions=n.options_.playerOptions;var m=n.addChild(f,h);m&&(n[f]=m)}},s,l=t.getComponent("Tech");Array.isArray(r)?s=r:s=Object.keys(r),s.concat(Object.keys(this.options_).filter(function(c){return!s.some(function(d){return typeof d=="string"?c===d:c===d.name})})).map(function(c){var d,f;return typeof c=="string"?(d=c,f=r[d]||n.options_[d]||{}):(d=c.name,f=c),{name:d,opts:f}}).filter(function(c){var d=t.getComponent(c.opts.componentClass||Ei(c.name));return d&&!l.isTech(d)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(n,r){if(r===void 0&&(r=!1),!!n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n);return}r?n.call(this):this.setTimeout(n,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[],n&&n.length>0&&n.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},e.$=function(n,r){return Fl(n,r||this.contentEl())},e.$$=function(n,r){return pj(n,r||this.contentEl())},e.hasClass=function(n){return qc(this.el_,n)},e.addClass=function(n){hs(this.el_,n)},e.removeClass=function(n){qg(this.el_,n)},e.toggleClass=function(n,r){oj(this.el_,n,r)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(n){return sj(this.el_,n)},e.setAttribute=function(n,r){Tf(this.el_,n,r)},e.removeAttribute=function(n){BA(this.el_,n)},e.width=function(n,r){return this.dimension("width",n,r)},e.height=function(n,r){return this.dimension("height",n,r)},e.dimensions=function(n,r){this.width(n,!0),this.height(r)},e.dimension=function(n,r,o){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[n]=r:r==="auto"?this.el_.style[n]="":this.el_.style[n]=r+"px",o||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[n],s=a.indexOf("px");return parseInt(s!==-1?a.slice(0,s):this.el_["offset"+Ei(n)],10)},e.currentDimension=function(n){var r=0;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");if(r=eg(this.el_,n),r=parseFloat(r),r===0||isNaN(r)){var o="offset"+Ei(n);r=this.el_[o]}return r},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(n){this.player_&&(n.stopPropagation(),this.player_.handleKeyDown(n))},e.handleKeyPress=function(n){this.handleKeyDown(n)},e.emitTapEvents=function(){var n=0,r=null,o=10,a=200,s;this.on("touchstart",function(c){c.touches.length===1&&(r={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},n=Q.performance.now(),s=!0)}),this.on("touchmove",function(c){if(c.touches.length>1)s=!1;else if(r){var d=c.touches[0].pageX-r.pageX,f=c.touches[0].pageY-r.pageY,h=Math.sqrt(d*d+f*f);h>o&&(s=!1)}});var l=function(){s=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(c){if(r=null,s===!0){var d=Q.performance.now()-n;d<a&&(c.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var n=ri(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){n(),this.clearInterval(r),r=this.setInterval(n,250)});var o=function(s){n(),this.clearInterval(r)};this.on("touchmove",n),this.on("touchend",o),this.on("touchcancel",o)}},e.setTimeout=function(n,r){var o=this,a;return n=ri(this,n),this.clearTimersOnDispose_(),a=Q.setTimeout(function(){o.setTimeoutIds_.has(a)&&o.setTimeoutIds_.delete(a),n()},r),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(n){return this.setTimeoutIds_.has(n)&&(this.setTimeoutIds_.delete(n),Q.clearTimeout(n)),n},e.setInterval=function(n,r){n=ri(this,n),this.clearTimersOnDispose_();var o=Q.setInterval(n,r);return this.setIntervalIds_.add(o),o},e.clearInterval=function(n){return this.setIntervalIds_.has(n)&&(this.setIntervalIds_.delete(n),Q.clearInterval(n)),n},e.requestAnimationFrame=function(n){var r=this;if(!this.supportsRaf_)return this.setTimeout(n,1e3/60);this.clearTimersOnDispose_();var o;return n=ri(this,n),o=Q.requestAnimationFrame(function(){r.rafIds_.has(o)&&r.rafIds_.delete(o),n()}),this.rafIds_.add(o),o},e.requestNamedAnimationFrame=function(n,r){var o=this;if(!this.namedRafs_.has(n)){this.clearTimersOnDispose_(),r=ri(this,r);var a=this.requestAnimationFrame(function(){r(),o.namedRafs_.has(n)&&o.namedRafs_.delete(n)});return this.namedRafs_.set(n,a),n}},e.cancelNamedAnimationFrame=function(n){!this.namedRafs_.has(n)||(this.cancelAnimationFrame(this.namedRafs_.get(n)),this.namedRafs_.delete(n))},e.cancelAnimationFrame=function(n){return this.supportsRaf_?(this.rafIds_.has(n)&&(this.rafIds_.delete(n),Q.cancelAnimationFrame(n)),n):this.clearTimeout(n)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var o=r[0],a=r[1];n[o].forEach(function(s,l){return n[a](l)})}),n.clearingTimersOnDispose_=!1}))},t.registerComponent=function(n,r){if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var o=t.getComponent("Tech"),a=o&&o.isTech(r),s=t===r||t.prototype.isPrototypeOf(r.prototype);if(a||!s){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+n+'"; '+l+".")}n=Ei(n),t.components_||(t.components_={});var c=t.getComponent("Player");if(n==="Player"&&c&&c.players){var d=c.players,f=Object.keys(d);if(d&&f.length>0&&f.map(function(h){return d[h]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[n]=r,t.components_[Sv(n)]=r,r},t.getComponent=function(n){if(!(!n||!t.components_))return t.components_[n]},t}();xe.prototype.supportsRaf_=typeof Q.requestAnimationFrame=="function"&&typeof Q.cancelAnimationFrame=="function";xe.registerComponent("Component",xe);function f0e(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function mL(t,e,i,n){return f0e(t,n,i.length-1),i[n][e]}function Rk(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:mL.bind(null,"start",0,t),end:mL.bind(null,"end",1,t)},Q.Symbol&&Q.Symbol.iterator&&(e[Q.Symbol.iterator]=function(){return(t||[]).values()}),e}function Kc(t,e){return Array.isArray(t)?Rk(t):t===void 0||e===void 0?Rk():Rk([[t,e]])}function kj(t,e){var i=0,n,r;if(!e)return 0;(!t||!t.length)&&(t=Kc(0,0));for(var o=0;o<t.length;o++)n=t.start(o),r=t.end(o),r>e&&(r=e),i+=r-n;return i/e}function tr(t){if(t instanceof tr)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Cs(t)&&(typeof t.code=="number"&&(this.code=t.code),wi(this,t)),this.message||(this.message=tr.defaultMessages[this.code]||"")}tr.prototype.code=0;tr.prototype.message="";tr.prototype.status=null;tr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];tr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var od=0;od<tr.errorTypes.length;od++)tr[tr.errorTypes[od]]=od,tr.prototype[tr.errorTypes[od]]=od;function Xh(t){return t!=null&&typeof t.then=="function"}function aa(t){Xh(t)&&t.then(null,function(e){})}var q2=function(e){var i=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,r,o){return e[r]&&(n[r]=e[r]),n},{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})});return i},p0e=function(e){var i=e.$$("track"),n=Array.prototype.map.call(i,function(o){return o.track}),r=Array.prototype.map.call(i,function(o){var a=q2(o.track);return o.src&&(a.src=o.src),a});return r.concat(Array.prototype.filter.call(e.textTracks(),function(o){return n.indexOf(o)===-1}).map(q2))},h0e=function(e,i){return e.forEach(function(n){var r=i.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(o){return r.addCue(o)})}),i.textTracks()},gL={textTracksToJson:p0e,jsonToTextTracks:h0e,trackToJson_:q2},Pk="vjs-modal-dialog",Zf=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.close_=function(a){return o.close(a)},o.opened_=o.hasBeenOpened_=o.hasBeenFilled_=!1,o.closeable(!o.options_.uncloseable),o.content(o.options_.content),o.contentEl_=Ft("div",{className:Pk+"-content"},{role:"document"}),o.descEl_=Ft("p",{className:Pk+"-description vjs-control-text",id:o.el().getAttribute("aria-describedby")}),Au(o.descEl_,o.description()),o.el_.appendChild(o.descEl_),o.el_.appendChild(o.contentEl_),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return Pk+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},i.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},i.close=function(){if(!!this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(r){if(typeof r=="boolean"){var o=this.closeable_=!!r,a=this.getChild("closeButton");if(o&&!a){var s=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(a,"close",this.close_)}!o&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(r){var o=this.contentEl(),a=o.parentNode,s=o.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(o),this.empty(),fj(o,r),this.trigger("modalfill"),s?a.insertBefore(o,s):a.appendChild(o);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},i.empty=function(){this.trigger("beforemodalempty"),ME(this.contentEl()),this.trigger("modalempty")},i.content=function(r){return typeof r!="undefined"&&(this.content_=r),this.content_},i.conditionalFocus_=function(){var r=Oe.activeElement,o=this.player_.el_;this.previouslyActiveEl_=null,(o.contains(r)||o===r)&&(this.previouslyActiveEl_=r,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(r){if(r.stopPropagation(),ft.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(!!ft.isEventKey(r,"Tab")){for(var o=this.focusableEls_(),a=this.el_.querySelector(":focus"),s,l=0;l<o.length;l++)if(a===o[l]){s=l;break}Oe.activeElement===this.el_&&(s=0),r.shiftKey&&s===0?(o[o.length-1].focus(),r.preventDefault()):!r.shiftKey&&s===o.length-1&&(o[0].focus(),r.preventDefault())}},i.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(o){return(o instanceof Q.HTMLAnchorElement||o instanceof Q.HTMLAreaElement)&&o.hasAttribute("href")||(o instanceof Q.HTMLInputElement||o instanceof Q.HTMLSelectElement||o instanceof Q.HTMLTextAreaElement||o instanceof Q.HTMLButtonElement)&&!o.hasAttribute("disabled")||o instanceof Q.HTMLIFrameElement||o instanceof Q.HTMLObjectElement||o instanceof Q.HTMLEmbedElement||o.hasAttribute("tabindex")&&o.getAttribute("tabindex")!==-1||o.hasAttribute("contenteditable")})},e}(xe);Zf.prototype.options_={pauseOnOpen:!0,temporary:!0};xe.registerComponent("ModalDialog",Zf);var Cf=function(t){ye(e,t);function e(n){var r;n===void 0&&(n=[]),r=t.call(this)||this,r.tracks_=[],Object.defineProperty(re(r),"length",{get:function(){return this.tracks_.length}});for(var o=0;o<n.length;o++)r.addTrack(n[o]);return r}var i=e.prototype;return i.addTrack=function(r){var o=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){o.trigger({track:r,type:"labelchange",target:o})},ms(r)&&r.addEventListener("labelchange",r.labelchange_)},i.removeTrack=function(r){for(var o,a=0,s=this.length;a<s;a++)if(this[a]===r){o=this[a],o.off&&o.off(),this.tracks_.splice(a,1);break}!o||this.trigger({track:o,type:"removetrack",target:this})},i.getTrackById=function(r){for(var o=null,a=0,s=this.length;a<s;a++){var l=this[a];if(l.id===r){o=l;break}}return o},e}(cn);Cf.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var m0e in Cf.prototype.allowedEvents_)Cf.prototype["on"+m0e]=null;var Lk=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].enabled=!1)},g0e=function(t){ye(e,t);function e(n){var r;n===void 0&&(n=[]);for(var o=n.length-1;o>=0;o--)if(n[o].enabled){Lk(n,n[o]);break}return r=t.call(this,n)||this,r.changing_=!1,r}var i=e.prototype;return i.addTrack=function(r){var o=this;r.enabled&&Lk(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.enabledChange_=function(){o.changing_||(o.changing_=!0,Lk(o,r),o.changing_=!1,o.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},e}(Cf),Ok=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].selected=!1)},b0e=function(t){ye(e,t);function e(n){var r;n===void 0&&(n=[]);for(var o=n.length-1;o>=0;o--)if(n[o].selected){Ok(n,n[o]);break}return r=t.call(this,n)||this,r.changing_=!1,Object.defineProperty(re(r),"selectedIndex",{get:function(){for(var s=0;s<this.length;s++)if(this[s].selected)return s;return-1},set:function(){}}),r}var i=e.prototype;return i.addTrack=function(r){var o=this;r.selected&&Ok(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.selectedChange_=function(){o.changing_||(o.changing_=!0,Ok(o,r),o.changing_=!1,o.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},e}(Cf),_j=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.addTrack=function(r){var o=this;t.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return o.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return o.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Cf),v0e=function(){function t(i){i===void 0&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,r=i.length;n<r;n++)this.addTrackElement_(i[n])}var e=t.prototype;return e.addTrackElement_=function(n){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},e.getTrackElementByTrack_=function(n){for(var r,o=0,a=this.trackElements_.length;o<a;o++)if(n===this.trackElements_[o].track){r=this.trackElements_[o];break}return r},e.removeTrackElement_=function(n){for(var r=0,o=this.trackElements_.length;r<o;r++)if(n===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},t}(),bL=function(){function t(i){t.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(n){var r=this.length||0,o=0,a=n.length;this.cues_=n,this.length_=n.length;var s=function(c){""+c in this||Object.defineProperty(this,""+c,{get:function(){return this.cues_[c]}})};if(r<a)for(o=r;o<a;o++)s.call(this,o)},e.getCueById=function(n){for(var r=null,o=0,a=this.length;o<a;o++){var s=this[o];if(s.id===n){r=s;break}}return r},t}(),y0e={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},w0e={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},A0e={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vL={disabled:"disabled",hidden:"hidden",showing:"showing"},jE=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={}),n=t.call(this)||this;var r={id:i.id||"vjs_track_"+Ql(),kind:i.kind||"",language:i.language||""},o=i.label||"",a=function(c){Object.defineProperty(re(n),c,{get:function(){return r[c]},set:function(){}})};for(var s in r)a(s);return Object.defineProperty(re(n),"label",{get:function(){return o},set:function(c){c!==o&&(o=c,this.trigger("labelchange"))}}),n}return e}(cn),UE=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],n=Oe.createElement("a");n.href=e;for(var r={},o=0;o<i.length;o++)r[i[o]]=n[i[o]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=Q.location.protocol),r.host||(r.host=Q.location.host),r},Tj=function(e){if(!e.match(/^https?:\/\//)){var i=Oe.createElement("a");i.href=e,e=i.href}return e},GE=function(e){if(typeof e=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=i.exec(e);if(n)return n.pop().toLowerCase()}return""},GA=function(e,i){i===void 0&&(i=Q.location);var n=UE(e),r=n.protocol===":"?i.protocol:n.protocol,o=r+n.host!==i.protocol+i.host;return o},x0e=Object.freeze({__proto__:null,parseUrl:UE,getAbsoluteURL:Tj,getFileExtension:GE,isCrossOrigin:GA}),yL=function(e,i){var n=new Q.WebVTT.Parser(Q,Q.vttjs,Q.WebVTT.StringDecoder()),r=[];n.oncue=function(o){i.addCue(o)},n.onparsingerror=function(o){r.push(o)},n.onflush=function(){i.trigger({type:"loadeddata",target:i})},n.parse(e),r.length>0&&(Q.console&&Q.console.groupCollapsed&&Q.console.groupCollapsed("Text Track parsing errors for "+i.src),r.forEach(function(o){return wt.error(o)}),Q.console&&Q.console.groupEnd&&Q.console.groupEnd()),n.flush()},wL=function(e,i){var n={uri:e},r=GA(e);r&&(n.cors=r);var o=i.tech_.crossOrigin()==="use-credentials";o&&(n.withCredentials=o),e7(n,ri(this,function(a,s,l){if(a)return wt.error(a,s);i.loaded_=!0,typeof Q.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(c){if(c.type==="vttjserror"){wt.error("vttjs failed to load, stopping trying to process "+i.src);return}return yL(l,i)}):yL(l,i)}))},Kg=function(t){ye(e,t);function e(n){var r;if(n===void 0&&(n={}),!n.tech)throw new Error("A tech was not provided.");var o=ci(n,{kind:A0e[n.kind]||"subtitles",language:n.language||n.srclang||""}),a=vL[o.mode]||"disabled",s=o.default;(o.kind==="metadata"||o.kind==="chapters")&&(a="hidden"),r=t.call(this,o)||this,r.tech_=o.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var l=new bL(r.cues_),c=new bL(r.activeCues_),d=!1,f=ri(re(r),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1))}),h=function(){r.tech_.off("timeupdate",f)};return r.tech_.one("dispose",h),a!=="disabled"&&r.tech_.on("timeupdate",f),Object.defineProperties(re(r),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return a},set:function(v){!vL[v]||a!==v&&(a=v,!this.preload_&&a!=="disabled"&&this.cues.length===0&&wL(this.src,this),this.tech_.off("timeupdate",f),a!=="disabled"&&this.tech_.on("timeupdate",f),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return c;for(var v=this.tech_.currentTime(),w=[],g=0,A=this.cues.length;g<A;g++){var x=this.cues[g];(x.startTime<=v&&x.endTime>=v||x.startTime===x.endTime&&x.startTime<=v&&x.startTime+.5>=v)&&w.push(x)}if(d=!1,w.length!==this.activeCues_.length)d=!0;else for(var T=0;T<w.length;T++)this.activeCues_.indexOf(w[T])===-1&&(d=!0);return this.activeCues_=w,c.setCues_(this.activeCues_),c},set:function(){}}}),o.src?(r.src=o.src,r.preload_||(r.loaded_=!0),(r.preload_||o.kind!=="subtitles"&&o.kind!=="captions")&&wL(r.src,re(r))):r.loaded_=!0,r}var i=e.prototype;return i.addCue=function(r){var o=r;if(Q.vttjs&&!(r instanceof Q.vttjs.VTTCue)){o=new Q.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var a in r)a in o||(o[a]=r[a]);o.id=r.id,o.originalCue_=r}for(var s=this.tech_.textTracks(),l=0;l<s.length;l++)s[l]!==this&&s[l].removeCue(o);this.cues_.push(o),this.cues.setCues_(this.cues_)},i.removeCue=function(r){for(var o=this.cues_.length;o--;){var a=this.cues_[o];if(a===r||a.originalCue_&&a.originalCue_===r){this.cues_.splice(o,1),this.cues.setCues_(this.cues_);break}}},e}(jE);Kg.prototype.allowedEvents_={cuechange:"cuechange"};var Sj=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={});var r=ci(i,{kind:w0e[i.kind]||""});n=t.call(this,r)||this;var o=!1;return Object.defineProperty(re(n),"enabled",{get:function(){return o},set:function(s){typeof s!="boolean"||s===o||(o=s,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return e}(jE),Cj=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={});var r=ci(i,{kind:y0e[i.kind]||""});n=t.call(this,r)||this;var o=!1;return Object.defineProperty(re(n),"selected",{get:function(){return o},set:function(s){typeof s!="boolean"||s===o||(o=s,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return e}(jE),Ej=0,k0e=1,zj=2,_0e=3,ep=function(t){ye(e,t);function e(i){var n;i===void 0&&(i={}),n=t.call(this)||this;var r,o=new Kg(i);return n.kind=o.kind,n.src=o.src,n.srclang=o.language,n.label=o.label,n.default=o.default,Object.defineProperties(re(n),{readyState:{get:function(){return r}},track:{get:function(){return o}}}),r=Ej,o.addEventListener("loadeddata",function(){r=zj,n.trigger({type:"load",target:re(n)})}),n}return e}(cn);ep.prototype.allowedEvents_={load:"load"};ep.NONE=Ej;ep.LOADING=k0e;ep.LOADED=zj;ep.ERROR=_0e;var mo={audio:{ListClass:g0e,TrackClass:Sj,capitalName:"Audio"},video:{ListClass:b0e,TrackClass:Cj,capitalName:"Video"},text:{ListClass:_j,TrackClass:Kg,capitalName:"Text"}};Object.keys(mo).forEach(function(t){mo[t].getterName=t+"Tracks",mo[t].privateName=t+"Tracks_"});var Ef={remoteText:{ListClass:_j,TrackClass:Kg,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:v0e,TrackClass:ep,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Kn=Me({},mo,Ef);Ef.names=Object.keys(Ef);mo.names=Object.keys(mo);Kn.names=[].concat(Ef.names).concat(mo.names);function T0e(t,e,i,n,r){r===void 0&&(r={});var o=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var a=new Kn.text.TrackClass(r);return o.addTrack(a),a}var oi=function(t){ye(e,t);function e(n,r){var o;return n===void 0&&(n={}),r===void 0&&(r=function(){}),n.reportTouchActivity=!1,o=t.call(this,null,n,r)||this,o.onDurationChange_=function(a){return o.onDurationChange(a)},o.trackProgress_=function(a){return o.trackProgress(a)},o.trackCurrentTime_=function(a){return o.trackCurrentTime(a)},o.stopTrackingCurrentTime_=function(a){return o.stopTrackingCurrentTime(a)},o.disposeSourceHandler_=function(a){return o.disposeSourceHandler(a)},o.hasStarted_=!1,o.on("playing",function(){this.hasStarted_=!0}),o.on("loadstart",function(){this.hasStarted_=!1}),Kn.names.forEach(function(a){var s=Kn[a];n&&n[s.getterName]&&(o[s.privateName]=n[s.getterName])}),o.featuresProgressEvents||o.manualProgressOn(),o.featuresTimeupdateEvents||o.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){n["native"+a+"Tracks"]===!1&&(o["featuresNative"+a+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?o.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(o.featuresNativeTextTracks=!0),o.featuresNativeTextTracks||o.emulateTextTracks(),o.preloadTextTracks=n.preloadTextTracks!==!1,o.autoRemoteTextTracks_=new Kn.text.ListClass,o.initTrackListeners(),n.nativeControlsForTouch||o.emitTapEvents(),o.constructor&&(o.name_=o.constructor.name||"Unknown Tech"),o}var i=e.prototype;return i.triggerSourceset=function(r){var o=this;this.isReady_||this.one("ready",function(){return o.setTimeout(function(){return o.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ri(this,function(){var o=this.bufferedPercent();this.bufferedPercent_!==o&&this.trigger("progress"),this.bufferedPercent_=o,o===1&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(r){this.duration_=this.duration()},i.buffered=function(){return Kc(0,0)},i.bufferedPercent=function(){return kj(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(mo.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(r){var o=this;r=[].concat(r),r.forEach(function(a){for(var s=o[a+"Tracks"]()||[],l=s.length;l--;){var c=s[l];a==="text"&&o.removeRemoteTextTrack(c),s.removeTrack(c)}})},i.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],o=r.length;o--;){var a=r[o];this.removeRemoteTextTrack(a)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(r){return r!==void 0&&(this.error_=new tr(r),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Kc(0,0):Kc()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var r=this;mo.names.forEach(function(o){var a=mo[o],s=function(){r.trigger(o+"trackchange")},l=r[a.getterName]();l.addEventListener("removetrack",s),l.addEventListener("addtrack",s),r.on("dispose",function(){l.removeEventListener("removetrack",s),l.removeEventListener("addtrack",s)})})},i.addWebVttScript_=function(){var r=this;if(!Q.WebVTT)if(Oe.body.contains(this.el())){if(!this.options_["vtt.js"]&&Zm(BP)&&Object.keys(BP).length>0){this.trigger("vttjsloaded");return}var o=Oe.createElement("script");o.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",o.onload=function(){r.trigger("vttjsloaded")},o.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){o.onload=null,o.onerror=null}),Q.WebVTT=!0,this.el().parentNode.appendChild(o)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var r=this,o=this.textTracks(),a=this.remoteTextTracks(),s=function(h){return o.addTrack(h.track)},l=function(h){return o.removeTrack(h.track)};a.on("addtrack",s),a.on("removetrack",l),this.addWebVttScript_();var c=function(){return r.trigger("texttrackchange")},d=function(){c();for(var h=0;h<o.length;h++){var m=o[h];m.removeEventListener("cuechange",c),m.mode==="showing"&&m.addEventListener("cuechange",c)}};d(),o.addEventListener("change",d),o.addEventListener("addtrack",d),o.addEventListener("removetrack",d),this.on("dispose",function(){a.off("addtrack",s),a.off("removetrack",l),o.removeEventListener("change",d),o.removeEventListener("addtrack",d),o.removeEventListener("removetrack",d);for(var f=0;f<o.length;f++){var h=o[f];h.removeEventListener("cuechange",c)}})},i.addTextTrack=function(r,o,a){if(!r)throw new Error("TextTrack kind is required but was not provided");return T0e(this,r,o,a)},i.createRemoteTextTrack=function(r){var o=ci(r,{tech:this});return new Ef.remoteTextEl.TrackClass(o)},i.addRemoteTextTrack=function(r,o){var a=this;r===void 0&&(r={});var s=this.createRemoteTextTrack(r);return o!==!0&&o!==!1&&(wt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),o=!0),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),o!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(s.track)}),s},i.removeRemoteTextTrack=function(r){var o=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(o),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var r=this.options_.Promise||Q.Promise;if(r)return r.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(r,o){return e.canPlayType(r.type)},e.isTech=function(r){return r.prototype instanceof e||r instanceof e||r===e},e.registerTech=function(r,o){if(e.techs_||(e.techs_={}),!e.isTech(o))throw new Error("Tech "+r+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=Ei(r),e.techs_[r]=o,e.techs_[Sv(r)]=o,r!=="Tech"&&e.defaultTechOrder_.push(r),o},e.getTech=function(r){if(!!r){if(e.techs_&&e.techs_[r])return e.techs_[r];if(r=Ei(r),Q&&Q.videojs&&Q.videojs[r])return wt.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Q.videojs[r]}},e}(xe);Kn.names.forEach(function(t){var e=Kn[t];oi.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});oi.prototype.featuresVolumeControl=!0;oi.prototype.featuresMuteControl=!0;oi.prototype.featuresFullscreenResize=!1;oi.prototype.featuresPlaybackRate=!1;oi.prototype.featuresProgressEvents=!1;oi.prototype.featuresSourceset=!1;oi.prototype.featuresTimeupdateEvents=!1;oi.prototype.featuresNativeTextTracks=!1;oi.withSourceHandlers=function(t){t.registerSourceHandler=function(i,n){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),n===void 0&&(n=r.length),r.splice(n,0,i)},t.canPlayType=function(i){for(var n=t.sourceHandlers||[],r,o=0;o<n.length;o++)if(r=n[o].canPlayType(i),r)return r;return""},t.selectSourceHandler=function(i,n){for(var r=t.sourceHandlers||[],o,a=0;a<r.length;a++)if(o=r[a].canHandleSource(i,n),o)return r[a];return null},t.canPlaySource=function(i,n){var r=t.selectSourceHandler(i,n);return r?r.canHandleSource(i,n):""};var e=["seekable","seeking","duration"];e.forEach(function(i){var n=this[i];typeof n=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){var n=t.selectSourceHandler(i,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:wt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=n.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};xe.registerComponent("Tech",oi);oi.registerTech("Tech",oi);oi.defaultTechOrder_=[];var Xc={},K2={},Vy={};function S0e(t,e){Xc[t]=Xc[t]||[],Xc[t].push(e)}function C0e(t,e,i){t.setTimeout(function(){return vc(e,Xc[e.type],i,t)},1)}function E0e(t,e){t.forEach(function(i){return i.setTech&&i.setTech(e)})}function z0e(t,e,i){return t.reduceRight(HE(i),e[i]())}function I0e(t,e,i,n){return e[i](t.reduce(HE(i),n))}function AL(t,e,i,n){n===void 0&&(n=null);var r="call"+Ei(i),o=t.reduce(HE(r),n),a=o===Vy,s=a?null:e[i](o);return L0e(t,i,s,a),s}var R0e={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},P0e={setCurrentTime:1,setMuted:1,setVolume:1},xL={play:1,pause:1};function HE(t){return function(e,i){return e===Vy?Vy:i[t]?i[t](e):e}}function L0e(t,e,i,n){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](n,i)}}function O0e(t){K2[t.id()]=null}function D0e(t,e){var i=K2[t.id()],n=null;if(i==null)return n=e(t),K2[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var o=i[r],a=o[0],s=o[1];a===e&&(n=s)}return n===null&&(n=e(t),i.push([e,n])),n}function vc(t,e,i,n,r,o){t===void 0&&(t={}),e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o=!1);var a=e,s=a[0],l=a.slice(1);if(typeof s=="string")vc(t,Xc[s],i,n,r,o);else if(s){var c=D0e(n,s);if(!c.setSource)return r.push(c),vc(t,l,i,n,r,o);c.setSource(wi({},t),function(d,f){if(d)return vc(t,l,i,n,r,o);r.push(c),vc(f,t.type===f.type?l:Xc[f.type],i,n,r,o)})}else l.length?vc(t,l,i,n,r,o):o?i(t,r):vc(t,Xc["*"],i,n,r,!0)}var M0e={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},$y=function(e){e===void 0&&(e="");var i=GE(e),n=M0e[i.toLowerCase()];return n||""},B0e=function(e,i){if(!i)return"";if(e.cache_.source.src===i&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(s){return s.src===i});if(n.length)return n[0].type;for(var r=e.$$("source"),o=0;o<r.length;o++){var a=r[o];if(a.type&&a.src&&a.src===i)return a.type}return $y(i)},F0e=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(n){n=t(n),Array.isArray(n)?i=i.concat(n):Cs(n)&&i.push(n)}),e=i}else typeof e=="string"&&e.trim()?e=[kL({src:e})]:Cs(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[kL(e)]:e=[];return e};function kL(t){if(!t.type){var e=$y(t.src);e&&(t.type=e)}return t}var N0e=function(t){ye(e,t);function e(i,n,r){var o,a=ci({createEl:!1},n);if(o=t.call(this,i,a,r)||this,!n.playerOptions.sources||n.playerOptions.sources.length===0)for(var s=0,l=n.playerOptions.techOrder;s<l.length;s++){var c=Ei(l[s]),d=oi.getTech(c);if(c||(d=xe.getComponent(c)),d&&d.isSupported()){i.loadTech_(c);break}}else i.src(n.playerOptions.sources);return o}return e}(xe);xe.registerComponent("MediaLoader",N0e);var HA=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseOver_=function(a){return o.handleMouseOver(a)},o.handleMouseOut_=function(a){return o.handleMouseOut(a)},o.handleClick_=function(a){return o.handleClick(a)},o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.emitTapEvents(),o.enable(),o}var i=e.prototype;return i.createEl=function(r,o,a){r===void 0&&(r="div"),o===void 0&&(o={}),a===void 0&&(a={}),o=wi({className:this.buildCSSClass(),tabIndex:0},o),r==="button"&&wt.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),a=wi({role:"button"},a),this.tabIndex_=o.tabIndex;var s=Ft(r,o,a);return s.appendChild(Ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(r){return this.controlTextEl_=Ft("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},i.controlText=function(r,o){if(o===void 0&&(o=this.el()),r===void 0)return this.controlText_||"Need Text";var a=this.localize(r);this.controlText_=r,Au(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&o.setAttribute("title",a)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(r){ft.isEventKey(r,"Space")||ft.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(xe);xe.registerComponent("ClickableComponent",HA);var j0e=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update(),o.update_=function(a){return o.update(a)},n.on("posterchange",o.update_),o}var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){var r=Ft("div",{className:"vjs-poster",tabIndex:-1});return r},i.update=function(r){var o=this.player().poster();this.setSrc(o),o?this.show():this.hide()},i.setSrc=function(r){var o="";r&&(o='url("'+r+'")'),this.el_.style.backgroundImage=o},i.handleClick=function(r){if(!!this.player_.controls()){var o=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Qg||$g)&&o)&&this.player_.tech(!0).focus(),this.player_.paused()?aa(this.player_.play()):this.player_.pause()}},e}(HA);xe.registerComponent("PosterImage",j0e);var co="#222",_L="#ccc",U0e={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Dk(t,e){var i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Mk(t,e,i){try{t.style[e]=i}catch{return}}var G0e=function(t){ye(e,t);function e(n,r,o){var a;a=t.call(this,n,r,o)||this;var s=function(c){return a.updateDisplay(c)};return n.on("loadstart",function(l){return a.toggleDisplay(l)}),n.on("texttrackchange",s),n.on("loadedmetadata",function(l){return a.preselectTrack(l)}),n.ready(ri(re(a),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",s),n.on("playerresize",s),Q.addEventListener("orientationchange",s),n.on("dispose",function(){return Q.removeEventListener("orientationchange",s)});for(var l=this.options_.playerOptions.tracks||[],c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()})),a}var i=e.prototype;return i.preselectTrack=function(){for(var r={captions:1,subtitles:1},o=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,s,l,c,d=0;d<o.length;d++){var f=o[d];a&&a.enabled&&a.language&&a.language===f.language&&f.kind in r?f.kind===a.kind?c=f:c||(c=f):a&&!a.enabled?(c=null,s=null,l=null):f.default&&(f.kind==="descriptions"&&!s?s=f:f.kind in r&&!l&&(l=f))}c?c.mode="showing":l?l.mode="showing":s&&(s.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof Q.WebVTT=="function"&&Q.WebVTT.processCues(Q,[],this.el_)},i.updateDisplay=function(){var r=this.player_.textTracks(),o=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),o){for(var a=[],s=0;s<r.length;++s){var l=r[s];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var c=null,d=null,f=r.length;f--;){var h=r[f];h.mode==="showing"&&(h.kind==="descriptions"?c=h:d=h)}d?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(d)):c&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(c))},i.updateDisplayState=function(r){for(var o=this.player_.textTrackSettings.getValues(),a=r.activeCues,s=a.length;s--;){var l=a[s];if(!!l){var c=l.displayState;if(o.color&&(c.firstChild.style.color=o.color),o.textOpacity&&Mk(c.firstChild,"color",Dk(o.color||"#fff",o.textOpacity)),o.backgroundColor&&(c.firstChild.style.backgroundColor=o.backgroundColor),o.backgroundOpacity&&Mk(c.firstChild,"backgroundColor",Dk(o.backgroundColor||"#000",o.backgroundOpacity)),o.windowColor&&(o.windowOpacity?Mk(c,"backgroundColor",Dk(o.windowColor,o.windowOpacity)):c.style.backgroundColor=o.windowColor),o.edgeStyle&&(o.edgeStyle==="dropshadow"?c.firstChild.style.textShadow="2px 2px 3px "+co+", 2px 2px 4px "+co+", 2px 2px 5px "+co:o.edgeStyle==="raised"?c.firstChild.style.textShadow="1px 1px "+co+", 2px 2px "+co+", 3px 3px "+co:o.edgeStyle==="depressed"?c.firstChild.style.textShadow="1px 1px "+_L+", 0 1px "+_L+", -1px -1px "+co+", 0 -1px "+co:o.edgeStyle==="uniform"&&(c.firstChild.style.textShadow="0 0 4px "+co+", 0 0 4px "+co+", 0 0 4px "+co+", 0 0 4px "+co)),o.fontPercent&&o.fontPercent!==1){var d=Q.parseFloat(c.style.fontSize);c.style.fontSize=d*o.fontPercent+"px",c.style.height="auto",c.style.top="auto"}o.fontFamily&&o.fontFamily!=="default"&&(o.fontFamily==="small-caps"?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=U0e[o.fontFamily])}}},i.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof Q.WebVTT!="function"||r.every(function(m){return!m.activeCues}))){for(var o=[],a=0;a<r.length;++a)for(var s=r[a],l=0;l<s.activeCues.length;++l)o.push(s.activeCues[l]);Q.WebVTT.processCues(Q,o,this.el_);for(var c=0;c<r.length;++c){for(var d=r[c],f=0;f<d.activeCues.length;++f){var h=d.activeCues[f].displayState;hs(h,"vjs-text-track-cue"),hs(h,"vjs-text-track-cue-"+(d.language?d.language:c)),d.language&&Tf(h,"lang",d.language)}this.player_.textTrackSettings&&this.updateDisplayState(d)}}},e}(xe);xe.registerComponent("TextTrackDisplay",G0e);var H0e=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=this.player_.isAudio(),o=this.localize(r?"Audio Player":"Video Player"),a=Ft("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[o])}),s=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(a),s},e}(xe);xe.registerComponent("LoadingSpinner",H0e);var Lo=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(r,o,a){o===void 0&&(o={}),a===void 0&&(a={}),r="button",o=wi({className:this.buildCSSClass()},o),a=wi({type:"button"},a);var s=Ft(r,o,a);return s.appendChild(Ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s},i.addChild=function(r,o){o===void 0&&(o={});var a=this.constructor.name;return wt.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),xe.prototype.addChild.call(this,r,o)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(r){if(ft.isEventKey(r,"Space")||ft.isEventKey(r,"Enter")){r.stopPropagation();return}t.prototype.handleKeyDown.call(this,r)},e}(HA);xe.registerComponent("Button",Lo);var Ij=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.mouseused_=!1,o.on("mousedown",function(a){return o.handleMouseDown(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(r){var o=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;aa(o),this.player_.tech(!0)&&!((Qg||$g)&&a)&&this.player_.tech(!0).focus();return}var s=this.player_.getChild("controlBar"),l=s&&s.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var c=function(){return l.focus()};Xh(o)?o.then(c,function(){}):this.setTimeout(c,1)},i.handleKeyDown=function(r){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,r)},i.handleMouseDown=function(r){this.mouseused_=!0},e}(Lo);Ij.prototype.controlText_="Play Video";xe.registerComponent("BigPlayButton",Ij);var W0e=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.controlText(r&&r.controlText||o.localize("Close")),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(r){ft.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(Lo);xe.registerComponent("CloseButton",W0e);var Rj=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,r.replay=r.replay===void 0||r.replay,o.on(n,"play",function(a){return o.handlePlay(a)}),o.on(n,"pause",function(a){return o.handlePause(a)}),r.replay&&o.on(n,"ended",function(a){return o.handleEnded(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.player_.paused()?aa(this.player_.play()):this.player_.pause()},i.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},i.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(r){var o=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return o.handleSeeked(a)})},e}(Lo);Rj.prototype.controlText_="Play";xe.registerComponent("PlayToggle",Rj);var Pj=function(e,i){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),o=Math.floor(e/3600),a=Math.floor(i/60%60),s=Math.floor(i/3600);return(isNaN(e)||e===1/0)&&(o=r=n="-"),o=o>0||s>0?o+":":"",r=((o||a>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,o+r+n},WE=Pj;function Y0e(t){WE=t}function V0e(){WE=Pj}function zf(t,e){return e===void 0&&(e=t),WE(t,e)}var tp=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,["timeupdate","ended"],function(a){return o.updateContent(a)}),o.updateTextNode_(),o}var i=e.prototype;return i.createEl=function(){var r=this.buildCSSClass(),o=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),a=Ft("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return o.appendChild(a),this.contentEl_=Ft("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),o.appendChild(this.contentEl_),o},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(r){var o=this;r===void 0&&(r=0),r=zf(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!o.contentEl_){var a=o.textNode_;a&&o.contentEl_.firstChild!==a&&(a=null,wt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),o.textNode_=Oe.createTextNode(o.formattedTime_),o.textNode_&&(a?o.contentEl_.replaceChild(o.textNode_,a):o.contentEl_.appendChild(o.textNode_))}}))},i.updateContent=function(r){},e}(xe);tp.prototype.labelText_="Time";tp.prototype.controlText_="Time";xe.registerComponent("TimeDisplay",tp);var YE=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(r){var o;this.player_.ended()?o=this.player_.duration():o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(o)},e}(tp);YE.prototype.labelText_="Current Time";YE.prototype.controlText_="Current Time";xe.registerComponent("CurrentTimeDisplay",YE);var VE=function(t){ye(e,t);function e(n,r){var o;o=t.call(this,n,r)||this;var a=function(l){return o.updateContent(l)};return o.on(n,"durationchange",a),o.on(n,"loadstart",a),o.on(n,"loadedmetadata",a),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(r){var o=this.player_.duration();this.updateTextNode_(o)},e}(tp);VE.prototype.labelText_="Duration";VE.prototype.controlText_="Duration";xe.registerComponent("DurationDisplay",VE);var $0e=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),o=t.prototype.createEl.call(this,"div"),a=t.prototype.createEl.call(this,"span",{textContent:"/"});return o.appendChild(a),r.appendChild(o),r},e}(xe);xe.registerComponent("TimeDivider",$0e);var $E=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"durationchange",function(a){return o.updateContent(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var r=t.prototype.createEl.call(this);return r.insertBefore(Ft("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},i.updateContent=function(r){if(typeof this.player_.duration()=="number"){var o;this.player_.ended()?o=0:this.player_.remainingTimeDisplay?o=this.player_.remainingTimeDisplay():o=this.player_.remainingTime(),this.updateTextNode_(o)}},e}(tp);$E.prototype.labelText_="Remaining Time";$E.prototype.controlText_="Remaining Time";xe.registerComponent("RemainingTimeDisplay",$E);var Q0e=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.updateShowing(),o.on(o.player(),"durationchange",function(a){return o.updateShowing(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ft("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Ft("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(Oe.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},e}(xe);xe.registerComponent("LiveDisplay",Q0e);var Lj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.updateLiveEdgeStatus(),o.player_.liveTracker&&(o.updateLiveEdgeStatusHandler_=function(a){return o.updateLiveEdgeStatus(a)},o.on(o.player_.liveTracker,"liveedgechange",o.updateLiveEdgeStatusHandler_)),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Ft("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(Lo);Lj.prototype.controlText_="Seek to live, currently playing live";xe.registerComponent("SeekToLive",Lj);var WA=function(e,i,n){return e=Number(e),Math.min(n,Math.max(i,isNaN(e)?i:e))},QE=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseDown_=function(a){return o.handleMouseDown(a)},o.handleMouseUp_=function(a){return o.handleMouseUp(a)},o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.handleClick_=function(a){return o.handleClick(a)},o.handleMouseMove_=function(a){return o.handleMouseMove(a)},o.update_=function(a){return o.update(a)},o.bar=o.getChild(o.options_.barName),o.vertical(!!o.options_.vertical),o.enable(),o}var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(!!this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(r,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o.className=o.className+" vjs-slider",o=wi({tabIndex:0},o),a=wi({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),t.prototype.createEl.call(this,r,o,a)},i.handleMouseDown=function(r){var o=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!Ds&&r.preventDefault(),lj(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(o,"mousemove",this.handleMouseMove_),this.on(o,"mouseup",this.handleMouseUp_),this.on(o,"touchmove",this.handleMouseMove_),this.on(o,"touchend",this.handleMouseUp_),this.handleMouseMove(r)},i.handleMouseMove=function(r){},i.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;cj(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var r=this;if(!(!this.el_||!this.bar)){var o=this.getProgress();return o===this.progress_||(this.progress_=o,this.requestNamedAnimationFrame("Slider#update",function(){var a=r.vertical()?"height":"width";r.bar.el().style[a]=(o*100).toFixed(2)+"%"})),o}},i.getProgress=function(){return Number(WA(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(r){var o=FA(this.el_,r);return this.vertical()?o.y:o.x},i.handleKeyDown=function(r){ft.isEventKey(r,"Left")||ft.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):ft.isEventKey(r,"Right")||ft.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){r.stopPropagation(),r.preventDefault()},i.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(xe);xe.registerComponent("Slider",QE);var Bk=function(e,i){return WA(e/i*100,0,100).toFixed(2)+"%"},q0e=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.partEls_=[],o.on(n,"progress",function(a){return o.update(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),o=Ft("span",{className:"vjs-control-text"}),a=Ft("span",{textContent:this.localize("Loaded")}),s=Oe.createTextNode(": ");return this.percentageEl_=Ft("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(o),o.appendChild(a),o.appendChild(s),o.appendChild(this.percentageEl_),r},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(r){var o=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=o.player_.liveTracker,s=o.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():o.player_.duration(),c=o.player_.bufferedEnd(),d=o.partEls_,f=Bk(c,l);o.percent_!==f&&(o.el_.style.width=f,Au(o.percentageEl_,f),o.percent_=f);for(var h=0;h<s.length;h++){var m=s.start(h),v=s.end(h),w=d[h];w||(w=o.el_.appendChild(Ft()),d[h]=w),!(w.dataset.start===m&&w.dataset.end===v)&&(w.dataset.start=m,w.dataset.end=v,w.style.left=Bk(m,c),w.style.width=Bk(v-m,c))}for(var g=d.length;g>s.length;g--)o.el_.removeChild(d[g-1]);d.length=s.length})},e}(xe);xe.registerComponent("LoadProgressBar",q0e);var K0e=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Es(ri(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(r,o,a){var s=tg(this.el_),l=Sf(this.player_.el()),c=r.width*o;if(!(!l||!s)){var d=r.left-l.left+c,f=r.width-c+(l.right-r.right),h=s.width/2;d<h?h+=h-d:f<h&&(h=f),h<0?h=0:h>s.width&&(h=s.width),h=Math.round(h),this.el_.style.right="-"+h+"px",this.write(a)}},i.write=function(r){Au(this.el_,r)},i.updateTime=function(r,o,a,s){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var c,d=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var f=l.player_.liveTracker.liveWindow(),h=f-o*f;c=(h<1?"":"-")+zf(h,f)}else c=zf(a,d);l.update(r,o,c),s&&s()})},e}(xe);xe.registerComponent("TimeTooltip",K0e);var qE=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Es(ri(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(r,o){var a=this.getChild("timeTooltip");if(!!a){var s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(r,o,s)}},e}(xe);qE.prototype.options_={children:[]};!kr&&!Os&&qE.prototype.options_.children.push("timeTooltip");xe.registerComponent("PlayProgressBar",qE);var Oj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Es(ri(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,o){var a=this,s=o*this.player_.duration();this.getChild("timeTooltip").updateTime(r,o,s,function(){a.el_.style.left=r.width*o+"px"})},e}(xe);Oj.prototype.options_={children:["timeTooltip"]};xe.registerComponent("MouseTimeDisplay",Oj);var $0=5,TL=12,KE=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.setEventHandlers_(),o}var i=e.prototype;return i.setEventHandlers_=function(){var r=this;this.update_=ri(this,this.update),this.update=Es(this.update_,Fo),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(o){return r.enableInterval_(o)},this.disableIntervalHandler_=function(o){return r.disableInterval_(o)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Oe&&"visibilityState"in Oe&&this.on(Oe,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(r){Oe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Fo))},i.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(r){var o=this;if(Oe.visibilityState!=="hidden"){var a=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var s=o.player_.ended()?o.player_.duration():o.getCurrentTime_(),l=o.player_.liveTracker,c=o.player_.duration();l&&l.isLive()&&(c=o.player_.liveTracker.liveCurrentTime()),o.percent_!==a&&(o.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),o.percent_=a),(o.currentTime_!==s||o.duration_!==c)&&(o.el_.setAttribute("aria-valuetext",o.localize("progress bar timing: currentTime={1} duration={2}",[zf(s,c),zf(c,c)],"{1} of {2}")),o.currentTime_=s,o.duration_=c),o.bar&&o.bar.update(Sf(o.el()),o.getProgress())}),a}},i.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var r=this.getCurrentTime_(),o,a=this.player_.liveTracker;return a&&a.isLive()?(o=(r-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(o=1)):o=r/this.player_.duration(),o},i.handleMouseDown=function(r){!ig(r)||(r.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,r))},i.handleMouseMove=function(r){if(!!ig(r)){var o,a=this.calculateDistance(r),s=this.player_.liveTracker;if(!s||!s.isLive())o=a*this.player_.duration(),o===this.player_.duration()&&(o=o-.1);else{if(a>=.99){s.seekToLiveEdge();return}var l=s.seekableStart(),c=s.liveCurrentTime();if(o=l+a*s.liveWindow(),o>=c&&(o=c),o<=l&&(o=l+.1),o===1/0)return}this.userSeek_(o)}},i.enable=function(){t.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.show()},i.disable=function(){t.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.hide()},i.handleMouseUp=function(r){t.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?aa(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+$0)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-$0)},i.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(r){var o=this.player_.liveTracker;if(ft.isEventKey(r,"Space")||ft.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(ft.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(ft.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),o&&o.isLive()?this.userSeek_(o.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ft(r))){r.preventDefault(),r.stopPropagation();var a=(ft.codes[ft(r)]-ft.codes[0])*10/100;o&&o.isLive()?this.userSeek_(o.seekableStart()+o.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else ft.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-$0*TL)):ft.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+$0*TL)):t.prototype.handleKeyDown.call(this,r)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Oe&&"visibilityState"in Oe&&this.off(Oe,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(QE);KE.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!kr&&!Os&&KE.prototype.options_.children.splice(1,0,"mouseTimeDisplay");xe.registerComponent("SeekBar",KE);var Dj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseMove=Es(ri(re(o),o.handleMouseMove),Fo),o.throttledHandleMouseSeek=Es(ri(re(o),o.handleMouseSeek),Fo),o.handleMouseUpHandler_=function(a){return o.handleMouseUp(a)},o.handleMouseDownHandler_=function(a){return o.handleMouseDown(a)},o.enable(),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(r){var o=this.getChild("seekBar");if(!!o){var a=o.getChild("playProgressBar"),s=o.getChild("mouseTimeDisplay");if(!(!a&&!s)){var l=o.el(),c=tg(l),d=FA(l,r).x;d=WA(d,0,1),s&&s.update(c,d),a&&a.update(c,o.getProgress())}}},i.handleMouseSeek=function(r){var o=this.getChild("seekBar");o&&o.handleMouseMove(r)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(o){return o.disable&&o.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&aa(this.player_.play())}},i.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(r){var o=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(r),this.on(o,"mousemove",this.throttledHandleMouseSeek),this.on(o,"touchmove",this.throttledHandleMouseSeek),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var o=this.getChild("seekBar");o&&o.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},e}(xe);Dj.prototype.options_={children:["seekBar"]};xe.registerComponent("ProgressControl",Dj);var Mj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,["enterpictureinpicture","leavepictureinpicture"],function(a){return o.handlePictureInPictureChange(a)}),o.on(n,["disablepictureinpicturechanged","loadedmetadata"],function(a){return o.handlePictureInPictureEnabledChange(a)}),o.disable(),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){Oe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},i.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Lo);Mj.prototype.controlText_="Picture-in-Picture";xe.registerComponent("PictureInPictureToggle",Mj);var Bj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"fullscreenchange",function(a){return o.handleFullscreenChange(a)}),Oe[n.fsApi_.fullscreenEnabled]===!1&&o.disable(),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Lo);Bj.prototype.controlText_="Fullscreen";xe.registerComponent("FullscreenToggle",Bj);var X0e=function(e,i){i.tech_&&!i.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},J0e=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},e}(xe);xe.registerComponent("VolumeLevel",J0e);var Z0e=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Es(ri(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(r,o,a,s){if(!a){var l=Sf(this.el_),c=Sf(this.player_.el()),d=r.width*o;if(!c||!l)return;var f=r.left-c.left+d,h=r.width-d+(c.right-r.right),m=l.width/2;f<m?m+=m-f:h<m&&(m=h),m<0?m=0:m>l.width&&(m=l.width),this.el_.style.right="-"+m+"px"}this.write(s+"%")},i.write=function(r){Au(this.el_,r)},i.updateVolume=function(r,o,a,s,l){var c=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){c.update(r,o,a,s.toFixed(0)),l&&l()})},e}(xe);xe.registerComponent("VolumeLevelTooltip",Z0e);var Fj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Es(ri(re(o),o.update),Fo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,o,a){var s=this,l=100*o;this.getChild("volumeLevelTooltip").updateVolume(r,o,a,l,function(){a?s.el_.style.bottom=r.height*o+"px":s.el_.style.left=r.width*o+"px"})},e}(xe);Fj.prototype.options_={children:["volumeLevelTooltip"]};xe.registerComponent("MouseVolumeLevelDisplay",Fj);var YA=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on("slideractive",function(a){return o.updateLastVolume_(a)}),o.on(n,"volumechange",function(a){return o.updateARIAAttributes(a)}),n.ready(function(){return o.updateARIAAttributes()}),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(r){!ig(r)||t.prototype.handleMouseDown.call(this,r)},i.handleMouseMove=function(r){var o=this.getChild("mouseVolumeLevelDisplay");if(o){var a=this.el(),s=Sf(a),l=this.vertical(),c=FA(a,r);c=l?c.y:c.x,c=WA(c,0,1),o.update(s,c,l)}!ig(r)||(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(r){var o=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",o),this.el_.setAttribute("aria-valuetext",o+"%")},i.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},i.updateLastVolume_=function(){var r=this,o=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(o)})},e}(QE);YA.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!kr&&!Os&&YA.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");YA.prototype.playerEvent="volumechange";xe.registerComponent("VolumeBar",YA);var Nj=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar=="undefined"||Zm(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),o=t.call(this,n,r)||this,X0e(re(o),n),o.throttledHandleMouseMove=Es(ri(re(o),o.handleMouseMove),Fo),o.handleMouseUpHandler_=function(a){return o.handleMouseUp(a)},o.on("mousedown",function(a){return o.handleMouseDown(a)}),o.on("touchstart",function(a){return o.handleMouseDown(a)}),o.on("mousemove",function(a){return o.handleMouseMove(a)}),o.on(o.volumeBar,["focus","slideractive"],function(){o.volumeBar.addClass("vjs-slider-active"),o.addClass("vjs-slider-active"),o.trigger("slideractive")}),o.on(o.volumeBar,["blur","sliderinactive"],function(){o.volumeBar.removeClass("vjs-slider-active"),o.removeClass("vjs-slider-active"),o.trigger("sliderinactive")}),o}var i=e.prototype;return i.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},i.handleMouseDown=function(r){var o=this.el_.ownerDocument;this.on(o,"mousemove",this.throttledHandleMouseMove),this.on(o,"touchmove",this.throttledHandleMouseMove),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var o=this.el_.ownerDocument;this.off(o,"mousemove",this.throttledHandleMouseMove),this.off(o,"touchmove",this.throttledHandleMouseMove),this.off(o,"mouseup",this.handleMouseUpHandler_),this.off(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},e}(xe);Nj.prototype.options_={children:["volumeBar"]};xe.registerComponent("VolumeControl",Nj);var eve=function(e,i){i.tech_&&!i.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},jj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,eve(re(o),n),o.on(n,["loadstart","volumechange"],function(a){return o.update(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){var o=this.player_.volume(),a=this.player_.lastVolume_();if(o===0){var s=a<.1?.1:a;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(r){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var r=this.player_.volume(),o=3;kr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?o=0:r<.33?o=1:r<.67&&(o=2);for(var a=0;a<4;a++)qg(this.el_,"vjs-vol-"+a);hs(this.el_,"vjs-vol-"+o)},i.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,o=r?"Unmute":"Mute";this.controlText()!==o&&this.controlText(o)},e}(Lo);jj.prototype.controlText_="Mute";xe.registerComponent("MuteToggle",jj);var Uj=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),typeof r.inline!="undefined"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl=="undefined"||Zm(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),o=t.call(this,n,r)||this,o.handleKeyPressHandler_=function(a){return o.handleKeyPress(a)},o.on(n,["loadstart"],function(a){return o.volumePanelState_(a)}),o.on(o.muteToggle,"keyup",function(a){return o.handleKeyPress(a)}),o.on(o.volumeControl,"keyup",function(a){return o.handleVolumeControlKeyUp(a)}),o.on("keydown",function(a){return o.handleKeyPress(a)}),o.on("mouseover",function(a){return o.handleMouseOver(a)}),o.on("mouseout",function(a){return o.handleMouseOut(a)}),o.on(o.volumeControl,["slideractive"],o.sliderActive_),o.on(o.volumeControl,["sliderinactive"],o.sliderInactive_),o}var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(r){ft.isEventKey(r,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(r){this.addClass("vjs-hover"),Kr(Oe,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(r){this.removeClass("vjs-hover"),Fn(Oe,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(r){ft.isEventKey(r,"Esc")&&this.handleMouseOut()},e}(xe);Uj.prototype.options_={children:["muteToggle","volumeControl"]};xe.registerComponent("VolumePanel",Uj);var Gj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,r&&(o.menuButton_=r.menuButton),o.focusedChild_=-1,o.on("keydown",function(a){return o.handleKeyDown(a)}),o.boundHandleBlur_=function(a){return o.handleBlur(a)},o.boundHandleTapClick_=function(a){return o.handleTapClick(a)},o}var i=e.prototype;return i.addEventListenerForItem=function(r){r instanceof xe&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(r){r instanceof xe&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),t.prototype.removeChild.call(this,r)},i.addItem=function(r){var o=this.addChild(r);o&&this.addEventListenerForItem(o)},i.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=Ft(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var o=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return o.appendChild(this.contentEl_),Kr(o,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),o},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(r){var o=r.relatedTarget||Oe.activeElement;if(!this.children().some(function(s){return s.el()===o})){var a=this.menuButton_;a&&a.buttonPressed_&&o!==a.el().firstChild&&a.unpressButton()}},i.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var o=this.children();if(!Array.isArray(o))return;var a=o.filter(function(s){return s.el()===r.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},i.handleKeyDown=function(r){ft.isEventKey(r,"Left")||ft.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(ft.isEventKey(r,"Right")||ft.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},i.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},i.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},i.focus=function(r){r===void 0&&(r=0);var o=this.children().slice(),a=o.length&&o[0].hasClass("vjs-menu-title");a&&o.shift(),o.length>0&&(r<0?r=0:r>=o.length&&(r=o.length-1),this.focusedChild_=r,o[r].el_.focus())},e}(xe);xe.registerComponent("Menu",Gj);var XE=function(t){ye(e,t);function e(n,r){var o;r===void 0&&(r={}),o=t.call(this,n,r)||this,o.menuButton_=new Lo(n,r),o.menuButton_.controlText(o.controlText_),o.menuButton_.el_.setAttribute("aria-haspopup","true");var a=Lo.prototype.buildCSSClass();o.menuButton_.el_.className=o.buildCSSClass()+" "+a,o.menuButton_.removeClass("vjs-control"),o.addChild(o.menuButton_),o.update(),o.enabled_=!0;var s=function(c){return o.handleClick(c)};return o.handleMenuKeyUp_=function(l){return o.handleMenuKeyUp(l)},o.on(o.menuButton_,"tap",s),o.on(o.menuButton_,"click",s),o.on(o.menuButton_,"keydown",function(l){return o.handleKeyDown(l)}),o.on(o.menuButton_,"mouseenter",function(){o.addClass("vjs-hover"),o.menu.show(),Kr(Oe,"keyup",o.handleMenuKeyUp_)}),o.on("mouseleave",function(l){return o.handleMouseLeave(l)}),o.on("keydown",function(l){return o.handleSubmenuKeyDown(l)}),o}var i=e.prototype;return i.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var r=new Gj(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var o=Ft("li",{className:"vjs-menu-title",textContent:Ei(this.options_.title),tabIndex:-1}),a=new xe(this.player_,{el:o});r.addItem(a)}if(this.items=this.createItems(),this.items)for(var s=0;s<this.items.length;s++)r.addItem(this.items[s]);return r},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var o=Lo.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+o+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(r,o){return o===void 0&&(o=this.menuButton_.el()),this.menuButton_.controlText(r,o)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(r){this.removeClass("vjs-hover"),Fn(Oe,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(r){ft.isEventKey(r,"Esc")||ft.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),ft.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(ft.isEventKey(r,"Up")||ft.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(r){(ft.isEventKey(r,"Esc")||ft.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},i.handleSubmenuKeyDown=function(r){(ft.isEventKey(r,"Esc")||ft.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ft.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),kr&&nj())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(xe);xe.registerComponent("MenuButton",XE);var JE=function(t){ye(e,t);function e(i,n){var r,o=n.tracks;if(r=t.call(this,i,n)||this,r.items.length<=1&&r.hide(),!o)return re(r);var a=ri(re(r),r.update);return o.addEventListener("removetrack",a),o.addEventListener("addtrack",a),o.addEventListener("labelchange",a),r.player_.on("ready",a),r.player_.on("dispose",function(){o.removeEventListener("removetrack",a),o.removeEventListener("addtrack",a),o.removeEventListener("labelchange",a)}),r}return e}(XE);xe.registerComponent("TrackButton",JE);var tve=["Tab","Esc","Up","Down","Right","Left"],Xg=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.selectable=r.selectable,o.isSelected_=r.selected||!1,o.multiSelectable=r.multiSelectable,o.selected(o.isSelected_),o.selectable?o.multiSelectable?o.el_.setAttribute("role","menuitemcheckbox"):o.el_.setAttribute("role","menuitemradio"):o.el_.setAttribute("role","menuitem"),o}var i=e.prototype;return i.createEl=function(r,o,a){this.nonIconControl=!0;var s=t.prototype.createEl.call(this,"li",wi({className:"vjs-menu-item",tabIndex:-1},o),a);return s.replaceChild(Ft("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),s.querySelector(".vjs-icon-placeholder")),s},i.handleKeyDown=function(r){tve.some(function(o){return ft.isEventKey(r,o)})||t.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){this.selected(!0)},i.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(HA);xe.registerComponent("MenuItem",Xg);var Jg=function(t){ye(e,t);function e(n,r){var o,a=r.track,s=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected=a.mode==="showing",o=t.call(this,n,r)||this,o.track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var l=function(){for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];o.handleTracksChange.apply(re(o),m)},c=function(){for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];o.handleSelectedLanguageChange.apply(re(o),m)};if(n.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)}),s.onchange===void 0){var d;o.on(["tap","click"],function(){if(typeof Q.Event!="object")try{d=new Q.Event("change")}catch{}d||(d=Oe.createEvent("Event"),d.initEvent("change",!0,!0)),s.dispatchEvent(d)})}return o.handleTracksChange(),o}var i=e.prototype;return i.handleClick=function(r){var o=this.track,a=this.player_.textTracks();if(t.prototype.handleClick.call(this,r),!!a)for(var s=0;s<a.length;s++){var l=a[s];this.kinds.indexOf(l.kind)!==-1&&(l===o?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},i.handleTracksChange=function(r){var o=this.track.mode==="showing";o!==this.isSelected_&&this.selected(o)},i.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var o=this.player_.cache_.selectedLanguage;if(o&&o.enabled&&o.language===this.track.language&&o.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Xg);xe.registerComponent("TextTrackMenuItem",Jg);var Hj=function(t){ye(e,t);function e(n,r){return r.track={player:n,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,n,r)||this}var i=e.prototype;return i.handleTracksChange=function(r){for(var o=this.player().textTracks(),a=!0,s=0,l=o.length;s<l;s++){var c=o[s];if(this.options_.kinds.indexOf(c.kind)>-1&&c.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},i.handleSelectedLanguageChange=function(r){for(var o=this.player().textTracks(),a=!0,s=0,l=o.length;s<l;s++){var c=o[s];if(["captions","descriptions","subtitles"].indexOf(c.kind)>-1&&c.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Jg);xe.registerComponent("OffTextTrackMenuItem",Hj);var ip=function(t){ye(e,t);function e(n,r){return r===void 0&&(r={}),r.tracks=n.textTracks(),t.call(this,n,r)||this}var i=e.prototype;return i.createItems=function(r,o){r===void 0&&(r=[]),o===void 0&&(o=Jg);var a;this.label_&&(a=this.label_+" off"),r.push(new Hj(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<s.length;l++){var c=s[l];if(this.kinds_.indexOf(c.kind)>-1){var d=new o(this.player_,{track:c,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass("vjs-"+c.kind+"-menu-item"),r.push(d)}}return r},e}(JE);xe.registerComponent("TextTrackButton",ip);var Wj=function(t){ye(e,t);function e(n,r){var o,a=r.track,s=r.cue,l=n.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=s.text,r.selected=s.startTime<=l&&l<s.endTime,o=t.call(this,n,r)||this,o.track=a,o.cue=s,a.addEventListener("cuechange",ri(re(o),o.update)),o}var i=e.prototype;return i.handleClick=function(r){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(r){var o=this.cue,a=this.player_.currentTime();this.selected(o.startTime<=a&&a<o.endTime)},e}(Xg);xe.registerComponent("ChaptersTrackMenuItem",Wj);var ZE=function(t){ye(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(r){(!this.track_||r&&(r.type==="addtrack"||r.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);o&&o.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],o=r.length-1;o>=0;o--){var a=r[o];if(a.kind===this.kind_)return a}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ei(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var r=[];if(!this.track_)return r;var o=this.track_.cues;if(!o)return r;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=new Wj(this.player_,{track:this.track_,cue:l});r.push(c)}return r},e}(ip);ZE.prototype.kind_="chapters";ZE.prototype.controlText_="Chapters";xe.registerComponent("ChaptersButton",ZE);var ez=function(t){ye(e,t);function e(n,r,o){var a;a=t.call(this,n,r,o)||this;var s=n.textTracks(),l=ri(re(a),a.handleTracksChange);return s.addEventListener("change",l),a.on("dispose",function(){s.removeEventListener("change",l)}),a}var i=e.prototype;return i.handleTracksChange=function(r){for(var o=this.player().textTracks(),a=!1,s=0,l=o.length;s<l;s++){var c=o[s];if(c.kind!==this.kind_&&c.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(ip);ez.prototype.kind_="descriptions";ez.prototype.controlText_="Descriptions";xe.registerComponent("DescriptionsButton",ez);var tz=function(t){ye(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(ip);tz.prototype.kind_="subtitles";tz.prototype.controlText_="Subtitles";xe.registerComponent("SubtitlesButton",tz);var iz=function(t){ye(e,t);function e(n,r){var o;return r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",o=t.call(this,n,r)||this,o.addClass("vjs-texttrack-settings"),o.controlText(", opens "+r.kind+" settings dialog"),o}var i=e.prototype;return i.handleClick=function(r){this.player().getChild("textTrackSettings").open()},e}(Jg);xe.registerComponent("CaptionSettingsMenuItem",iz);var nz=function(t){ye(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new iz(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,r)},e}(ip);nz.prototype.kind_="captions";nz.prototype.controlText_="Captions";xe.registerComponent("CaptionsButton",nz);var Yj=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(r,o,a){var s=t.prototype.createEl.call(this,r,o,a),l=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(Ft("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Ft("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),s},e}(Jg);xe.registerComponent("SubsCapsMenuItem",Yj);var rz=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,o.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(o.player_.language_)>-1&&(o.label_="captions"),o.menuButton_.controlText(Ei(o.label_)),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new iz(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=t.prototype.createItems.call(this,r,Yj),r},e}(ip);rz.prototype.kinds_=["captions","subtitles"];rz.prototype.controlText_="Subtitles";xe.registerComponent("SubsCapsButton",rz);var Vj=function(t){ye(e,t);function e(n,r){var o,a=r.track,s=n.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,o=t.call(this,n,r)||this,o.track=a,o.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];o.handleTracksChange.apply(re(o),f)};return s.addEventListener("change",l),o.on("dispose",function(){s.removeEventListener("change",l)}),o}var i=e.prototype;return i.createEl=function(r,o,a){var s=t.prototype.createEl.call(this,r,o,a),l=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),s},i.handleClick=function(r){t.prototype.handleClick.call(this,r),this.track.enabled=!0},i.handleTracksChange=function(r){this.selected(this.track.enabled)},e}(Xg);xe.registerComponent("AudioTrackMenuItem",Vj);var $j=function(t){ye(e,t);function e(n,r){return r===void 0&&(r={}),r.tracks=n.audioTracks(),t.call(this,n,r)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var o=this.player_.audioTracks(),a=0;a<o.length;a++){var s=o[a];r.push(new Vj(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return r},e}(JE);$j.prototype.controlText_="Audio Track";xe.registerComponent("AudioTrackButton",$j);var oz=function(t){ye(e,t);function e(n,r){var o,a=r.rate,s=parseFloat(a,10);return r.label=a,r.selected=s===n.playbackRate(),r.selectable=!0,r.multiSelectable=!1,o=t.call(this,n,r)||this,o.label=a,o.rate=s,o.on(n,"ratechange",function(l){return o.update(l)}),o}var i=e.prototype;return i.handleClick=function(r){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(r){this.selected(this.player().playbackRate()===this.rate)},e}(Xg);oz.prototype.contentElType="button";xe.registerComponent("PlaybackRateMenuItem",oz);var Qj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.menuButton_.el_.setAttribute("aria-describedby",o.labelElId_),o.updateVisibility(),o.updateLabel(),o.on(n,"loadstart",function(a){return o.updateVisibility(a)}),o.on(n,"ratechange",function(a){return o.updateLabel(a)}),o.on(n,"playbackrateschange",function(a){return o.handlePlaybackRateschange(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ft("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var r=this.playbackRates(),o=[],a=r.length-1;a>=0;a--)o.push(new oz(this.player(),{rate:r[a]+"x"}));return o},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(r){for(var o=this.player().playbackRate(),a=this.playbackRates(),s=a[0],l=0;l<a.length;l++)if(a[l]>o){s=a[l];break}this.player().playbackRate(s)},i.handlePlaybackRateschange=function(r){this.update()},i.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(XE);Qj.prototype.controlText_="Playback Rate";xe.registerComponent("PlaybackRateMenuButton",Qj);var qj=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(r,o,a){return r===void 0&&(r="div"),o===void 0&&(o={}),a===void 0&&(a={}),o.className||(o.className=this.buildCSSClass()),t.prototype.createEl.call(this,r,o,a)},e}(xe);xe.registerComponent("Spacer",qj);var ive=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(qj);xe.registerComponent("CustomControlSpacer",ive);var Qy=function(t){ye(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(xe);Qy.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in Oe&&Qy.prototype.options_.children.splice(Qy.prototype.options_.children.length-1,0,"pictureInPictureToggle");xe.registerComponent("ControlBar",Qy);var Kj=function(t){ye(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"error",function(a){return o.open(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var r=this.player().error();return r?this.localize(r.message):""},e}(Zf);Kj.prototype.options_=Me({},Zf.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});xe.registerComponent("ErrorDisplay",Kj);var Fk="vjs-text-track-settings",SL=["#000","Black"],CL=["#00F","Blue"],EL=["#0FF","Cyan"],zL=["#0F0","Green"],IL=["#F0F","Magenta"],RL=["#F00","Red"],PL=["#FFF","White"],LL=["#FF0","Yellow"],Nk=["1","Opaque"],jk=["0.5","Semi-Transparent"],OL=["0","Transparent"],xc={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[SL,PL,RL,zL,CL,LL,IL,EL]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Nk,jk,OL]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[PL,SL,RL,zL,CL,LL,IL,EL]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Nk,jk]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[OL,jk,Nk]}};xc.windowColor.options=xc.backgroundColor.options;function Xj(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function nve(t,e){var i=t.options[t.options.selectedIndex].value;return Xj(i,e)}function rve(t,e,i){if(!!e){for(var n=0;n<t.options.length;n++)if(Xj(t.options[n].value,i)===e){t.selectedIndex=n;break}}}var ove=function(t){ye(e,t);function e(n,r){var o;return r.temporary=!1,o=t.call(this,n,r)||this,o.updateDisplay=o.updateDisplay.bind(re(o)),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=Ft("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),r.persistTextTrackSettings===void 0&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),Bd(xc,function(a){o.on(o.$(a.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(r,o,a){var s=this;o===void 0&&(o=""),a===void 0&&(a="label");var l=xc[r],c=l.id.replace("%s",this.id_),d=[o,c].join(" ").trim();return["<"+a+' id="'+c+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+d+'">'].concat(l.options.map(function(f){var h=c+"-"+f[1].replace(/\W+/g,"");return['<option id="'+h+'" value="'+f[0]+'" ','aria-labelledby="'+d+" "+h+'">',s.localize(f[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Ft("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Ft("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var r=this.localize("restore all settings to the default values");return Ft("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var r=this;return $be(xc,function(o,a,s){var l=nve(r.$(a.selector),a.parser);return l!==void 0&&(o[s]=l),o},{})},i.setValues=function(r){var o=this;Bd(xc,function(a,s){rve(o.$(a.selector),r[s],a.parser)})},i.setDefaults=function(){var r=this;Bd(xc,function(o){var a=o.hasOwnProperty("default")?o.default:0;r.$(o.selector).selectedIndex=a})},i.restoreSettings=function(){var r;try{r=JSON.parse(Q.localStorage.getItem(Fk))}catch(o){wt.warn(o)}r&&this.setValues(r)},i.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?Q.localStorage.setItem(Fk,JSON.stringify(r)):Q.localStorage.removeItem(Fk)}catch(o){wt.warn(o)}}},i.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,o=r&&r.subsCapsButton,a=r&&r.captionsButton;o?o.focus():a&&a.focus()},e}(Zf);xe.registerComponent("TextTrackSettings",ove);var ave=function(t){ye(e,t);function e(n,r){var o,a=r.ResizeObserver||Q.ResizeObserver;r.ResizeObserver===null&&(a=!1);var s=ci({createEl:!a,reportTouchActivity:!1},r);return o=t.call(this,n,s)||this,o.ResizeObserver=r.ResizeObserver||Q.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=r0e(function(){o.resizeHandler()},100,!1,re(o)),a?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(n.el())):(o.loadListener_=function(){if(!(!o.el_||!o.el_.contentWindow)){var l=o.debouncedHandler_,c=o.unloadListener_=function(){Fn(this,"resize",l),Fn(this,"unload",c),c=null};Kr(o.el_.contentWindow,"unload",c),Kr(o.el_.contentWindow,"resize",l)}},o.one("load",o.loadListener_)),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(xe);xe.registerComponent("ResizeManager",ave);var sve={trackingThreshold:20,liveTolerance:15},lve=function(t){ye(e,t);function e(n,r){var o,a=ci(sve,r,{createEl:!1});return o=t.call(this,n,a)||this,o.handleVisibilityChange_=function(s){return o.handleVisibilityChange(s)},o.trackLiveHandler_=function(){return o.trackLive_()},o.handlePlay_=function(s){return o.handlePlay(s)},o.handleFirstTimeupdate_=function(s){return o.handleFirstTimeupdate(s)},o.handleSeeked_=function(s){return o.handleSeeked(s)},o.seekToLiveEdge_=function(s){return o.seekToLiveEdge(s)},o.reset_(),o.on(o.player_,"durationchange",function(s){return o.handleDurationchange(s)}),o.one(o.player_,"canplay",function(){return o.toggleTracking()}),Qg&&"hidden"in Oe&&"visibilityState"in Oe&&o.on(Oe,"visibilitychange",o.handleVisibilityChange_),o}var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Oe.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var o=Number(Q.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(o-this.lastTime_)/1e3;this.lastTime_=o,this.pastSeekEnd_=this.pastSeekEnd()+a;var s=this.liveCurrentTime(),l=this.player_.currentTime(),c=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(c=!1),c!==this.behindLiveEdge_&&(this.behindLiveEdge_=c,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Fo),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var r=this.player_.seekable(),o=[],a=r?r.length:0;a--;)o.push(r.end(a));return o.length?o.sort()[o.length-1]:1/0},i.seekableStart=function(){for(var r=this.player_.seekable(),o=[],a=r?r.length:0;a--;)o.push(r.start(a));return o.length?o.sort()[0]:0},i.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return typeof this.trackingInterval_=="number"},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(Oe,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(xe);xe.registerComponent("LiveTracker",lve);var X2=function(e){var i=e.el();if(i.hasAttribute("src"))return e.triggerSourceset(i.src),!0;var n=e.$$("source"),r=[],o="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var s=n[a].src;s&&r.indexOf(s)===-1&&r.push(s)}return r.length?(r.length===1&&(o=r[0]),e.triggerSourceset(o),!0):!1},cve=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=Oe.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var n=Oe.createDocumentFragment();i.childNodes.length;)n.appendChild(i.childNodes[0]);return this.innerText="",Q.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Jj=function(e,i){for(var n={},r=0;r<e.length&&(n=Object.getOwnPropertyDescriptor(e[r],i),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},uve=function(e){return Jj([e.el(),Q.HTMLMediaElement.prototype,Q.Element.prototype,cve],"innerHTML")},DL=function(e){var i=e.el();if(!i.resetSourceWatch_){var n={},r=uve(e),o=function(s){return function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=s.apply(i,c);return X2(e),f}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){!i[a]||(n[a]=i[a],i[a]=o(n[a]))}),Object.defineProperty(i,"innerHTML",ci(r,{set:o(r.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(n).forEach(function(a){i[a]=n[a]}),Object.defineProperty(i,"innerHTML",r)},e.one("sourceset",i.resetSourceWatch_)}},dve=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Tj(Q.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return Q.Element.prototype.setAttribute.call(this,"src",e),e}}),fve=function(e){return Jj([e.el(),Q.HTMLMediaElement.prototype,dve],"src")},pve=function(e){if(!!e.featuresSourceset){var i=e.el();if(!i.resetSourceset_){var n=fve(e),r=i.setAttribute,o=i.load;Object.defineProperty(i,"src",ci(n,{set:function(s){var l=n.set.call(i,s);return e.triggerSourceset(i.src),l}})),i.setAttribute=function(a,s){var l=r.call(i,a,s);return/src/i.test(a)&&e.triggerSourceset(i.src),l},i.load=function(){var a=o.call(i);return X2(e)||(e.triggerSourceset(""),DL(e)),a},i.currentSrc?e.triggerSourceset(i.currentSrc):X2(e)||DL(e),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=o,i.setAttribute=r,Object.defineProperty(i,"src",n),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},az=function(e,i,n,r){r===void 0&&(r=!0);var o=function(l){return Object.defineProperty(e,i,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=n();return o(l),l}};return r&&(a.set=o),Object.defineProperty(e,i,a)},qe=function(t){ye(e,t);function e(n,r){var o;o=t.call(this,n,r)||this;var a=n.source,s=!1;if(a&&(o.el_.currentSrc!==a.src||n.tag&&n.tag.initNetworkState_===3)?o.setSource(a):o.handleLateInit_(o.el_),n.enableSourceset&&o.setupSourcesetHandling_(),o.isScrubbing_=!1,o.el_.hasChildNodes()){for(var l=o.el_.childNodes,c=l.length,d=[];c--;){var f=l[c],h=f.nodeName.toLowerCase();h==="track"&&(o.featuresNativeTextTracks?(o.remoteTextTrackEls().addTrackElement_(f),o.remoteTextTracks().addTrack(f.track),o.textTracks().addTrack(f.track),!s&&!o.el_.hasAttribute("crossorigin")&&GA(f.src)&&(s=!0)):d.push(f))}for(var m=0;m<d.length;m++)o.el_.removeChild(d[m])}return o.proxyNativeTracks_(),o.featuresNativeTextTracks&&s&&wt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),o.restoreMetadataTracksInIOSNativePlayer_(),(_f||DE||J7)&&n.nativeControlsForTouch===!0&&o.setControls(!0),o.proxyWebkitFullscreen_(),o.triggerReady(),o}var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){pve(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),o,a=function(){o=[];for(var c=0;c<r.length;c++){var d=r[c];d.kind==="metadata"&&o.push({track:d,storedMode:d.mode})}};a(),r.addEventListener("change",a),this.on("dispose",function(){return r.removeEventListener("change",a)});var s=function l(){for(var c=0;c<o.length;c++){var d=o[c];d.track.mode==="disabled"&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}r.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",a),r.removeEventListener("change",s),r.addEventListener("change",s)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",a),r.addEventListener("change",a),r.removeEventListener("change",s)})},i.overrideNative_=function(r,o){var a=this;if(o===this["featuresNative"+r+"Tracks"]){var s=r.toLowerCase();this[s+"TracksListeners_"]&&Object.keys(this[s+"TracksListeners_"]).forEach(function(l){var c=a.el()[s+"Tracks"];c.removeEventListener(l,a[s+"TracksListeners_"][l])}),this["featuresNative"+r+"Tracks"]=!o,this[s+"TracksListeners_"]=null,this.proxyNativeTracksForType_(s)}},i.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},i.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},i.proxyNativeTracksForType_=function(r){var o=this,a=mo[r],s=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!s||!s.addEventListener)){var c={change:function(h){var m={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(m),r==="text"&&o[Ef.remoteText.getterName]().trigger(m)},addtrack:function(h){l.addTrack(h.track)},removetrack:function(h){l.removeTrack(h.track)}},d=function(){for(var h=[],m=0;m<l.length;m++){for(var v=!1,w=0;w<s.length;w++)if(s[w]===l[m]){v=!0;break}v||h.push(l[m])}for(;h.length;)l.removeTrack(h.shift())};this[a.getterName+"Listeners_"]=c,Object.keys(c).forEach(function(f){var h=c[f];s.addEventListener(f,h),o.on("dispose",function(m){return s.removeEventListener(f,h)})}),this.on("loadstart",d),this.on("dispose",function(f){return o.off("loadstart",d)})}},i.proxyNativeTracks_=function(){var r=this;mo.names.forEach(function(o){r.proxyNativeTracksForType_(o)})},i.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var o=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(o,r),e.disposeMediaElement(r),r=o}else{r=Oe.createElement("video");var a=this.options_.tag&&Za(this.options_.tag),s=ci({},a);(!_f||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,aj(r,wi(s,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&Tf(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],c=0;c<l.length;c++){var d=l[c],f=this.options_[d];typeof f!="undefined"&&(f?Tf(r,d,d):BA(r,d),r[d]=f)}return r},i.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var o=!1,a=function(){o=!0};this.on("loadstart",a);var s=function(){o||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",s),o||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),r.readyState>=2&&l.push("loadeddata"),r.readyState>=3&&l.push("canplay"),r.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(c){this.trigger(c)},this)})}},i.setScrubbing=function(r){this.isScrubbing_=r},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&MA?this.el_.fastSeek(r):this.el_.currentTime=r}catch(o){wt(o,"Video is not ready. (Video.js)")}},i.duration=function(){var r=this;if(this.el_.duration===1/0&&Os&&Ds&&this.el_.currentTime===0){var o=function a(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",a))};return this.on("timeupdate",o),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var o=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",o),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){r.off("webkitbeginfullscreen",a),r.off("webkitendfullscreen",o)})}},i.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=Q.navigator&&Q.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},i.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)aa(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},0);else try{r.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(r){this.el_.controls=!!r},i.addTextTrack=function(r,o,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,o,a):t.prototype.addTextTrack.call(this,r,o,a)},i.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var o=Oe.createElement("track");return r.kind&&(o.kind=r.kind),r.label&&(o.label=r.label),(r.language||r.srclang)&&(o.srclang=r.language||r.srclang),r.default&&(o.default=r.default),r.id&&(o.id=r.id),r.src&&(o.src=r.src),o},i.addRemoteTextTrack=function(r,o){var a=t.prototype.addRemoteTextTrack.call(this,r,o);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},i.removeRemoteTextTrack=function(r){if(t.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var o=this.$$("track"),a=o.length;a--;)(r===o[a]||r===o[a].track)&&this.el().removeChild(o[a])},i.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),Q.performance&&typeof Q.performance.now=="function"?r.creationTime=Q.performance.now():Q.performance&&Q.performance.timing&&typeof Q.performance.timing.navigationStart=="number"&&(r.creationTime=Q.Date.now()-Q.performance.timing.navigationStart),r},e}(oi);az(qe,"TEST_VID",function(){if(!!Kf()){var t=Oe.createElement("video"),e=Oe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});qe.isSupported=function(){try{qe.TEST_VID.volume=.5}catch{return!1}return!!(qe.TEST_VID&&qe.TEST_VID.canPlayType)};qe.canPlayType=function(t){return qe.TEST_VID.canPlayType(t)};qe.canPlaySource=function(t,e){return qe.canPlayType(t.type)};qe.canControlVolume=function(){try{var t=qe.TEST_VID.volume;return qe.TEST_VID.volume=t/2+.1,t!==qe.TEST_VID.volume}catch{return!1}};qe.canMuteVolume=function(){try{var t=qe.TEST_VID.muted;return qe.TEST_VID.muted=!t,qe.TEST_VID.muted?Tf(qe.TEST_VID,"muted","muted"):BA(qe.TEST_VID,"muted","muted"),t!==qe.TEST_VID.muted}catch{return!1}};qe.canControlPlaybackRate=function(){if(Os&&Ds&&ej<58)return!1;try{var t=qe.TEST_VID.playbackRate;return qe.TEST_VID.playbackRate=t/2+.1,t!==qe.TEST_VID.playbackRate}catch{return!1}};qe.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(Oe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Oe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Oe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Oe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};qe.supportsNativeTextTracks=function(){return MA||kr&&Ds};qe.supportsNativeVideoTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.videoTracks)};qe.supportsNativeAudioTracks=function(){return!!(qe.TEST_VID&&qe.TEST_VID.audioTracks)};qe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],i=t[1];az(qe.prototype,e,function(){return qe[i]()},!0)});qe.prototype.movingMediaElementInDOM=!kr;qe.prototype.featuresFullscreenResize=!0;qe.prototype.featuresProgressEvents=!0;qe.prototype.featuresTimeupdateEvents=!0;var qy;qe.patchCanPlayType=function(){PE>=4&&!Z7&&!Ds&&(qy=qe.TEST_VID&&qe.TEST_VID.constructor.prototype.canPlayType,qe.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":qy.call(this,t)})};qe.unpatchCanPlayType=function(){var t=qe.TEST_VID.constructor.prototype.canPlayType;return qy&&(qe.TEST_VID.constructor.prototype.canPlayType=qy),t};qe.patchCanPlayType();qe.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};qe.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){qe.prototype["set"+Ei(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){qe.prototype["set"+Ei(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){qe.prototype[t]=function(){return this.el_[t]()}});oi.withSourceHandlers(qe);qe.nativeSourceHandler={};qe.nativeSourceHandler.canPlayType=function(t){try{return qe.TEST_VID.canPlayType(t)}catch{return""}};qe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return qe.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=GE(t.src);return qe.nativeSourceHandler.canPlayType("video/"+i)}return""};qe.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};qe.nativeSourceHandler.dispose=function(){};qe.registerSourceHandler(qe.nativeSourceHandler);oi.registerTech("Html5",qe);var Zj=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Uk={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},J2=["tiny","xsmall","small","medium","large","xlarge","huge"],Cv={};J2.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;Cv[t]="vjs-layout-"+e});var hve={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Fi=function(t){ye(e,t);function e(n,r,o){var a;if(n.id=n.id||r.id||"vjs_video_"+Ql(),r=wi(e.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof n.closest=="function"){var s=n.closest("[lang]");s&&s.getAttribute&&(r.language=s.getAttribute("lang"))}else for(var l=n;l&&l.nodeType===1;){if(Za(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if(a=t.call(this,null,r,o)||this,a.boundDocumentFullscreenChange_=function(h){return a.documentFullscreenChange_(h)},a.boundFullWindowOnEscKey_=function(h){return a.fullWindowOnEscKey(h)},a.boundUpdateStyleEl_=function(h){return a.updateStyleEl_(h)},a.boundApplyInitTime_=function(h){return a.applyInitTime_(h)},a.boundUpdateCurrentBreakpoint_=function(h){return a.updateCurrentBreakpoint_(h)},a.boundHandleTechClick_=function(h){return a.handleTechClick_(h)},a.boundHandleTechDoubleClick_=function(h){return a.handleTechDoubleClick_(h)},a.boundHandleTechTouchStart_=function(h){return a.handleTechTouchStart_(h)},a.boundHandleTechTouchMove_=function(h){return a.handleTechTouchMove_(h)},a.boundHandleTechTouchEnd_=function(h){return a.handleTechTouchEnd_(h)},a.boundHandleTechTap_=function(h){return a.handleTechTap_(h)},a.isFullscreen_=!1,a.log=q7(a.id_),a.fsApi_=Wy,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&Za(n),a.language(a.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(h){c[h.toLowerCase()]=r.languages[h]}),a.languages_=c}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(h){if(typeof a[h]!="function")throw new Error('plugin "'+h+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),NE(re(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(Kr(Oe,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var d=ci(a.options_);r.plugins&&Object.keys(r.plugins).forEach(function(h){a[h](r.plugins[h])}),r.debug&&a.debug(!0),a.options_.playerOptions=d,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio(n.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),_f&&a.addClass("vjs-touch-enabled"),kr||a.addClass("vjs-workinghover"),e.players[a.id_]=re(a);var f=V7.split(".")[0];return a.addClass("vjs-v"+f),a.userActive(!0),a.reportUserActivity(),a.one("play",function(h){return a.listenForUserActivity_(h)}),a.on("stageclick",function(h){return a.handleStageClick_(h)}),a.on("keydown",function(h){return a.handleKeyDown(h)}),a.on("languagechange",function(h){return a.handleLanguagechange(h)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}var i=e.prototype;return i.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),Fn(Oe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Fn(Oe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),O0e(this),Kn.names.forEach(function(o){var a=Kn[o],s=r[a.getterName]();s&&s.off&&s.off()}),t.prototype.dispose.call(this)},i.createEl=function(){var r=this.tag,o,a=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),s=this.tag.tagName.toLowerCase()==="video-js";a?o=this.el_=r.parentNode:s||(o=this.el_=t.prototype.createEl.call(this,"div"));var l=Za(r);if(s){for(o=this.el_=r,r=this.tag=Oe.createElement("video");o.children.length;)r.appendChild(o.firstChild);qc(o,"video-js")||hs(o,"video-js"),o.appendChild(r),a=this.playerElIngest_=o,Object.keys(o).forEach(function(v){try{r[v]=o[v]}catch{}})}if(r.setAttribute("tabindex","-1"),l.tabindex="-1",(Qg||Ds&&tj)&&(r.setAttribute("role","application"),l.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(v){s&&v==="class"||o.setAttribute(v,l[v]),s&&r.setAttribute(v,l[v])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=o.player=this,this.addClass("vjs-paused"),Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=gj("vjs-styles-dimensions");var c=Fl(".vjs-styles-defaults"),d=Fl("head");d.insertBefore(this.styleEl_,c?c.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var f=r.getElementsByTagName("a"),h=0;h<f.length;h++){var m=f.item(h);hs(m,"vjs-hidden"),m.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!a&&r.parentNode.insertBefore(o,r),W2(r,o),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=o,o},i.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){wt.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},i.width=function(r){return this.dimension("width",r)},i.height=function(r){return this.dimension("height",r)},i.dimension=function(r,o){var a=r+"_";if(o===void 0)return this[a]||0;if(o===""||o==="auto"){this[a]=void 0,this.updateStyleEl_();return}var s=parseFloat(o);if(isNaN(s)){wt.error('Improper value "'+o+'" supplied for for '+r);return}this[a]=s,this.updateStyleEl_()},i.fluid=function(r){var o=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,ms(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),o0e(this,function(){o.on(["playerreset","resize"],o.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(Q.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,o=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(r>=0&&(a.width=r),o>=0&&(a.height=o));return}var s,l,c,d;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?c=this.aspectRatio_:this.videoWidth()>0?c=this.videoWidth()+":"+this.videoHeight():c="16:9";var f=c.split(":"),h=f[1]/f[0];this.width_!==void 0?s=this.width_:this.height_!==void 0?s=this.height_/h:s=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=s*h,/^[^a-zA-Z]/.test(this.id())?d="dimensions-"+this.id():d=this.id()+"-dimensions",this.addClass(d),bj(this.styleEl_,`
      .`+d+` {
        width: `+s+`px;
        height: `+l+`px;
      }

      .`+d+`.vjs-fluid {
        padding-top: `+h*100+`%;
      }
    `)},i.loadTech_=function(r,o){var a=this;this.tech_&&this.unloadTech_();var s=Ei(r),l=r.charAt(0).toLowerCase()+r.slice(1);s!=="Html5"&&this.tag&&(oi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;var c=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(c=!1);var d={source:o,autoplay:c,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Kn.names.forEach(function(h){var m=Kn[h];d[m.getterName]=a[m.privateName]}),wi(d,this.options_[s]),wi(d,this.options_[l]),wi(d,this.options_[r.toLowerCase()]),this.tag&&(d.tag=this.tag),o&&o.src===this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime);var f=oi.getTech(r);if(!f)throw new Error("No Tech named '"+s+"' exists! '"+s+"' should be registered using videojs.registerTech()'");this.tech_=new f(d),this.tech_.ready(ri(this,this.handleTechReady_),!0),gL.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Zj.forEach(function(h){a.on(a.tech_,h,function(m){return a["handleTech"+Ei(h)+"_"](m)})}),Object.keys(Uk).forEach(function(h){a.on(a.tech_,h,function(m){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+Uk[h]+"_"].bind(a),event:m});return}a["handleTech"+Uk[h]+"_"](m)})}),this.on(this.tech_,"loadstart",function(h){return a.handleTechLoadStart_(h)}),this.on(this.tech_,"sourceset",function(h){return a.handleTechSourceset_(h)}),this.on(this.tech_,"waiting",function(h){return a.handleTechWaiting_(h)}),this.on(this.tech_,"ended",function(h){return a.handleTechEnded_(h)}),this.on(this.tech_,"seeking",function(h){return a.handleTechSeeking_(h)}),this.on(this.tech_,"play",function(h){return a.handleTechPlay_(h)}),this.on(this.tech_,"firstplay",function(h){return a.handleTechFirstPlay_(h)}),this.on(this.tech_,"pause",function(h){return a.handleTechPause_(h)}),this.on(this.tech_,"durationchange",function(h){return a.handleTechDurationChange_(h)}),this.on(this.tech_,"fullscreenchange",function(h,m){return a.handleTechFullscreenChange_(h,m)}),this.on(this.tech_,"fullscreenerror",function(h,m){return a.handleTechFullscreenError_(h,m)}),this.on(this.tech_,"enterpictureinpicture",function(h){return a.handleTechEnterPictureInPicture_(h)}),this.on(this.tech_,"leavepictureinpicture",function(h){return a.handleTechLeavePictureInPicture_(h)}),this.on(this.tech_,"error",function(h){return a.handleTechError_(h)}),this.on(this.tech_,"posterchange",function(h){return a.handleTechPosterChange_(h)}),this.on(this.tech_,"textdata",function(h){return a.handleTechTextData_(h)}),this.on(this.tech_,"ratechange",function(h){return a.handleTechRateChange_(h)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(s!=="Html5"||!this.tag)&&W2(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var r=this;Kn.names.forEach(function(o){var a=Kn[o];r[a.privateName]=r[a.getterName]()}),this.textTracksJson_=gL.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(r){return r===void 0&&wt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(r){var o=this;if(!(!this.tech_||typeof r!="string")){var a=function(){var c=o.muted();o.muted(!0);var d=function(){o.muted(c)};o.playTerminatedQueue_.push(d);var f=o.play();if(!!Xh(f))return f.catch(function(h){throw d(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(h||""))})},s;if(r==="any"&&!this.muted()?(s=this.play(),Xh(s)&&(s=s.catch(a))):r==="muted"&&!this.muted()?s=a():s=this.play(),!!Xh(s))return s.then(function(){o.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){o.trigger({type:"autoplay-failure",autoplay:r})})}},i.updateSourceCaches_=function(r){r===void 0&&(r="");var o=r,a="";typeof o!="string"&&(o=r.src,a=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],o&&!a&&(a=B0e(this,o)),this.cache_.source=ci({},r,{src:o,type:a});for(var s=this.cache_.sources.filter(function(m){return m.src&&m.src===o}),l=[],c=this.$$("source"),d=[],f=0;f<c.length;f++){var h=Za(c[f]);l.push(h),h.src&&h.src===o&&d.push(h.src)}d.length&&!s.length?this.cache_.sources=l:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=o},i.handleTechSourceset_=function(r){var o=this;if(!this.changingSrc_){var a=function(d){return o.updateSourceCaches_(d)},s=this.currentSource().src,l=r.src;s&&!/^blob:/.test(s)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==s)&&(a=function(){}),a(l),r.src||this.tech_.any(["sourceset","loadstart"],function(c){if(c.type!=="sourceset"){var d=o.techGet("currentSrc");o.lastSource_.tech=d,o.updateSourceCaches_(d)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},i.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var o=this.currentTime(),a=function s(){o!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",s))};this.on("timeupdate",a)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(wt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(r){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?aa(this.play()):this.pause())},i.handleTechDoubleClick_=function(r){if(!!this.controls_){var o=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(r.target)});o||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(r){var o=r.target.player;if(!(o&&o!==this)){var a=this.el(),s=Oe[this.fsApi_.fullscreenElement]===a;!s&&a.matches?s=a.matches(":"+this.fsApi_.fullscreen):!s&&a.msMatchesSelector&&(s=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}},i.handleTechFullscreenChange_=function(r,o){o&&(o.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(o.isFullscreen))},i.handleTechFullscreenError_=function(r,o){this.trigger("fullscreenerror",o)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var r=this.tech_.error();this.error(r)},i.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(r,o){this.ready(function(){if(r in P0e)return I0e(this.middleware_,this.tech_,r,o);if(r in xL)return AL(this.middleware_,this.tech_,r,o);try{this.tech_&&this.tech_[r](o)}catch(a){throw wt(a),a}},!0)},i.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in R0e)return z0e(this.middleware_,this.tech_,r);if(r in xL)return AL(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(o){throw this.tech_[r]===void 0?(wt("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",o),o):o.name==="TypeError"?(wt("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",o),this.tech_.isReady_=!1,o):(wt(o),o)}}},i.play=function(){var r=this,o=this.options_.Promise||Q.Promise;return o?new o(function(a){r.play_(a)}):this.play_()},i.play_=function(r){var o=this;r===void 0&&(r=aa),this.playCallbacks_.push(r);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(l){o.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&(MA||kr)&&this.load();return}var s=this.techGet_("play");s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)},i.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(o){o()})},i.runPlayCallbacks_=function(r){var o=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],o.forEach(function(a){a(r)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return this.techGet_("paused")!==!1},i.played=function(){return this.techGet_("played")||Kc(0,0)},i.scrubbing=function(r){if(typeof r=="undefined")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(r){if(typeof r!="undefined"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=Kc(0,0)),r},i.bufferedPercent=function(){return kj(this.buffered(),this.duration())},i.bufferedEnd=function(){var r=this.buffered(),o=this.duration(),a=r.end(r.length-1);return a>o&&(a=o),a},i.volume=function(r){var o;if(r!==void 0){o=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=o,this.techCall_("setVolume",o),o>0&&this.lastVolume_(o);return}return o=parseFloat(this.techGet_("volume")),isNaN(o)?1:o},i.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},i.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(r){if(r!==void 0){var o=this.isFullscreen_;this.isFullscreen_=Boolean(r),this.isFullscreen_!==o&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},i.requestFullscreen=function(r){var o=this.options_.Promise||Q.Promise;if(o){var a=this;return new o(function(s,l){function c(){a.off("fullscreenerror",f),a.off("fullscreenchange",d)}function d(){c(),s()}function f(m,v){c(),l(v)}a.one("fullscreenchange",d),a.one("fullscreenerror",f);var h=a.requestFullscreenHelper_(r);h&&(h.then(c,c),h.then(s,l))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(r){var o=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(a=r)),this.fsApi_.requestFullscreen){var s=this.el_[this.fsApi_.requestFullscreen](a);return s&&s.then(function(){return o.isFullscreen(!0)},function(){return o.isFullscreen(!1)}),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var r=this.options_.Promise||Q.Promise;if(r){var o=this;return new r(function(a,s){function l(){o.off("fullscreenerror",d),o.off("fullscreenchange",c)}function c(){l(),a()}function d(h,m){l(),s(m)}o.one("fullscreenchange",c),o.one("fullscreenerror",d);var f=o.exitFullscreenHelper_();f&&(f.then(l,l),f.then(a,s))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var o=Oe[this.fsApi_.exitFullscreen]();return o&&aa(o.then(function(){return r.isFullscreen(!1)})),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Oe.documentElement.style.overflow,Kr(Oe,"keydown",this.boundFullWindowOnEscKey_),Oe.documentElement.style.overflow="hidden",hs(Oe.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(r){ft.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Fn(Oe,"keydown",this.boundFullWindowOnEscKey_),Oe.documentElement.style.overflow=this.docOrigOverflow,qg(Oe.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in Oe&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in Oe)return Oe.exitPictureInPicture()},i.handleKeyDown=function(r){var o=this.options_.userActions;if(!(!o||!o.hotkeys)){var a=function(l){var c=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var d=["button","checkbox","hidden","radio","reset","submit"];if(c==="input")return d.indexOf(l.type)===-1;var f=["textarea"];return f.indexOf(c)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof o.hotkeys=="function"?o.hotkeys.call(this,r):this.handleHotkeys(r))}},i.handleHotkeys=function(r){var o=this.options_.userActions?this.options_.userActions.hotkeys:{},a=o.fullscreenKey,s=a===void 0?function(w){return ft.isEventKey(w,"f")}:a,l=o.muteKey,c=l===void 0?function(w){return ft.isEventKey(w,"m")}:l,d=o.playPauseKey,f=d===void 0?function(w){return ft.isEventKey(w,"k")||ft.isEventKey(w,"Space")}:d;if(s.call(this,r)){r.preventDefault(),r.stopPropagation();var h=xe.getComponent("FullscreenToggle");Oe[this.fsApi_.fullscreenEnabled]!==!1&&h.prototype.handleClick.call(this,r)}else if(c.call(this,r)){r.preventDefault(),r.stopPropagation();var m=xe.getComponent("MuteToggle");m.prototype.handleClick.call(this,r)}else if(f.call(this,r)){r.preventDefault(),r.stopPropagation();var v=xe.getComponent("PlayToggle");v.prototype.handleClick.call(this,r)}},i.canPlayType=function(r){for(var o,a=0,s=this.options_.techOrder;a<s.length;a++){var l=s[a],c=oi.getTech(l);if(c||(c=xe.getComponent(l)),!c){wt.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(c.isSupported()&&(o=c.canPlayType(r),o))return o}return""},i.selectSource=function(r){var o=this,a=this.options_.techOrder.map(function(f){return[f,oi.getTech(f)]}).filter(function(f){var h=f[0],m=f[1];return m?m.isSupported():(wt.error('The "'+h+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(h,m,v){var w;return h.some(function(g){return m.some(function(A){if(w=v(g,A),w)return!0})}),w},l,c=function(h){return function(m,v){return h(v,m)}},d=function(h,m){var v=h[0],w=h[1];if(w.canPlaySource(m,o.options_[v.toLowerCase()]))return{source:m,tech:v}};return this.options_.sourceOrder?l=s(r,a,c(d)):l=s(a,r,d),l||!1},i.handleSrc_=function(r,o){var a=this;if(typeof r=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var s=F0e(r);if(!s.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,o||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),C0e(this,s[0],function(d,f){a.middleware_=f,o||(a.cache_.sources=s),a.updateSourceCaches_(d);var h=a.src_(d);if(h){if(s.length>1)return a.handleSrc_(s.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),a.triggerReady();return}E0e(f,a.tech_)}),this.options_.retryOnError&&s.length>1){var l=function(){a.error(null),a.handleSrc_(s.slice(1),!0)},c=function(){a.off("error",l)};this.one("error",l),this.one("playing",c),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",c)}}},i.src=function(r){return this.handleSrc_(r,!1)},i.src_=function(r){var o=this,a=this.selectSource([r]);return a?l0e(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){o.changingSrc_=!1}),!1):!0},i.load=function(){this.techCall_("load")},i.reset=function(){var r=this,o=this.options_.Promise||Q.Promise;if(this.paused()||!o)this.doReset_();else{var a=this.play();aa(a.then(function(){return r.doReset_()}))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ms(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar,o=r.durationDisplay,a=r.remainingTimeDisplay;o&&o.updateContent(),a&&a.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var r=this.currentSource(),o=[];return Object.keys(r).length!==0&&o.push(r),this.cache_.sources||o},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},i.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var o;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),o=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,o=typeof o=="undefined"?this.options_.autoplay:o,this.tech_&&this.techCall_("setAutoplay",o)},i.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},i.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},i.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(r){var o=this;if(r===void 0)return this.error_||null;if(Bl("beforeerror").forEach(function(s){var l=s(o,r);if(!(Cs(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){o.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=l}),this.options_.suppressNotSupportedError&&r&&r.code===4){var a=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new tr(r),this.addClass("vjs-error"),wt.error("(CODE:"+this.error_.code+" "+tr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Bl("error").forEach(function(s){return s(o,o.error_)})},i.reportUserActivity=function(r){this.userActivity_=!0},i.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(o){o.stopPropagation(),o.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var r,o,a,s=ri(this,this.reportUserActivity),l=function(v){(v.screenX!==o||v.screenY!==a)&&(o=v.screenX,a=v.screenY,s())},c=function(){s(),this.clearInterval(r),r=this.setInterval(s,250)},d=function(v){s(),this.clearInterval(r)};this.on("mousedown",c),this.on("mousemove",l),this.on("mouseup",d),this.on("mouseleave",d);var f=this.getChild("controlBar");f&&!kr&&!Os&&(f.on("mouseenter",function(m){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),f.on("mouseleave",function(m){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);var h;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var m=this.options_.inactivityTimeout;m<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},m))}},250)},i.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},i.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},i.addTextTrack=function(r,o,a){if(this.tech_)return this.tech_.addTextTrack(r,o,a)},i.addRemoteTextTrack=function(r,o){if(this.tech_)return this.tech_.addRemoteTextTrack(r,o)},i.removeRemoteTextTrack=function(r){r===void 0&&(r={});var o=r,a=o.track;if(a||(a=r),this.tech_)return this.tech_.removeRemoteTextTrack(a)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),ms(this)&&this.trigger("languagechange"))},i.languages=function(){return ci(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var r=ci(this.options_),o=r.tracks;r.tracks=[];for(var a=0;a<o.length;a++){var s=o[a];s=ci(s),s.player=void 0,r.tracks[a]=s}return r},i.createModal=function(r,o){var a=this;o=o||{},o.content=r||"";var s=new Zf(this,o);return this.addChild(s),s.on("dispose",function(){a.removeChild(s)}),s.open(),s},i.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var r=this.currentBreakpoint(),o=this.currentWidth(),a=0;a<J2.length;a++){var s=J2[a],l=this.breakpoints_[s];if(o<=l){if(r===s)return;r&&this.removeClass(Cv[r]),this.addClass(Cv[s]),this.breakpoint_=s;break}}},i.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},i.breakpoints=function(r){return r===void 0?wi(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=wi({},hve,r),this.updateCurrentBreakpoint_(),wi(this.breakpoints_))},i.responsive=function(r){if(r===void 0)return this.responsive_;r=Boolean(r);var o=this.responsive_;if(r!==o)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return Cv[this.breakpoint_]||""},i.loadMedia=function(r,o){var a=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=ci(r);var s=this.cache_.media,l=s.artwork,c=s.poster,d=s.src,f=s.textTracks;!l&&c&&(this.cache_.media.artwork=[{src:c,type:$y(c)}]),d&&this.src(d),c&&this.poster(c),Array.isArray(f)&&f.forEach(function(h){return a.addRemoteTextTrack(h,!1)}),this.ready(o)}},i.getMedia=function(){if(!this.cache_.media){var r=this.poster(),o=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),s={src:o,textTracks:a};return r&&(s.poster=r,s.artwork=[{src:s.poster,type:$y(s.poster)}]),s}return ci(this.cache_.media)},e.getTagSettings=function(r){var o={sources:[],tracks:[]},a=Za(r),s=a["data-setup"];if(qc(r,"vjs-fill")&&(a.fill=!0),qc(r,"vjs-fluid")&&(a.fluid=!0),s!==null){var l=cme(s||"{}"),c=l[0],d=l[1];c&&wt.error(c),wi(a,d)}if(wi(o,a),r.hasChildNodes())for(var f=r.childNodes,h=0,m=f.length;h<m;h++){var v=f[h],w=v.nodeName.toLowerCase();w==="source"?o.sources.push(Za(v)):w==="track"&&o.tracks.push(Za(v))}return o},i.flexNotSupported_=function(){var r=Oe.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},i.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;!Array.isArray(r)||!r.every(function(o){return typeof o=="number"})||(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},e}(xe);Kn.names.forEach(function(t){var e=Kn[t];Fi.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Fi.prototype.crossorigin=Fi.prototype.crossOrigin;Fi.players={};var ph=Q.navigator;Fi.prototype.options_={techOrder:oi.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ph&&(ph.languages&&ph.languages[0]||ph.userLanguage||ph.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Fi.prototype[t]=function(){return this.techGet_(t)}});Zj.forEach(function(t){Fi.prototype["handleTech"+Ei(t)+"_"]=function(){return this.trigger(t)}});xe.registerComponent("Player",Fi);var Ky="plugin",Fd="activePlugins_",Ad={},Xy=function(e){return Ad.hasOwnProperty(e)},Ev=function(e){return Xy(e)?Ad[e]:void 0},eU=function(e,i){e[Fd]=e[Fd]||{},e[Fd][i]=!0},Jy=function(e,i,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,i),e.trigger(r+":"+i.name,i)},mve=function(e,i){var n=function(){Jy(this,{name:e,plugin:i,instance:null},!0);var o=i.apply(this,arguments);return eU(this,e),Jy(this,{name:e,plugin:i,instance:o}),o};return Object.keys(i).forEach(function(r){n[r]=i[r]}),n},ML=function(e,i){return i.prototype.name=e,function(){Jy(this,{name:e,plugin:i,instance:null},!0);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=kv(i,[this].concat(r));return this[e]=function(){return a},Jy(this,a.getEventHash()),a}},Ca=function(){function t(i){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),NE(this),delete this.trigger,xj(this,this.constructor.defaultState),eU(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},e.trigger=function(n,r){return r===void 0&&(r={}),Jf(this.eventBusEl_,n,this.getEventHash(r))},e.handleStateChanged=function(n){},e.dispose=function(){var n=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Fd][n]=!1,this.player=this.state=null,r[n]=ML(n,Ad[n])},t.isBasic=function(n){var r=typeof n=="string"?Ev(n):n;return typeof r=="function"&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(n,r){if(typeof n!="string")throw new Error('Illegal plugin name, "'+n+'", must be a string, was '+typeof n+".");if(Xy(n))wt.warn('A plugin named "'+n+'" already exists. You may want to avoid re-registering plugins!');else if(Fi.prototype.hasOwnProperty(n))throw new Error('Illegal plugin name, "'+n+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+n+'", must be a function, was '+typeof r+".");return Ad[n]=r,n!==Ky&&(t.isBasic(r)?Fi.prototype[n]=mve(n,r):Fi.prototype[n]=ML(n,r)),r},t.deregisterPlugin=function(n){if(n===Ky)throw new Error("Cannot de-register base plugin.");Xy(n)&&(delete Ad[n],delete Fi.prototype[n])},t.getPlugins=function(n){n===void 0&&(n=Object.keys(Ad));var r;return n.forEach(function(o){var a=Ev(o);a&&(r=r||{},r[o]=a)}),r},t.getPluginVersion=function(n){var r=Ev(n);return r&&r.VERSION||""},t}();Ca.getPlugin=Ev;Ca.BASE_PLUGIN_NAME=Ky;Ca.registerPlugin(Ky,Ca);Fi.prototype.usingPlugin=function(t){return!!this[Fd]&&this[Fd][t]===!0};Fi.prototype.hasPlugin=function(t){return!!Xy(t)};var gve=function(e,i){i===void 0&&(i={});var n=function(){e.apply(this,arguments)},r={};typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(n=i.constructor),r=i):typeof i=="function"&&(n=i),Er(n,e),e&&(n.super_=e);for(var o in r)r.hasOwnProperty(o)&&(n.prototype[o]=r[o]);return n},tU=function(e){return e.indexOf("#")===0?e.slice(1):e};function ee(t,e,i){var n=ee.getPlayer(t);if(n)return e&&wt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r=typeof t=="string"?Fl("#"+tU(t)):t;if(!Xf(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&wt.warn("The element supplied is not included in the DOM"),e=e||{},Bl("beforesetup").forEach(function(a){var s=a(r,ci(e));if(!Cs(s)||Array.isArray(s)){wt.error("please return an object in beforesetup hooks");return}e=ci(e,s)});var o=xe.getComponent("Player");return n=new o(r,e,i),Bl("setup").forEach(function(a){return a(n)}),n}ee.hooks_=ns;ee.hooks=Bl;ee.hook=Hbe;ee.hookOnce=Wbe;ee.removeHook=$7;if(Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Kf()){var Q0=Fl(".vjs-styles-defaults");if(!Q0){Q0=gj("vjs-styles-defaults");var Gk=Fl("head");Gk&&Gk.insertBefore(Q0,Gk.firstChild),bj(Q0,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}V2(1,ee);ee.VERSION=V7;ee.options=Fi.prototype.options_;ee.getPlayers=function(){return Fi.players};ee.getPlayer=function(t){var e=Fi.players,i;if(typeof t=="string"){var n=tU(t),r=e[n];if(r)return r;i=Fl("#"+n)}else i=t;if(Xf(i)){var o=i,a=o.player,s=o.playerId;if(a||e[s])return a||e[s]}};ee.getAllPlayers=function(){return Object.keys(Fi.players).map(function(t){return Fi.players[t]}).filter(Boolean)};ee.players=Fi.players;ee.getComponent=xe.getComponent;ee.registerComponent=function(t,e){oi.isTech(e)&&wt.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),xe.registerComponent.call(xe,t,e)};ee.getTech=oi.getTech;ee.registerTech=oi.registerTech;ee.use=S0e;Object.defineProperty(ee,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ee.middleware,"TERMINATOR",{value:Vy,writeable:!1,enumerable:!0});ee.browser=Kbe;ee.TOUCH_ENABLED=_f;ee.extend=gve;ee.mergeOptions=ci;ee.bind=ri;ee.registerPlugin=Ca.registerPlugin;ee.deregisterPlugin=Ca.deregisterPlugin;ee.plugin=function(t,e){return wt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ca.registerPlugin(t,e)};ee.getPlugins=Ca.getPlugins;ee.getPlugin=Ca.getPlugin;ee.getPluginVersion=Ca.getPluginVersion;ee.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),ee.options.languages=ci(ee.options.languages,(i={},i[t]=e,i)),ee.options.languages[t]};ee.log=wt;ee.createLogger=q7;ee.createTimeRange=ee.createTimeRanges=Kc;ee.formatTime=zf;ee.setFormatTime=Y0e;ee.resetFormatTime=V0e;ee.parseUrl=UE;ee.isCrossOrigin=GA;ee.EventTarget=cn;ee.on=Kr;ee.one=jA;ee.off=Fn;ee.trigger=Jf;ee.xhr=e7;ee.TextTrack=Kg;ee.AudioTrack=Sj;ee.VideoTrack=Cj;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){ee[t]=function(){return wt.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),hj[t].apply(null,arguments)}});ee.computedStyle=eg;ee.dom=hj;ee.url=x0e;ee.defineLazyProperty=az;ee.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.12.0 @license Apache-2.0 */var Eo=zA,Zy=function(e,i,n){return e&&n&&n.responseURL&&i!==n.responseURL?n.responseURL:i},Ho=function(e){return ee.log.debug?ee.log.debug.bind(ee,"VHS:",e+" >"):function(){}},Nl=1/30,sa=Nl*3,iU=function(e,i){var n=[],r;if(e&&e.length)for(r=0;r<e.length;r++)i(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return ee.createTimeRanges(n)},xd=function(e,i){return iU(e,function(n,r){return n-sa<=i&&r+sa>=i})},q0=function(e,i){return iU(e,function(n){return n-Nl>=i})},bve=function(e){if(e.length<2)return ee.createTimeRanges();for(var i=[],n=1;n<e.length;n++){var r=e.end(n-1),o=e.start(n);i.push([r,o])}return ee.createTimeRanges(i)},vve=function(e,i){var n=null,r=null,o=0,a=[],s=[];if(!e||!e.length||!i||!i.length)return ee.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=i.length;l--;)a.push({time:i.start(l),type:"start"}),a.push({time:i.end(l),type:"end"});for(a.sort(function(c,d){return c.time-d.time}),l=0;l<a.length;l++)a[l].type==="start"?(o++,o===2&&(n=a[l].time)):a[l].type==="end"&&(o--,o===1&&(r=a[l].time)),n!==null&&r!==null&&(s.push([n,r]),n=null,r=null);return ee.createTimeRanges(s)},nU=function(e){var i=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)i.push(e.start(n)+" => "+e.end(n));return i.join(", ")},yve=function(e,i,n){n===void 0&&(n=1);var r=e.length?e.end(e.length-1):0;return(r-i)/n},Rc=function(e){for(var i=[],n=0;n<e.length;n++)i.push({start:e.start(n),end:e.end(n)});return i},wve=function(e,i){if(e===i)return!1;if(!e&&i||!i&&e||e.length!==i.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==i.start(n)||e.end(n)!==i.end(n))return!0;return!1},BL=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},sz=function(e,i){var n=0;if(!e||!e.length)return n;for(var r=0;r<e.length;r++){var o=e.start(r),a=e.end(r);if(!(i>a)){if(i>o&&i<=a){n+=a-i;continue}n+=a-o}}return n},FL=ee.createTimeRange,lz=function(e,i){if(!i.preload)return i.duration;var n=0;return(i.parts||[]).forEach(function(r){n+=r.duration}),(i.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=e.partTargetDuration)}),n},Z2=function(e){return(e.segments||[]).reduce(function(i,n,r){return n.parts?n.parts.forEach(function(o,a){i.push({duration:o.duration,segmentIndex:r,partIndex:a,part:o,segment:n})}):i.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),i},[])},rU=function(e){var i=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return i&&i.parts||[]},oU=function(e){var i=e.preloadSegment;if(!!i){var n=i.parts,r=i.preloadHints,o=(r||[]).reduce(function(a,s){return a+(s.type==="PART"?1:0)},0);return o+=n&&n.length?n.length:0,o}},aU=function(e,i){if(i.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=rU(i).length>0;return n&&i.serverControl&&i.serverControl.partHoldBack?i.serverControl.partHoldBack:n&&i.partTargetDuration?i.partTargetDuration*3:i.serverControl&&i.serverControl.holdBack?i.serverControl.holdBack:i.targetDuration?i.targetDuration*3:0},Ave=function(e,i){var n=0,r=i-e.mediaSequence,o=e.segments[r];if(o){if(typeof o.start!="undefined")return{result:o.start,precise:!0};if(typeof o.end!="undefined")return{result:o.end-o.duration,precise:!0}}for(;r--;){if(o=e.segments[r],typeof o.end!="undefined")return{result:n+o.end,precise:!0};if(n+=lz(e,o),typeof o.start!="undefined")return{result:n+o.start,precise:!0}}return{result:n,precise:!1}},xve=function(e,i){for(var n=0,r,o=i-e.mediaSequence;o<e.segments.length;o++){if(r=e.segments[o],typeof r.start!="undefined")return{result:r.start-n,precise:!0};if(n+=lz(e,r),typeof r.end!="undefined")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},sU=function(e,i,n){if(typeof i=="undefined"&&(i=e.mediaSequence+e.segments.length),i<e.mediaSequence)return 0;var r=Ave(e,i);if(r.precise)return r.result;var o=xve(e,i);return o.precise?o.result:r.result+n},lU=function(e,i,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof i=="undefined"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return Q.Infinity}return sU(e,i,n)},Jh=function(e){var i=e.defaultDuration,n=e.durationList,r=e.startIndex,o=e.endIndex,a=0;if(r>o){var s=[o,r];r=s[0],o=s[1]}if(r<0){for(var l=r;l<Math.min(0,o);l++)a+=i;r=0}for(var c=r;c<o;c++)a+=n[c].duration;return a},cU=function(e,i,n,r){if(!e||!e.segments)return null;if(e.endList)return lU(e);if(i===null)return null;i=i||0;var o=sU(e,e.mediaSequence+e.segments.length,i);return n&&(r=typeof r=="number"?r:aU(null,e),o-=r),Math.max(0,o)},kve=function(e,i,n){var r=!0,o=i||0,a=cU(e,i,r,n);return a===null?FL():FL(o,a)},_ve=function(e){for(var i=e.playlist,n=e.currentTime,r=e.startingSegmentIndex,o=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,l=n-a,c=Z2(i),d=0,f=0;f<c.length;f++){var h=c[f];if(r===h.segmentIndex&&!(typeof o=="number"&&typeof h.partIndex=="number"&&o!==h.partIndex)){d=f;break}}if(l<0){if(d>0)for(var m=d-1;m>=0;m--){var v=c[m];if(l+=v.duration,s){if(l<0)continue}else if(l+Nl<=0)continue;return{partIndex:v.partIndex,segmentIndex:v.segmentIndex,startTime:a-Jh({defaultDuration:i.targetDuration,durationList:c,startIndex:d,endIndex:m})}}return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:n}}if(d<0){for(var w=d;w<0;w++)if(l-=i.targetDuration,l<0)return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:n};d=0}for(var g=d;g<c.length;g++){var A=c[g];if(l-=A.duration,s){if(l>0)continue}else if(l-Nl>=0)continue;return{partIndex:A.partIndex,segmentIndex:A.segmentIndex,startTime:a+Jh({defaultDuration:i.targetDuration,durationList:c,startIndex:d,endIndex:g})}}return{segmentIndex:c[c.length-1].segmentIndex,partIndex:c[c.length-1].partIndex,startTime:n}},uU=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},cz=function(e){return e.excludeUntil&&e.excludeUntil===1/0},VA=function(e){var i=uU(e);return!e.disabled&&!i},Tve=function(e){return e.disabled},Sve=function(e){for(var i=0;i<e.segments.length;i++)if(e.segments[i].key)return!0;return!1},dU=function(e,i){return i.attributes&&i.attributes[e]},Cve=function(e,i,n,r){if(r===void 0&&(r=0),!dU("BANDWIDTH",n))return NaN;var o=e*n.attributes.BANDWIDTH;return(o-r*8)/i},eT=function(e,i){if(e.playlists.length===1)return!0;var n=i.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(r){return VA(r)?(r.attributes.BANDWIDTH||0)<n:!1}).length===0},uz=function(e,i){return!e&&!i||!e&&i||e&&!i?!1:!!(e===i||e.id&&i.id&&e.id===i.id||e.resolvedUri&&i.resolvedUri&&e.resolvedUri===i.resolvedUri||e.uri&&i.uri&&e.uri===i.uri)},NL=function(e,i){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var o in n){for(var a in n[o])if(r=i(n[o][a]),r)break;if(r)break}return!!r},Zg=function(e){if(!e||!e.playlists||!e.playlists.length){var i=NL(e,function(a){return a.playlists&&a.playlists.length||a.uri});return i}for(var n=function(s){var l=e.playlists[s],c=l.attributes&&l.attributes.CODECS;if(c&&c.split(",").every(function(f){return s7(f)}))return"continue";var d=NL(e,function(f){return uz(l,f)});return d?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var o=n(r);if(o!=="continue"&&typeof o=="object")return o.v}return!0},vr={liveEdgeDelay:aU,duration:lU,seekable:kve,getMediaInfoForTime:_ve,isEnabled:VA,isDisabled:Tve,isBlacklisted:uU,isIncompatible:cz,playlistEnd:cU,isAes:Sve,hasAttribute:dU,estimateSegmentRequestTime:Cve,isLowestEnabledRendition:eT,isAudioOnly:Zg,playlistMatch:uz,segmentDurationWithParts:lz},fU=ee.log,dz=function(e,i){return e+"-"+i},Eve=function(e){var i=e.onwarn,n=e.oninfo,r=e.manifestString,o=e.customTagParsers,a=o===void 0?[]:o,s=e.customTagMappers,l=s===void 0?[]:s,c=e.experimentalLLHLS,d=new nge;i&&d.on("warn",i),n&&d.on("info",n),a.forEach(function(w){return d.addParser(w)}),l.forEach(function(w){return d.addTagMapper(w)}),d.push(r),d.end();var f=d.manifest;if(c||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(w){f.hasOwnProperty(w)&&delete f[w]}),f.segments&&f.segments.forEach(function(w){["parts","preloadHints"].forEach(function(g){w.hasOwnProperty(g)&&delete w[g]})})),!f.targetDuration){var h=10;f.segments&&f.segments.length&&(h=f.segments.reduce(function(w,g){return Math.max(w,g.duration)},0)),i&&i("manifest has no targetDuration defaulting to "+h),f.targetDuration=h}var m=rU(f);if(m.length&&!f.partTargetDuration){var v=m.reduce(function(w,g){return Math.max(w,g.duration)},0);i&&(i("manifest has no partTargetDuration defaulting to "+v),fU.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),f.partTargetDuration=v}return f},eb=function(e,i){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(n){if(!!e.mediaGroups[n])for(var r in e.mediaGroups[n])for(var o in e.mediaGroups[n][r]){var a=e.mediaGroups[n][r][o];i(a,n,r,o)}})},pU=function(e){var i=e.playlist,n=e.uri,r=e.id;i.id=r,i.playlistErrors_=0,n&&(i.uri=n),i.attributes=i.attributes||{}},zve=function(e){for(var i=e.playlists.length;i--;){var n=e.playlists[i];pU({playlist:n,id:dz(i,n.uri)}),n.resolvedUri=Eo(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||fU.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Ive=function(e){eb(e,function(i){i.uri&&(i.resolvedUri=Eo(e.uri,i.uri))})},Rve=function(e,i){var n=dz(0,i),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Q.location.href,resolvedUri:Q.location.href,playlists:[{uri:i,id:n,resolvedUri:i,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[i]=r.playlists[0],r},hU=function(e,i){e.uri=i;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var r="placeholder-uri-"+n;e.playlists[n].uri=r}var o=Zg(e);eb(e,function(a,s,l,c){var d="placeholder-uri-"+s+"-"+l+"-"+c;if(!a.playlists||!a.playlists.length){if(o&&s==="AUDIO"&&!a.uri)for(var f=0;f<e.playlists.length;f++){var h=e.playlists[f];if(h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===l)return}a.playlists=[Me({},a)]}a.playlists.forEach(function(m,v){var w=dz(v,d);m.uri?m.resolvedUri=m.resolvedUri||Eo(e.uri,m.uri):(m.uri=v===0?d:w,m.resolvedUri=m.uri),m.id=m.id||w,m.attributes=m.attributes||{},e.playlists[m.id]=m,e.playlists[m.uri]=m})}),zve(e),Ive(e)},ew=ee.mergeOptions,Pve=ee.EventTarget,Lve=function(e,i){if(i.endList||!i.serverControl)return e;var n={};if(i.serverControl.canBlockReload){var r=i.preloadSegment,o=i.mediaSequence+i.segments.length;if(r){var a=r.parts||[],s=oU(i)-1;s>-1&&s!==a.length-1&&(n._HLS_part=s),(s>-1||a.length)&&o--}n._HLS_msn=o}if(i.serverControl&&i.serverControl.canSkipUntil&&(n._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new Q.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(c){!n.hasOwnProperty(c)||l.searchParams.set(c,n[c])}),e=l.toString()}return e},Ove=function(e,i){if(!e)return i;var n=ew(e,i);if(e.preloadHints&&!i.preloadHints&&delete n.preloadHints,e.parts&&!i.parts)delete n.parts;else if(e.parts&&i.parts)for(var r=0;r<i.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=ew(e.parts[r],i.parts[r]));return!e.skipped&&i.skipped&&(n.skipped=!1),e.preload&&!i.preload&&(n.preload=!1),n},Dve=function(e,i,n){var r=e.slice(),o=i.slice();n=n||0;for(var a=[],s,l=0;l<o.length;l++){var c=r[l+n],d=o[l];c?(s=c.map||s,a.push(Ove(c,d))):(s&&!d.map&&(d.map=s),a.push(d))}return a},mU=function(e,i){!e.resolvedUri&&e.uri&&(e.resolvedUri=Eo(i,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Eo(i,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Eo(i,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Eo(i,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(n){n.resolvedUri||(n.resolvedUri=Eo(i,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(n){n.resolvedUri||(n.resolvedUri=Eo(i,n.uri))})},gU=function(e){var i=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(var r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return i}n.duration=e.targetDuration,n.preload=!0,i.push(n)}return i},bU=function(e,i){return e===i||e.segments&&i.segments&&e.segments.length===i.segments.length&&e.endList===i.endList&&e.mediaSequence===i.mediaSequence&&e.preloadSegment===i.preloadSegment},tT=function(e,i,n){n===void 0&&(n=bU);var r=ew(e,{}),o=r.playlists[i.id];if(!o||n(o,i))return null;i.segments=gU(i);var a=ew(o,i);if(a.preloadSegment&&!i.preloadSegment&&delete a.preloadSegment,o.segments){if(i.skip){i.segments=i.segments||[];for(var s=0;s<i.skip.skippedSegments;s++)i.segments.unshift({skipped:!0})}a.segments=Dve(o.segments,i.segments,i.mediaSequence-o.mediaSequence)}a.segments.forEach(function(c){mU(c,a.resolvedUri)});for(var l=0;l<r.playlists.length;l++)r.playlists[l].id===i.id&&(r.playlists[l]=a);return r.playlists[i.id]=a,r.playlists[i.uri]=a,eb(e,function(c,d,f,h){if(!!c.playlists)for(var m=0;m<c.playlists.length;m++)i.id===c.playlists[m].id&&(c.playlists[m]=i)}),r},iT=function(e,i){var n=e.segments||[],r=n[n.length-1],o=r&&r.parts&&r.parts[r.parts.length-1],a=o&&o.duration||r&&r.duration;return i&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},kd=function(t){ye(e,t);function e(n,r,o){var a;if(o===void 0&&(o={}),a=t.call(this)||this,!n)throw new Error("A non-empty playlist URL or object is required");a.logger_=Ho("PlaylistLoader");var s=o,l=s.withCredentials,c=l===void 0?!1:l,d=s.handleManifestRedirects,f=d===void 0?!1:d;a.src=n,a.vhs_=r,a.withCredentials=c,a.handleManifestRedirects=f;var h=r.options_;return a.customTagParsers=h&&h.customTagParsers||[],a.customTagMappers=h&&h.customTagMappers||[],a.experimentalLLHLS=h&&h.experimentalLLHLS||!1,ee.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(re(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var i=e.prototype;return i.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var o=this.media(),a=Eo(this.master.uri,o.uri);this.experimentalLLHLS&&(a=Lve(a,o)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(s,l){if(!!r.request){if(s)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},i.playlistRequestError=function(r,o,a){var s=o.uri,l=o.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[l],status:r.status,message:"HLS playlist request error at URL: "+s+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},i.parseManifest_=function(r){var o=this,a=r.url,s=r.manifestString;return Eve({onwarn:function(c){var d=c.message;return o.logger_("m3u8-parser warn for "+a+": "+d)},oninfo:function(c){var d=c.message;return o.logger_("m3u8-parser info for "+a+": "+d)},manifestString:s,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(r){var o=r.playlistString,a=r.playlistObject,s=r.url,l=r.id;this.request=null,this.state="HAVE_METADATA";var c=a||this.parseManifest_({url:s,manifestString:o});c.lastRequest=Date.now(),pU({playlist:c,uri:s,id:l});var d=tT(this.master,c);this.targetDuration=c.partTargetDuration||c.targetDuration,this.pendingMedia_=null,d?(this.master=d,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(iT(this.media(),!!d)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),Q.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r,o){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(Q.clearTimeout(this.finalRenditionTimeout),o){var s=(r.partTargetDuration||r.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Q.setTimeout(this.media.bind(this,r,!1),s);return}var l=this.state,c=!this.media_||r.id!==this.media_.id,d=this.master.playlists[r.id];if(d&&d.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,c&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(iT(r,!0)),!!c){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(f,h){if(!!a.request){if(r.lastRequest=Date.now(),r.resolvedUri=Zy(a.handleManifestRedirects,r.resolvedUri,h),f)return a.playlistRequestError(a.request,r,l);a.haveMetadata({playlistString:h.responseText,url:r.uri,id:r.id}),l==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},i.pause=function(){this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},i.load=function(r){var o=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(r){var s=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Q.setTimeout(function(){o.mediaUpdateTimeout=null,o.load()},s);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeout_=function(r){var o=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Q.setTimeout(function(){o.mediaUpdateTimeout=null,o.trigger("mediaupdatetimeout"),o.updateMediaUpdateTimeout_(r)},r))},i.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Q.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(o,a){if(!!r.request){if(r.request=null,o)return r.error={status:a.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:a.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=Zy(r.handleManifestRedirects,r.src,a);var s=r.parseManifest_({manifestString:a.responseText,url:r.src});r.setupInitialPlaylist(s)}})},i.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},i.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,hU(this.master,this.srcUri()),r.playlists.forEach(function(a){a.segments=gU(a),a.segments.forEach(function(s){mU(s,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var o=this.srcUri()||Q.location.href;this.master=Rve(r,o),this.haveMetadata({playlistObject:r,url:o,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(Pve),Mve=ee.xhr,Bve=ee.mergeOptions,nT=function(e,i,n,r){var o=e.responseType==="arraybuffer"?e.response:e.responseText;!i&&o&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=o.byteLength||o.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),i&&i.code==="ETIMEDOUT"&&(e.timedout=!0),!i&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(i=new Error("XHR Failed with a response of: "+(e&&(o||e.responseText)))),r(i,e)},vU=function(){var e=function i(n,r){n=Bve({timeout:45e3},n);var o=i.beforeRequest||ee.Vhs.xhr.beforeRequest;if(o&&typeof o=="function"){var a=o(n);a&&(n=a)}var s=ee.Vhs.xhr.original===!0?Mve:ee.Vhs.xhr,l=s(n,function(d,f){return nT(l,d,f,r)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=n.uri,l.requestTime=Date.now(),l};return e.original=!0,e},Fve=function(e){var i=e.offset+e.length-1,n=e.offset;return"bytes="+n+"-"+i},rT=function(e){var i={};return e.byterange&&(i.Range=Fve(e.byterange)),i},Nve=function(e,i){return e.start(i)+"-"+e.end(i)},jve=function(e,i){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(i%2?" ":"")},Uve=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},yU=function(e){var i={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?i[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:i[n]=r}),i},tw=function(e){var i=e.byterange||{length:1/0,offset:0};return[i.length,i.offset,e.resolvedUri].join(",")},wU=function(e){return e.resolvedUri},AU=function(e){for(var i=Array.prototype.slice.call(e),n=16,r="",o,a,s=0;s<i.length/n;s++)o=i.slice(s*n,s*n+n).map(jve).join(""),a=i.slice(s*n,s*n+n).map(Uve).join(""),r+=o+" "+a+`
`;return r},Gve=function(e){var i=e.bytes;return AU(i)},Hve=function(e){var i="",n;for(n=0;n<e.length;n++)i+=Nve(e,n)+" ";return i},Wve=Object.freeze({__proto__:null,createTransferableMessage:yU,initSegmentId:tw,segmentKeyId:wU,hexDump:AU,tagDump:Gve,textRanges:Hve}),xU=.25,Yve=function(e,i){if(!i.dateTimeObject)return null;var n=i.videoTimingInfo.transmuxerPrependedSeconds,r=i.videoTimingInfo.transmuxedPresentationStart,o=r+n,a=e-o;return new Date(i.dateTimeObject.getTime()+a*1e3)},Vve=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},$ve=function(e,i){var n;try{n=new Date(e)}catch{return null}if(!i||!i.segments||i.segments.length===0)return null;var r=i.segments[0];if(n<r.dateTimeObject)return null;for(var o=0;o<i.segments.length-1;o++){r=i.segments[o];var a=i.segments[o+1].dateTimeObject;if(n<a)break}var s=i.segments[i.segments.length-1],l=s.dateTimeObject,c=s.videoTimingInfo?Vve(s.videoTimingInfo):s.duration+s.duration*xU,d=new Date(l.getTime()+c*1e3);return n>d?null:(n>l&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:vr.duration(i,i.mediaSequence+i.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},Qve=function(e,i){if(!i||!i.segments||i.segments.length===0)return null;for(var n=0,r,o=0;o<i.segments.length&&(r=i.segments[o],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(e<=n));o++);var a=i.segments[i.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+a.duration*xU)return null;r=a}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},qve=function(e,i){var n,r;try{n=new Date(e),r=new Date(i)}catch{}var o=n.getTime(),a=r.getTime();return(a-o)/1e3},Kve=function(e){if(!e.segments||e.segments.length===0)return!1;for(var i=0;i<e.segments.length;i++){var n=e.segments[i];if(!n.dateTimeObject)return!1}return!0},Xve=function(e){var i=e.playlist,n=e.time,r=n===void 0?void 0:n,o=e.callback;if(!o)throw new Error("getProgramTime: callback must be provided");if(!i||r===void 0)return o({message:"getProgramTime: playlist and time must be provided"});var a=Qve(r,i);if(!a)return o({message:"valid programTime was not found"});if(a.type==="estimate")return o({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var s={mediaSeconds:r},l=Yve(r,a.segment);return l&&(s.programDateTime=l.toISOString()),o(null,s)},Jve=function t(e){var i=e.programTime,n=e.playlist,r=e.retryCount,o=r===void 0?2:r,a=e.seekTo,s=e.pauseAfterSeek,l=s===void 0?!0:s,c=e.tech,d=e.callback;if(!d)throw new Error("seekToProgramTime: callback must be provided");if(typeof i=="undefined"||!n||!a)return d({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!c.hasStarted_)return d({message:"player must be playing a live stream to start buffering"});if(!Kve(n))return d({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var f=$ve(i,n);if(!f)return d({message:i+" was not found in the stream"});var h=f.segment,m=qve(h.dateTimeObject,i);if(f.type==="estimate"){if(o===0)return d({message:i+" is not buffered yet. Try again"});a(f.estimatedStart+m),c.one("seeked",function(){t({programTime:i,playlist:n,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:c,callback:d})});return}var v=h.start+m,w=function(){return d(null,c.currentTime())};c.one("seeked",w),l&&c.pause(),a(v)},Hk=function(e,i){if(e.readyState===4)return i()},Zve=function(e,i,n){var r=[],o,a=!1,s=function(h,m,v,w){return m.abort(),a=!0,n(h,m,v,w)},l=function(h,m){if(!a){if(h)return s(h,m,"",r);var v=m.responseText.substring(r&&r.byteLength||0,m.responseText.length);if(r=Cbe(r,U7(v,!0)),o=o||Eh(r),r.length<10||o&&r.length<o+2)return Hk(m,function(){return s(h,m,"",r)});var w=CE(r);return w==="ts"&&r.length<188?Hk(m,function(){return s(h,m,"",r)}):!w&&r.length<376?Hk(m,function(){return s(h,m,"",r)}):s(null,m,w,r)}},c={uri:e,beforeSend:function(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function(m){return m.total,m.loaded,nT(h,null,{statusCode:h.status},l)})}},d=i(c,function(f,h){return nT(d,f,h,l)});return d},eye=ee.EventTarget,kU=ee.mergeOptions,jL=function(e,i){if(!bU(e,i)||e.sidx&&i.sidx&&(e.sidx.offset!==i.sidx.offset||e.sidx.length!==i.sidx.length))return!1;if(!e.sidx&&i.sidx||e.sidx&&!i.sidx||e.segments&&!i.segments||!e.segments&&i.segments)return!1;if(!e.segments&&!i.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],o=i.segments[n];if(r.uri!==o.uri)return!1;if(!(!r.byterange&&!o.byterange)){var a=r.byterange,s=o.byterange;if(a&&!s||!a&&s||a.offset!==s.offset||a.length!==s.length)return!1}}return!0},tye=function(e){var i=e.masterXml,n=e.srcUrl,r=e.clientOffset,o=e.sidxMapping,a=vbe(i,{manifestUri:n,clientOffset:r,sidxMapping:o});return hU(a,n),a},iye=function(e,i,n){for(var r=!0,o=kU(e,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod}),a=0;a<i.playlists.length;a++){var s=i.playlists[a];if(s.sidx){var l=LA(s.sidx);n&&n[l]&&n[l].sidx&&kE(s,n[l].sidx,s.sidx.resolvedUri)}var c=tT(o,s,jL);c&&(o=c,r=!1)}return eb(i,function(d,f,h,m){if(d.playlists&&d.playlists.length){var v=d.playlists[0].id,w=tT(o,d.playlists[0],jL);w&&(o=w,o.mediaGroups[f][h][m].playlists[0]=o.playlists[v],r=!1)}}),i.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:o},nye=function(e,i){var n=Boolean(!e.map&&!i.map),r=n||Boolean(e.map&&i.map&&e.map.byterange.offset===i.map.byterange.offset&&e.map.byterange.length===i.map.byterange.length);return r&&e.uri===i.uri&&e.byterange.offset===i.byterange.offset&&e.byterange.length===i.byterange.length},UL=function(e,i){var n={};for(var r in e){var o=e[r],a=o.sidx;if(a){var s=LA(a);if(!i[s])break;var l=i[s].sidxInfo;nye(l,a)&&(n[s]=i[s])}}return n},rye=function(e,i){var n=UL(e.playlists,i),r=n;return eb(e,function(o,a,s,l){if(o.playlists&&o.playlists.length){var c=o.playlists;r=kU(r,UL(c,i))}}),r},oT=function(t){ye(e,t);function e(n,r,o,a){var s;o===void 0&&(o={}),s=t.call(this)||this,s.masterPlaylistLoader_=a||re(s),a||(s.isMaster_=!0);var l=o,c=l.withCredentials,d=c===void 0?!1:c,f=l.handleManifestRedirects,h=f===void 0?!1:f;if(s.vhs_=r,s.withCredentials=d,s.handleManifestRedirects=h,!n)throw new Error("A non-empty playlist URL or object is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_(s.media().id)}),s.state="HAVE_NOTHING",s.loadedPlaylists_={},s.logger_=Ho("DashPlaylistLoader"),s.isMaster_?(s.masterPlaylistLoader_.srcUrl=n,s.masterPlaylistLoader_.sidxMapping_={}):s.childPlaylist_=n,s}var i=e.prototype;return i.requestErrored_=function(r,o,a){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:o.status,message:"DASH request error at URL: "+o.uri,response:o.response,code:2},a&&(this.state=a),this.trigger("error"),!0},i.addSidxSegments_=function(r,o,a){var s=this,l=r.sidx&&LA(r.sidx);if(!r.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=Q.setTimeout(function(){return a(!1)},0);return}var c=Zy(this.handleManifestRedirects,r.sidx.resolvedUri),d=function(h,m){if(!s.requestErrored_(h,m,o)){var v=s.masterPlaylistLoader_.sidxMapping_,w;try{w=Abe(nt(m.response).subarray(8))}catch(g){s.requestErrored_(g,m,o);return}return v[l]={sidxInfo:r.sidx,sidx:w},kE(r,w,r.sidx.resolvedUri),a(!0)}};this.request=Zve(c,this.vhs_.xhr,function(f,h,m,v){if(f)return d(f,h);if(!m||m!=="mp4")return d({status:h.status,message:"Unsupported "+(m||"unknown")+" container type for sidx segment at URL: "+c,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},h);var w=r.sidx.byterange,g=w.offset,A=w.length;if(v.length>=A+g)return d(f,{response:v.subarray(g,g+A),status:h.status,uri:h.uri});s.request=s.vhs_.xhr({uri:c,responseType:"arraybuffer",headers:rT({byterange:r.sidx.byterange})},d)})},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Q.clearTimeout(this.minimumUpdatePeriodTimeout_),Q.clearTimeout(this.mediaRequest_),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r){var o=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var s=!this.media_||r.id!==this.media_.id;if(s&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,s&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!s||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,a,function(l){o.haveMetadata({startingState:a,playlist:r})}))},i.haveMetadata=function(r){var o=r.startingState,a=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),o==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(Q.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},i.load=function(r){var o=this;Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(r){var s=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Q.setTimeout(function(){return o.load()},s);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=Q.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(o,a){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},i.requestMaster_=function(r){var o=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,s){if(o.requestErrored_(a,s)){o.state==="HAVE_NOTHING"&&(o.started=!1);return}var l=s.responseText!==o.masterPlaylistLoader_.masterXml_;if(o.masterPlaylistLoader_.masterXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?o.masterLoaded_=Date.parse(s.responseHeaders.date):o.masterLoaded_=Date.now(),o.masterPlaylistLoader_.srcUrl=Zy(o.handleManifestRedirects,o.masterPlaylistLoader_.srcUrl,s),l){o.handleMaster_(),o.syncClientServerClock_(function(){return r(s,l)});return}return r(s,l)})},i.syncClientServerClock_=function(r){var o=this,a=ybe(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),r();this.request=this.vhs_.xhr({uri:Eo(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(s,l){if(!!o.request){if(s)return o.masterPlaylistLoader_.clientOffset_=o.masterLoaded_-Date.now(),r();var c;a.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?c=o.masterLoaded_:c=Date.parse(l.responseHeaders.date):c=Date.parse(l.responseText),o.masterPlaylistLoader_.clientOffset_=c-Date.now(),r()}})},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var r=tye({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),o=this.masterPlaylistLoader_.master;o&&(r=iye(o,r,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=r||o;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!o||r&&r.minimumUpdatePeriod!==o.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(r)},i.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(Q.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var o=r.master&&r.master.minimumUpdatePeriod;if(o===0&&(r.media()?o=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof o!="number"||o<=0){o<0&&this.logger_("found invalid minimumUpdatePeriod of "+o+", not setting a timeout");return}this.createMUPTimeout_(o)},i.createMUPTimeout_=function(r){var o=this.masterPlaylistLoader_;o.minimumUpdatePeriodTimeout_=Q.setTimeout(function(){o.minimumUpdatePeriodTimeout_=null,o.trigger("minimumUpdatePeriod"),o.createMUPTimeout_(r)},r)},i.refreshXml_=function(){var r=this;this.requestMaster_(function(o,a){!a||(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=rye(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(s){r.refreshMedia_(r.media().id)}))})},i.refreshMedia_=function(r){var o=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,s=!this.media_||this.media_!==a[r];if(s?this.media_=a[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function c(){o.media().endList||(o.mediaUpdateTimeout=Q.setTimeout(function(){o.trigger("mediaupdatetimeout"),c()},iT(o.media(),Boolean(s))))};l()}this.trigger("loadedplaylist")},e}(eye),Ji={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},oye=function(e){for(var i=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i.buffer},_U=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},aye=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}},TU=function(e){return function(){var i=aye(e),n=_U(new Worker(i));n.objURL=i;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(i),r.call(this)},n}},SU=function(e){return"var browserWorkerPolyFill = "+_U.toString()+`;
browserWorkerPolyFill(self);
`+e},CU=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},sye=SU(CU(function(){var t=function(){this.init=function(){var y={};this.on=function(_,k){y[_]||(y[_]=[]),y[_]=y[_].concat(k)},this.off=function(_,k){var S;return y[_]?(S=y[_].indexOf(k),y[_]=y[_].slice(),y[_].splice(S,1),S>-1):!1},this.trigger=function(_){var k,S,I,R;if(k=y[_],!!k)if(arguments.length===2)for(I=k.length,S=0;S<I;++S)k[S].call(this,arguments[1]);else{for(R=[],S=arguments.length,S=1;S<arguments.length;++S)R.push(arguments[S]);for(I=k.length,S=0;S<I;++S)k[S].apply(this,R)}},this.dispose=function(){y={}}}};t.prototype.pipe=function(M){return this.on("data",function(y){M.push(y)}),this.on("done",function(y){M.flush(y)}),this.on("partialdone",function(y){M.partialFlush(y)}),this.on("endedtimeline",function(y){M.endTimeline(y)}),this.on("reset",function(y){M.reset(y)}),M},t.prototype.push=function(M){this.trigger("data",M)},t.prototype.flush=function(M){this.trigger("done",M)},t.prototype.partialFlush=function(M){this.trigger("partialdone",M)},t.prototype.endTimeline=function(M){this.trigger("endedtimeline",M)},t.prototype.reset=function(M){this.trigger("reset",M)};var e=t,i=Math.pow(2,32)-1,n,r,o,a,s,l,c,d,f,h,m,v,w,g,A,x,T,E,z,L,B,O,F,H,X,de,we,Ee,_e,Ne,Be,Ve,Pe,De,se,Z;(function(){var M;if(F={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(M in F)F.hasOwnProperty(M)&&(F[M]=[M.charCodeAt(0),M.charCodeAt(1),M.charCodeAt(2),M.charCodeAt(3)]);H=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),de=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),X=new Uint8Array([0,0,0,1]),we=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),_e={video:we,audio:Ee},Ve=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Be=new Uint8Array([0,0,0,0,0,0,0,0]),Pe=new Uint8Array([0,0,0,0,0,0,0,0]),De=Pe,se=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Z=Pe,Ne=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),n=function(y){var _=[],k=0,S,I,R;for(S=1;S<arguments.length;S++)_.push(arguments[S]);for(S=_.length;S--;)k+=_[S].byteLength;for(I=new Uint8Array(k+8),R=new DataView(I.buffer,I.byteOffset,I.byteLength),R.setUint32(0,I.byteLength),I.set(y,4),S=0,k=8;S<_.length;S++)I.set(_[S],k),k+=_[S].byteLength;return I},r=function(){return n(F.dinf,n(F.dref,Ve))},o=function(y){return n(F.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,y.audioobjecttype<<3|y.samplingfrequencyindex>>>1,y.samplingfrequencyindex<<7|y.channelcount<<3,6,1,2]))},a=function(){return n(F.ftyp,H,X,H,de)},x=function(y){return n(F.hdlr,_e[y])},s=function(y){return n(F.mdat,y)},A=function(y){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,y.duration>>>24&255,y.duration>>>16&255,y.duration>>>8&255,y.duration&255,85,196,0,0]);return y.samplerate&&(_[12]=y.samplerate>>>24&255,_[13]=y.samplerate>>>16&255,_[14]=y.samplerate>>>8&255,_[15]=y.samplerate&255),n(F.mdhd,_)},g=function(y){return n(F.mdia,A(y),x(y.type),c(y))},l=function(y){return n(F.mfhd,new Uint8Array([0,0,0,0,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255]))},c=function(y){return n(F.minf,y.type==="video"?n(F.vmhd,Ne):n(F.smhd,Be),r(),E(y))},d=function(y,_){for(var k=[],S=_.length;S--;)k[S]=L(_[S]);return n.apply(null,[F.moof,l(y)].concat(k))},f=function(y){for(var _=y.length,k=[];_--;)k[_]=v(y[_]);return n.apply(null,[F.moov,m(4294967295)].concat(k).concat(h(y)))},h=function(y){for(var _=y.length,k=[];_--;)k[_]=B(y[_]);return n.apply(null,[F.mvex].concat(k))},m=function(y){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(F.mvhd,_)},T=function(y){var _=y.samples||[],k=new Uint8Array(4+_.length),S,I;for(I=0;I<_.length;I++)S=_[I].flags,k[I+4]=S.dependsOn<<4|S.isDependedOn<<2|S.hasRedundancy;return n(F.sdtp,k)},E=function(y){return n(F.stbl,z(y),n(F.stts,Z),n(F.stsc,De),n(F.stsz,se),n(F.stco,Pe))},function(){var M,y;z=function(k){return n(F.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),k.type==="video"?M(k):y(k))},M=function(k){var S=k.sps||[],I=k.pps||[],R=[],U=[],G,q;for(G=0;G<S.length;G++)R.push((S[G].byteLength&65280)>>>8),R.push(S[G].byteLength&255),R=R.concat(Array.prototype.slice.call(S[G]));for(G=0;G<I.length;G++)U.push((I[G].byteLength&65280)>>>8),U.push(I[G].byteLength&255),U=U.concat(Array.prototype.slice.call(I[G]));if(q=[F.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(k.width&65280)>>8,k.width&255,(k.height&65280)>>8,k.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(F.avcC,new Uint8Array([1,k.profileIdc,k.profileCompatibility,k.levelIdc,255].concat([S.length],R,[I.length],U))),n(F.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],k.sarRatio){var V=k.sarRatio[0],J=k.sarRatio[1];q.push(n(F.pasp,new Uint8Array([(V&4278190080)>>24,(V&16711680)>>16,(V&65280)>>8,V&255,(J&4278190080)>>24,(J&16711680)>>16,(J&65280)>>8,J&255])))}return n.apply(null,q)},y=function(k){return n(F.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(k.channelcount&65280)>>8,k.channelcount&255,(k.samplesize&65280)>>8,k.samplesize&255,0,0,0,0,(k.samplerate&65280)>>8,k.samplerate&255,0,0]),o(k))}}(),w=function(y){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,0,(y.duration&4278190080)>>24,(y.duration&16711680)>>16,(y.duration&65280)>>8,y.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(y.width&65280)>>8,y.width&255,0,0,(y.height&65280)>>8,y.height&255,0,0]);return n(F.tkhd,_)},L=function(y){var _,k,S,I,R,U,G;return _=n(F.tfhd,new Uint8Array([0,0,0,58,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),U=Math.floor(y.baseMediaDecodeTime/(i+1)),G=Math.floor(y.baseMediaDecodeTime%(i+1)),k=n(F.tfdt,new Uint8Array([1,0,0,0,U>>>24&255,U>>>16&255,U>>>8&255,U&255,G>>>24&255,G>>>16&255,G>>>8&255,G&255])),R=32+20+8+16+8+8,y.type==="audio"?(S=O(y,R),n(F.traf,_,k,S)):(I=T(y),S=O(y,I.length+R),n(F.traf,_,k,S,I))},v=function(y){return y.duration=y.duration||4294967295,n(F.trak,w(y),g(y))},B=function(y){var _=new Uint8Array([0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return y.type!=="video"&&(_[_.length-1]=0),n(F.trex,_)},function(){var M,y,_;_=function(S,I){var R=0,U=0,G=0,q=0;return S.length&&(S[0].duration!==void 0&&(R=1),S[0].size!==void 0&&(U=2),S[0].flags!==void 0&&(G=4),S[0].compositionTimeOffset!==void 0&&(q=8)),[0,0,R|U|G|q,1,(S.length&4278190080)>>>24,(S.length&16711680)>>>16,(S.length&65280)>>>8,S.length&255,(I&4278190080)>>>24,(I&16711680)>>>16,(I&65280)>>>8,I&255]},y=function(S,I){var R,U,G,q,V,J;for(q=S.samples||[],I+=8+12+16*q.length,G=_(q,I),U=new Uint8Array(G.length+q.length*16),U.set(G),R=G.length,J=0;J<q.length;J++)V=q[J],U[R++]=(V.duration&4278190080)>>>24,U[R++]=(V.duration&16711680)>>>16,U[R++]=(V.duration&65280)>>>8,U[R++]=V.duration&255,U[R++]=(V.size&4278190080)>>>24,U[R++]=(V.size&16711680)>>>16,U[R++]=(V.size&65280)>>>8,U[R++]=V.size&255,U[R++]=V.flags.isLeading<<2|V.flags.dependsOn,U[R++]=V.flags.isDependedOn<<6|V.flags.hasRedundancy<<4|V.flags.paddingValue<<1|V.flags.isNonSyncSample,U[R++]=V.flags.degradationPriority&240<<8,U[R++]=V.flags.degradationPriority&15,U[R++]=(V.compositionTimeOffset&4278190080)>>>24,U[R++]=(V.compositionTimeOffset&16711680)>>>16,U[R++]=(V.compositionTimeOffset&65280)>>>8,U[R++]=V.compositionTimeOffset&255;return n(F.trun,U)},M=function(S,I){var R,U,G,q,V,J;for(q=S.samples||[],I+=8+12+8*q.length,G=_(q,I),R=new Uint8Array(G.length+q.length*8),R.set(G),U=G.length,J=0;J<q.length;J++)V=q[J],R[U++]=(V.duration&4278190080)>>>24,R[U++]=(V.duration&16711680)>>>16,R[U++]=(V.duration&65280)>>>8,R[U++]=V.duration&255,R[U++]=(V.size&4278190080)>>>24,R[U++]=(V.size&16711680)>>>16,R[U++]=(V.size&65280)>>>8,R[U++]=V.size&255;return n(F.trun,R)},O=function(S,I){return S.type==="audio"?M(S,I):y(S,I)}}();var ce={ftyp:a,mdat:s,moof:d,moov:f,initSegment:function(y){var _=a(),k=f(y),S;return S=new Uint8Array(_.byteLength+k.byteLength),S.set(_),S.set(k,_.byteLength),S}},te=function(y){var _,k,S=[],I=[];for(I.byteLength=0,I.nalCount=0,I.duration=0,S.byteLength=0,_=0;_<y.length;_++)k=y[_],k.nalUnitType==="access_unit_delimiter_rbsp"?(S.length&&(S.duration=k.dts-S.dts,I.byteLength+=S.byteLength,I.nalCount+=S.length,I.duration+=S.duration,I.push(S)),S=[k],S.byteLength=k.data.byteLength,S.pts=k.pts,S.dts=k.dts):(k.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(S.keyFrame=!0),S.duration=k.dts-S.dts,S.byteLength+=k.data.byteLength,S.push(k));return I.length&&(!S.duration||S.duration<=0)&&(S.duration=I[I.length-1].duration),I.byteLength+=S.byteLength,I.nalCount+=S.length,I.duration+=S.duration,I.push(S),I},ae=function(y){var _,k,S=[],I=[];for(S.byteLength=0,S.nalCount=0,S.duration=0,S.pts=y[0].pts,S.dts=y[0].dts,I.byteLength=0,I.nalCount=0,I.duration=0,I.pts=y[0].pts,I.dts=y[0].dts,_=0;_<y.length;_++)k=y[_],k.keyFrame?(S.length&&(I.push(S),I.byteLength+=S.byteLength,I.nalCount+=S.nalCount,I.duration+=S.duration),S=[k],S.nalCount=k.length,S.byteLength=k.byteLength,S.pts=k.pts,S.dts=k.dts,S.duration=k.duration):(S.duration+=k.duration,S.nalCount+=k.length,S.byteLength+=k.byteLength,S.push(k));return I.length&&S.duration<=0&&(S.duration=I[I.length-1].duration),I.byteLength+=S.byteLength,I.nalCount+=S.nalCount,I.duration+=S.duration,I.push(S),I},fe=function(y){var _;return!y[0][0].keyFrame&&y.length>1&&(_=y.shift(),y.byteLength-=_.byteLength,y.nalCount-=_.nalCount,y[0][0].dts=_.dts,y[0][0].pts=_.pts,y[0][0].duration+=_.duration),y},ve=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},be=function(y,_){var k=ve();return k.dataOffset=_,k.compositionTimeOffset=y.pts-y.dts,k.duration=y.duration,k.size=4*y.length,k.size+=y.byteLength,y.keyFrame&&(k.flags.dependsOn=2,k.flags.isNonSyncSample=0),k},Ie=function(y,_){var k,S,I,R,U,G=_||0,q=[];for(k=0;k<y.length;k++)for(R=y[k],S=0;S<R.length;S++)U=R[S],I=be(U,G),G+=I.size,q.push(I);return q},Ye=function(y){var _,k,S,I,R,U,G=0,q=y.byteLength,V=y.nalCount,J=q+4*V,he=new Uint8Array(J),Ue=new DataView(he.buffer);for(_=0;_<y.length;_++)for(I=y[_],k=0;k<I.length;k++)for(R=I[k],S=0;S<R.length;S++)U=R[S],Ue.setUint32(G,U.data.byteLength),G+=4,he.set(U.data,G),G+=U.data.byteLength;return he},$e=function(y,_){var k,S=_||0,I=[];return k=be(y,S),I.push(k),I},tt=function(y){var _,k,S=0,I=y.byteLength,R=y.length,U=I+4*R,G=new Uint8Array(U),q=new DataView(G.buffer);for(_=0;_<y.length;_++)k=y[_],q.setUint32(S,k.data.byteLength),S+=4,G.set(k.data,S),S+=k.data.byteLength;return G},ti={groupNalsIntoFrames:te,groupFramesIntoGops:ae,extendFirstKeyFrame:fe,generateSampleTable:Ie,concatenateNalData:Ye,generateSampleTableForFrame:$e,concatenateNalDataForFrame:tt},Ot=[33,16,5,32,164,27],Rr=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Tt=function(y){for(var _=[];y--;)_.push(0);return _},fn=function(y){return Object.keys(y).reduce(function(_,k){return _[k]=new Uint8Array(y[k].reduce(function(S,I){return S.concat(I)},[])),_},{})},Ke,Ra=function(){if(!Ke){var y={96e3:[Ot,[227,64],Tt(154),[56]],88200:[Ot,[231],Tt(170),[56]],64e3:[Ot,[248,192],Tt(240),[56]],48e3:[Ot,[255,192],Tt(268),[55,148,128],Tt(54),[112]],44100:[Ot,[255,192],Tt(268),[55,163,128],Tt(84),[112]],32e3:[Ot,[255,192],Tt(268),[55,234],Tt(226),[112]],24e3:[Ot,[255,192],Tt(268),[55,255,128],Tt(268),[111,112],Tt(126),[224]],16e3:[Ot,[255,192],Tt(268),[55,255,128],Tt(268),[111,255],Tt(269),[223,108],Tt(195),[1,192]],12e3:[Rr,Tt(268),[3,127,248],Tt(268),[6,255,240],Tt(268),[13,255,224],Tt(268),[27,253,128],Tt(259),[56]],11025:[Rr,Tt(268),[3,127,248],Tt(268),[6,255,240],Tt(268),[13,255,224],Tt(268),[27,255,192],Tt(268),[55,175,128],Tt(108),[112]],8e3:[Rr,Tt(268),[3,121,16],Tt(47),[7]]};Ke=fn(y)}return Ke},bi=9e4,pi,to,io,Pa,wo,ql,Ao;pi=function(y){return y*bi},to=function(y,_){return y*_},io=function(y){return y/bi},Pa=function(y,_){return y/_},wo=function(y,_){return pi(Pa(y,_))},ql=function(y,_){return to(io(y),_)},Ao=function(y,_,k){return io(k?y:y-_)};var ht={ONE_SECOND_IN_TS:bi,secondsToVideoTs:pi,secondsToAudioTs:to,videoTsToSeconds:io,audioTsToSeconds:Pa,audioTsToVideoTs:wo,videoTsToAudioTs:ql,metadataTsToSeconds:Ao},np=function(y){var _,k,S=0;for(_=0;_<y.length;_++)k=y[_],S+=k.data.byteLength;return S},rp=function(y,_,k,S){var I,R=0,U=0,G=0,q=0,V,J,he;if(!!_.length&&(I=ht.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),R=Math.ceil(ht.ONE_SECOND_IN_TS/(y.samplerate/1024)),k&&S&&(U=I-Math.max(k,S),G=Math.floor(U/R),q=G*R),!(G<1||q>ht.ONE_SECOND_IN_TS/2))){for(V=Ra()[y.samplerate],V||(V=_[0].data),J=0;J<G;J++)he=_[0],_.splice(0,0,{data:V,dts:he.dts-R,pts:he.pts-R});return y.baseMediaDecodeTime-=Math.floor(ht.videoTsToAudioTs(q,y.samplerate)),q}},op=function(y,_,k){return _.minSegmentDts>=k?y:(_.minSegmentDts=1/0,y.filter(function(S){return S.dts>=k?(_.minSegmentDts=Math.min(_.minSegmentDts,S.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},ap=function(y){var _,k,S=[];for(_=0;_<y.length;_++)k=y[_],S.push({size:k.data.byteLength,duration:1024});return S},sp=function(y){var _,k,S=0,I=new Uint8Array(np(y));for(_=0;_<y.length;_++)k=y[_],I.set(k.data,S),S+=k.data.byteLength;return I},Ms={prefixWithSilence:rp,trimAdtsFramesByEarliestDts:op,generateSampleTable:ap,concatenateFrameData:sp},lp=ht.ONE_SECOND_IN_TS,cp=function(y,_){typeof _.pts=="number"&&(y.timelineStartInfo.pts===void 0&&(y.timelineStartInfo.pts=_.pts),y.minSegmentPts===void 0?y.minSegmentPts=_.pts:y.minSegmentPts=Math.min(y.minSegmentPts,_.pts),y.maxSegmentPts===void 0?y.maxSegmentPts=_.pts:y.maxSegmentPts=Math.max(y.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(y.timelineStartInfo.dts===void 0&&(y.timelineStartInfo.dts=_.dts),y.minSegmentDts===void 0?y.minSegmentDts=_.dts:y.minSegmentDts=Math.min(y.minSegmentDts,_.dts),y.maxSegmentDts===void 0?y.maxSegmentDts=_.dts:y.maxSegmentDts=Math.max(y.maxSegmentDts,_.dts))},up=function(y){delete y.minSegmentDts,delete y.maxSegmentDts,delete y.minSegmentPts,delete y.maxSegmentPts},qA=function(y,_){var k,S,I=y.minSegmentDts;return _||(I-=y.timelineStartInfo.dts),k=y.timelineStartInfo.baseMediaDecodeTime,k+=I,k=Math.max(0,k),y.type==="audio"&&(S=y.samplerate/lp,k*=S,k=Math.floor(k)),k},Pr={clearDtsInfo:up,calculateTrackBaseMediaDecodeTime:qA,collectDtsInfo:cp},tb=4,ib=128,nb=function(y){for(var _=0,k={payloadType:-1,payloadSize:0},S=0,I=0;_<y.byteLength&&y[_]!==ib;){for(;y[_]===255;)S+=255,_++;for(S+=y[_++];y[_]===255;)I+=255,_++;if(I+=y[_++],!k.payload&&S===tb){var R=String.fromCharCode(y[_+3],y[_+4],y[_+5],y[_+6]);if(R==="GA94"){k.payloadType=S,k.payloadSize=I,k.payload=y.subarray(_,_+I);break}else k.payload=void 0}_+=I,S=0,I=0}return k},KA=function(y){return y.payload[0]!==181||(y.payload[1]<<8|y.payload[2])!==49||String.fromCharCode(y.payload[3],y.payload[4],y.payload[5],y.payload[6])!=="GA94"||y.payload[7]!==3?null:y.payload.subarray(8,y.payload.length-1)},XA=function(y,_){var k=[],S,I,R,U;if(!(_[0]&64))return k;for(I=_[0]&31,S=0;S<I;S++)R=S*3,U={type:_[R+2]&3,pts:y},_[R+2]&4&&(U.ccData=_[R+3]<<8|_[R+4],k.push(U));return k},JA=function(y){for(var _=y.byteLength,k=[],S=1,I,R;S<_-2;)y[S]===0&&y[S+1]===0&&y[S+2]===3?(k.push(S+2),S+=2):S++;if(k.length===0)return y;I=_-k.length,R=new Uint8Array(I);var U=0;for(S=0;S<I;U++,S++)U===k[0]&&(U++,k.shift()),R[S]=y[U];return R},Kl={parseSei:nb,parseUserData:KA,parseCaptionPackets:XA,discardEmulationPreventionBytes:JA,USER_DATA_REGISTERED_ITU_T_T35:tb},Tn=function M(y){y=y||{},M.prototype.init.call(this),this.parse708captions_=typeof y.parse708captions=="boolean"?y.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new ai(0,0),new ai(0,1),new ai(1,0),new ai(1,1)],this.parse708captions_&&(this.cc708Stream_=new Gt({captionServices:y.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Tn.prototype=new e,Tn.prototype.push=function(M){var y,_,k;if(M.nalUnitType==="sei_rbsp"&&(y=Kl.parseSei(M.escapedRBSP),!!y.payload&&y.payloadType===Kl.USER_DATA_REGISTERED_ITU_T_T35&&(_=Kl.parseUserData(y),!!_))){if(M.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(M.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}k=Kl.parseCaptionPackets(M.pts,_),this.captionPackets_=this.captionPackets_.concat(k),this.latestDts_!==M.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=M.dts}},Tn.prototype.flushCCStreams=function(M){this.ccStreams_.forEach(function(y){return M==="flush"?y.flush():y.partialFlush()},this)},Tn.prototype.flushStream=function(M){if(!this.captionPackets_.length){this.flushCCStreams(M);return}this.captionPackets_.forEach(function(y,_){y.presortIndex=_}),this.captionPackets_.sort(function(y,_){return y.pts===_.pts?y.presortIndex-_.presortIndex:y.pts-_.pts}),this.captionPackets_.forEach(function(y){y.type<2?this.dispatchCea608Packet(y):this.dispatchCea708Packet(y)},this),this.captionPackets_.length=0,this.flushCCStreams(M)},Tn.prototype.flush=function(){return this.flushStream("flush")},Tn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Tn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(M){M.reset()})},Tn.prototype.dispatchCea608Packet=function(M){this.setsTextOrXDSActive(M)?this.activeCea608Channel_[M.type]=null:this.setsChannel1Active(M)?this.activeCea608Channel_[M.type]=0:this.setsChannel2Active(M)&&(this.activeCea608Channel_[M.type]=1),this.activeCea608Channel_[M.type]!==null&&this.ccStreams_[(M.type<<1)+this.activeCea608Channel_[M.type]].push(M)},Tn.prototype.setsChannel1Active=function(M){return(M.ccData&30720)===4096},Tn.prototype.setsChannel2Active=function(M){return(M.ccData&30720)===6144},Tn.prototype.setsTextOrXDSActive=function(M){return(M.ccData&28928)===256||(M.ccData&30974)===4138||(M.ccData&30974)===6186},Tn.prototype.dispatchCea708Packet=function(M){this.parse708captions_&&this.cc708Stream_.push(M)};var ZA={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ex=function(y){var _=ZA[y]||y;return y&4096&&y===_?"":String.fromCharCode(_)},ku=function(y){return 32<=y&&y<=127||160<=y&&y<=255},Lr=function(y){this.windowNum=y,this.reset()};Lr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Lr.prototype.getText=function(){return this.rows.join(`
`)},Lr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Lr.prototype.newLine=function(M){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(M),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Lr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Lr.prototype.addText=function(M){this.rows[this.rowIdx]+=M},Lr.prototype.backspace=function(){if(!this.isEmpty()){var M=this.rows[this.rowIdx];this.rows[this.rowIdx]=M.substr(0,M.length-1)}};var _u=function(y,_,k){this.serviceNum=y,this.text="",this.currentWindow=new Lr(-1),this.windows=[],this.stream=k,typeof _=="string"&&this.createTextDecoder(_)};_u.prototype.init=function(M,y){this.startPts=M;for(var _=0;_<8;_++)this.windows[_]=new Lr(_),typeof y=="function"&&(this.windows[_].beforeRowOverflow=y)},_u.prototype.setCurrentWindow=function(M){this.currentWindow=this.windows[M]},_u.prototype.createTextDecoder=function(M){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(M)}catch(y){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+M+" encoding. "+y})}};var Gt=function M(y){y=y||{},M.prototype.init.call(this);var _=this,k=y.captionServices||{},S={},I;Object.keys(k).forEach(function(R){I=k[R],/^SERVICE/.test(R)&&(S[R]=I.encoding)}),this.serviceEncodings=S,this.current708Packet=null,this.services={},this.push=function(R){R.type===3?(_.new708Packet(),_.add708Bytes(R)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(R))}};Gt.prototype=new e,Gt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Gt.prototype.add708Bytes=function(M){var y=M.ccData,_=y>>>8,k=y&255;this.current708Packet.ptsVals.push(M.pts),this.current708Packet.data.push(_),this.current708Packet.data.push(k)},Gt.prototype.push708Packet=function(){var M=this.current708Packet,y=M.data,_=null,k=null,S=0,I=y[S++];for(M.seq=I>>6,M.sizeCode=I&63;S<y.length;S++)I=y[S++],_=I>>5,k=I&31,_===7&&k>0&&(I=y[S++],_=I),this.pushServiceBlock(_,S,k),k>0&&(S+=k-1)},Gt.prototype.pushServiceBlock=function(M,y,_){var k,S=y,I=this.current708Packet.data,R=this.services[M];for(R||(R=this.initService(M,S));S<y+_&&S<I.length;S++)k=I[S],ku(k)?S=this.handleText(S,R):k===24?S=this.multiByteCharacter(S,R):k===16?S=this.extendedCommands(S,R):128<=k&&k<=135?S=this.setCurrentWindow(S,R):152<=k&&k<=159?S=this.defineWindow(S,R):k===136?S=this.clearWindows(S,R):k===140?S=this.deleteWindows(S,R):k===137?S=this.displayWindows(S,R):k===138?S=this.hideWindows(S,R):k===139?S=this.toggleWindows(S,R):k===151?S=this.setWindowAttributes(S,R):k===144?S=this.setPenAttributes(S,R):k===145?S=this.setPenColor(S,R):k===146?S=this.setPenLocation(S,R):k===143?R=this.reset(S,R):k===8?R.currentWindow.backspace():k===12?R.currentWindow.clearText():k===13?R.currentWindow.pendingNewLine=!0:k===14?R.currentWindow.clearText():k===141&&S++},Gt.prototype.extendedCommands=function(M,y){var _=this.current708Packet.data,k=_[++M];return ku(k)&&(M=this.handleText(M,y,{isExtended:!0})),M},Gt.prototype.getPts=function(M){return this.current708Packet.ptsVals[Math.floor(M/2)]},Gt.prototype.initService=function(M,y){var k="SERVICE"+M,_=this,k,S;return k in this.serviceEncodings&&(S=this.serviceEncodings[k]),this.services[M]=new _u(M,S,_),this.services[M].init(this.getPts(y),function(I){_.flushDisplayed(I,_.services[M])}),this.services[M]},Gt.prototype.handleText=function(M,y,_){var k=_&&_.isExtended,S=_&&_.isMultiByte,I=this.current708Packet.data,R=k?4096:0,U=I[M],G=I[M+1],q=y.currentWindow,V,J;return y.textDecoder_&&!k?(S?(J=[U,G],M++):J=[U],V=y.textDecoder_.decode(new Uint8Array(J))):V=ex(R|U),q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(M)),q.pendingNewLine=!1,q.addText(V),M},Gt.prototype.multiByteCharacter=function(M,y){var _=this.current708Packet.data,k=_[M+1],S=_[M+2];return ku(k)&&ku(S)&&(M=this.handleText(++M,y,{isMultiByte:!0})),M},Gt.prototype.setCurrentWindow=function(M,y){var _=this.current708Packet.data,k=_[M],S=k&7;return y.setCurrentWindow(S),M},Gt.prototype.defineWindow=function(M,y){var _=this.current708Packet.data,k=_[M],S=k&7;y.setCurrentWindow(S);var I=y.currentWindow;return k=_[++M],I.visible=(k&32)>>5,I.rowLock=(k&16)>>4,I.columnLock=(k&8)>>3,I.priority=k&7,k=_[++M],I.relativePositioning=(k&128)>>7,I.anchorVertical=k&127,k=_[++M],I.anchorHorizontal=k,k=_[++M],I.anchorPoint=(k&240)>>4,I.rowCount=k&15,k=_[++M],I.columnCount=k&63,k=_[++M],I.windowStyle=(k&56)>>3,I.penStyle=k&7,I.virtualRowCount=I.rowCount+1,M},Gt.prototype.setWindowAttributes=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.winAttr;return k=_[++M],S.fillOpacity=(k&192)>>6,S.fillRed=(k&48)>>4,S.fillGreen=(k&12)>>2,S.fillBlue=k&3,k=_[++M],S.borderType=(k&192)>>6,S.borderRed=(k&48)>>4,S.borderGreen=(k&12)>>2,S.borderBlue=k&3,k=_[++M],S.borderType+=(k&128)>>5,S.wordWrap=(k&64)>>6,S.printDirection=(k&48)>>4,S.scrollDirection=(k&12)>>2,S.justify=k&3,k=_[++M],S.effectSpeed=(k&240)>>4,S.effectDirection=(k&12)>>2,S.displayEffect=k&3,M},Gt.prototype.flushDisplayed=function(M,y){for(var _=[],k=0;k<8;k++)y.windows[k].visible&&!y.windows[k].isEmpty()&&_.push(y.windows[k].getText());y.endPts=M,y.text=_.join(`

`),this.pushCaption(y),y.startPts=M},Gt.prototype.pushCaption=function(M){M.text!==""&&(this.trigger("data",{startPts:M.startPts,endPts:M.endPts,text:M.text,stream:"cc708_"+M.serviceNum}),M.text="",M.startPts=M.endPts)},Gt.prototype.displayWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&(y.windows[I].visible=1);return M},Gt.prototype.hideWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&(y.windows[I].visible=0);return M},Gt.prototype.toggleWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&(y.windows[I].visible^=1);return M},Gt.prototype.clearWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&y.windows[I].clearText();return M},Gt.prototype.deleteWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&y.windows[I].reset();return M},Gt.prototype.setPenAttributes=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.penAttr;return k=_[++M],S.textTag=(k&240)>>4,S.offset=(k&12)>>2,S.penSize=k&3,k=_[++M],S.italics=(k&128)>>7,S.underline=(k&64)>>6,S.edgeType=(k&56)>>3,S.fontStyle=k&7,M},Gt.prototype.setPenColor=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.penColor;return k=_[++M],S.fgOpacity=(k&192)>>6,S.fgRed=(k&48)>>4,S.fgGreen=(k&12)>>2,S.fgBlue=k&3,k=_[++M],S.bgOpacity=(k&192)>>6,S.bgRed=(k&48)>>4,S.bgGreen=(k&12)>>2,S.bgBlue=k&3,k=_[++M],S.edgeRed=(k&48)>>4,S.edgeGreen=(k&12)>>2,S.edgeBlue=k&3,M},Gt.prototype.setPenLocation=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.penLoc;return y.currentWindow.pendingNewLine=!0,k=_[++M],S.row=k&15,k=_[++M],S.column=k&63,M},Gt.prototype.reset=function(M,y){var _=this.getPts(M);return this.flushDisplayed(_,y),this.initService(y.serviceNum,M)};var tx={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Tu=function(y){return y===null?"":(y=tx[y]||y,String.fromCharCode(y))},Su=14,ix=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],La=function(){for(var y=[],_=Su+1;_--;)y.push("");return y},ai=function M(y,_){M.prototype.init.call(this),this.field_=y||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(k){var S,I,R,U,G;if(S=k.ccData&32639,S===this.lastControlCode_){this.lastControlCode_=null;return}if((S&61440)===4096?this.lastControlCode_=S:S!==this.PADDING_&&(this.lastControlCode_=null),R=S>>>8,U=S&255,S!==this.PADDING_)if(S===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(S===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(k.pts),this.flushDisplayed(k.pts),I=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=I,this.startPts_=k.pts;else if(S===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(k.pts);else if(S===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(k.pts);else if(S===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(k.pts);else if(S===this.CARRIAGE_RETURN_)this.clearFormatting(k.pts),this.flushDisplayed(k.pts),this.shiftRowsUp_(),this.startPts_=k.pts;else if(S===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(S===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(k.pts),this.displayed_=La();else if(S===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=La();else if(S===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(k.pts),this.displayed_=La()),this.mode_="paintOn",this.startPts_=k.pts;else if(this.isSpecialCharacter(R,U))R=(R&3)<<8,G=Tu(R|U),this[this.mode_](k.pts,G),this.column_++;else if(this.isExtCharacter(R,U))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),R=(R&3)<<8,G=Tu(R|U),this[this.mode_](k.pts,G),this.column_++;else if(this.isMidRowCode(R,U))this.clearFormatting(k.pts),this[this.mode_](k.pts," "),this.column_++,(U&14)===14&&this.addFormatting(k.pts,["i"]),(U&1)===1&&this.addFormatting(k.pts,["u"]);else if(this.isOffsetControlCode(R,U))this.column_+=U&3;else if(this.isPAC(R,U)){var q=ix.indexOf(S&7968);this.mode_==="rollUp"&&(q-this.rollUpRows_+1<0&&(q=this.rollUpRows_-1),this.setRollUp(k.pts,q)),q!==this.row_&&(this.clearFormatting(k.pts),this.row_=q),U&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(k.pts,["u"]),(S&16)===16&&(this.column_=((S&14)>>1)*4),this.isColorPAC(U)&&(U&14)===14&&this.addFormatting(k.pts,["i"])}else this.isNormalChar(R)&&(U===0&&(U=null),G=Tu(R),G+=Tu(U),this[this.mode_](k.pts,G),this.column_+=G.length)}};ai.prototype=new e,ai.prototype.flushDisplayed=function(M){var y=this.displayed_.map(function(_,k){try{return _.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+k+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");y.length&&this.trigger("data",{startPts:this.startPts_,endPts:M,text:y,stream:this.name_})},ai.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=La(),this.nonDisplayed_=La(),this.lastControlCode_=null,this.column_=0,this.row_=Su,this.rollUpRows_=2,this.formatting_=[]},ai.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},ai.prototype.isSpecialCharacter=function(M,y){return M===this.EXT_&&y>=48&&y<=63},ai.prototype.isExtCharacter=function(M,y){return(M===this.EXT_+1||M===this.EXT_+2)&&y>=32&&y<=63},ai.prototype.isMidRowCode=function(M,y){return M===this.EXT_&&y>=32&&y<=47},ai.prototype.isOffsetControlCode=function(M,y){return M===this.OFFSET_&&y>=33&&y<=35},ai.prototype.isPAC=function(M,y){return M>=this.BASE_&&M<this.BASE_+8&&y>=64&&y<=127},ai.prototype.isColorPAC=function(M){return M>=64&&M<=79||M>=96&&M<=127},ai.prototype.isNormalChar=function(M){return M>=32&&M<=127},ai.prototype.setRollUp=function(M,y){if(this.mode_!=="rollUp"&&(this.row_=Su,this.mode_="rollUp",this.flushDisplayed(M),this.nonDisplayed_=La(),this.displayed_=La()),y!==void 0&&y!==this.row_)for(var _=0;_<this.rollUpRows_;_++)this.displayed_[y-_]=this.displayed_[this.row_-_],this.displayed_[this.row_-_]="";y===void 0&&(y=this.row_),this.topRow_=y-this.rollUpRows_+1},ai.prototype.addFormatting=function(M,y){this.formatting_=this.formatting_.concat(y);var _=y.reduce(function(k,S){return k+"<"+S+">"},"");this[this.mode_](M,_)},ai.prototype.clearFormatting=function(M){if(!!this.formatting_.length){var y=this.formatting_.reverse().reduce(function(_,k){return _+"</"+k+">"},"");this.formatting_=[],this[this.mode_](M,y)}},ai.prototype.popOn=function(M,y){var _=this.nonDisplayed_[this.row_];_+=y,this.nonDisplayed_[this.row_]=_},ai.prototype.rollUp=function(M,y){var _=this.displayed_[this.row_];_+=y,this.displayed_[this.row_]=_},ai.prototype.shiftRowsUp_=function(){var M;for(M=0;M<this.topRow_;M++)this.displayed_[M]="";for(M=this.row_+1;M<Su+1;M++)this.displayed_[M]="";for(M=this.topRow_;M<this.row_;M++)this.displayed_[M]=this.displayed_[M+1];this.displayed_[this.row_]=""},ai.prototype.paintOn=function(M,y){var _=this.displayed_[this.row_];_+=y,this.displayed_[this.row_]=_};var Cu={CaptionStream:Tn,Cea608Stream:ai,Cea708Stream:Gt},Hi={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},rb=8589934592,nx=4294967296,ob="shared",dp=function(y,_){var k=1;for(y>_&&(k=-1);Math.abs(_-y)>nx;)y+=k*rb;return y},ab=function M(y){var _,k;M.prototype.init.call(this),this.type_=y||ob,this.push=function(S){this.type_!==ob&&S.type!==this.type_||(k===void 0&&(k=S.dts),S.dts=dp(S.dts,k),S.pts=dp(S.pts,k),_=S.dts,this.trigger("data",S))},this.flush=function(){k=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){k=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};ab.prototype=new e;var sb={TimestampRolloverStream:ab,handleRollover:dp},lb=function(y,_,k){var S,I="";for(S=_;S<k;S++)I+="%"+("00"+y[S].toString(16)).slice(-2);return I},Oa=function(y,_,k){return decodeURIComponent(lb(y,_,k))},rx=function(y,_,k){return unescape(lb(y,_,k))},Da=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},cb={TXXX:function(y){var _;if(y.data[0]===3){for(_=1;_<y.data.length;_++)if(y.data[_]===0){y.description=Oa(y.data,1,_),y.value=Oa(y.data,_+1,y.data.length).replace(/\0*$/,"");break}y.data=y.value}},WXXX:function(y){var _;if(y.data[0]===3){for(_=1;_<y.data.length;_++)if(y.data[_]===0){y.description=Oa(y.data,1,_),y.url=Oa(y.data,_+1,y.data.length);break}}},PRIV:function(y){var _;for(_=0;_<y.data.length;_++)if(y.data[_]===0){y.owner=rx(y.data,0,_);break}y.privateData=y.data.subarray(_+1),y.data=y.privateData}},Eu;Eu=function(y){var _={descriptor:y&&y.descriptor},k=0,S=[],I=0,R;if(Eu.prototype.init.call(this),this.dispatchType=Hi.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(R=0;R<_.descriptor.length;R++)this.dispatchType+=("00"+_.descriptor[R].toString(16)).slice(-2);this.push=function(U){var G,q,V,J,he,Ue;if(U.type==="timed-metadata"){if(U.dataAlignmentIndicator&&(I=0,S.length=0),S.length===0&&(U.data.length<10||U.data[0]!=="I".charCodeAt(0)||U.data[1]!=="D".charCodeAt(0)||U.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(S.push(U),I+=U.data.byteLength,S.length===1&&(k=Da(U.data.subarray(6,10)),k+=10),!(I<k)){for(G={data:new Uint8Array(k),frames:[],pts:S[0].pts,dts:S[0].dts},he=0;he<k;)G.data.set(S[0].data.subarray(0,k-he),he),he+=S[0].data.byteLength,I-=S[0].data.byteLength,S.shift();q=10,G.data[5]&64&&(q+=4,q+=Da(G.data.subarray(10,14)),k-=Da(G.data.subarray(16,20)));do{if(V=Da(G.data.subarray(q+4,q+8)),V<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Ue=String.fromCharCode(G.data[q],G.data[q+1],G.data[q+2],G.data[q+3]),J={id:Ue,data:G.data.subarray(q+10,q+V+10)},J.key=J.id,cb[J.id]&&(cb[J.id](J),J.owner==="com.apple.streaming.transportStreamTimestamp")){var Qe=J.data,Se=(Qe[3]&1)<<30|Qe[4]<<22|Qe[5]<<14|Qe[6]<<6|Qe[7]>>>2;Se*=4,Se+=Qe[7]&3,J.timeStamp=Se,G.pts===void 0&&G.dts===void 0&&(G.pts=J.timeStamp,G.dts=J.timeStamp),this.trigger("timestamp",J)}G.frames.push(J),q+=10,q+=V}while(q<k);this.trigger("data",G)}}}},Eu.prototype=new e;var ox=Eu,ub=sb.TimestampRolloverStream,Xl,Bs,zu,Fs=188,fp=71;Xl=function(){var y=new Uint8Array(Fs),_=0;Xl.prototype.init.call(this),this.push=function(k){var S=0,I=Fs,R;for(_?(R=new Uint8Array(k.byteLength+_),R.set(y.subarray(0,_)),R.set(k,_),_=0):R=k;I<R.byteLength;){if(R[S]===fp&&R[I]===fp){this.trigger("data",R.subarray(S,I)),S+=Fs,I+=Fs;continue}S++,I++}S<R.byteLength&&(y.set(R.subarray(S),0),_=R.byteLength-S)},this.flush=function(){_===Fs&&y[0]===fp&&(this.trigger("data",y),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},Xl.prototype=new e,Bs=function(){var y,_,k,S;Bs.prototype.init.call(this),S=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,y=function(R,U){var G=0;U.payloadUnitStartIndicator&&(G+=R[G]+1),U.type==="pat"?_(R.subarray(G),U):k(R.subarray(G),U)},_=function(R,U){U.section_number=R[7],U.last_section_number=R[8],S.pmtPid=(R[10]&31)<<8|R[11],U.pmtPid=S.pmtPid},k=function(R,U){var G,q,V,J;if(!!(R[5]&1)){for(S.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(R[1]&15)<<8|R[2],q=3+G-4,V=(R[10]&15)<<8|R[11],J=12+V;J<q;){var he=R[J],Ue=(R[J+1]&31)<<8|R[J+2];he===Hi.H264_STREAM_TYPE&&S.programMapTable.video===null?S.programMapTable.video=Ue:he===Hi.ADTS_STREAM_TYPE&&S.programMapTable.audio===null?S.programMapTable.audio=Ue:he===Hi.METADATA_STREAM_TYPE&&(S.programMapTable["timed-metadata"][Ue]=he),J+=((R[J+3]&15)<<8|R[J+4])+5}U.programMapTable=S.programMapTable}},this.push=function(I){var R={},U=4;if(R.payloadUnitStartIndicator=!!(I[1]&64),R.pid=I[1]&31,R.pid<<=8,R.pid|=I[2],(I[3]&48)>>>4>1&&(U+=I[U]+1),R.pid===0)R.type="pat",y(I.subarray(U),R),this.trigger("data",R);else if(R.pid===this.pmtPid)for(R.type="pmt",y(I.subarray(U),R),this.trigger("data",R);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([I,U,R]):this.processPes_(I,U,R)},this.processPes_=function(I,R,U){U.pid===this.programMapTable.video?U.streamType=Hi.H264_STREAM_TYPE:U.pid===this.programMapTable.audio?U.streamType=Hi.ADTS_STREAM_TYPE:U.streamType=this.programMapTable["timed-metadata"][U.pid],U.type="pes",U.data=I.subarray(R),this.trigger("data",U)}},Bs.prototype=new e,Bs.STREAM_TYPES={h264:27,adts:15},zu=function(){var y=this,_=!1,k={data:[],size:0},S={data:[],size:0},I={data:[],size:0},R,U=function(V,J){var he,Ue=V[0]<<16|V[1]<<8|V[2];J.data=new Uint8Array,Ue===1&&(J.packetLength=6+(V[4]<<8|V[5]),J.dataAlignmentIndicator=(V[6]&4)!==0,he=V[7],he&192&&(J.pts=(V[9]&14)<<27|(V[10]&255)<<20|(V[11]&254)<<12|(V[12]&255)<<5|(V[13]&254)>>>3,J.pts*=4,J.pts+=(V[13]&6)>>>1,J.dts=J.pts,he&64&&(J.dts=(V[14]&14)<<27|(V[15]&255)<<20|(V[16]&254)<<12|(V[17]&255)<<5|(V[18]&254)>>>3,J.dts*=4,J.dts+=(V[18]&6)>>>1)),J.data=V.subarray(9+V[8]))},G=function(V,J,he){var Ue=new Uint8Array(V.size),Qe={type:J},Se=0,Y=0,le=!1,oe;if(!(!V.data.length||V.size<9)){for(Qe.trackId=V.data[0].pid,Se=0;Se<V.data.length;Se++)oe=V.data[Se],Ue.set(oe.data,Y),Y+=oe.data.byteLength;U(Ue,Qe),le=J==="video"||Qe.packetLength<=V.size,(he||le)&&(V.size=0,V.data.length=0),le&&y.trigger("data",Qe)}};zu.prototype.init.call(this),this.push=function(q){({pat:function(){},pes:function(){var J,he;switch(q.streamType){case Hi.H264_STREAM_TYPE:J=k,he="video";break;case Hi.ADTS_STREAM_TYPE:J=S,he="audio";break;case Hi.METADATA_STREAM_TYPE:J=I,he="timed-metadata";break;default:return}q.payloadUnitStartIndicator&&G(J,he,!0),J.data.push(q),J.size+=q.data.byteLength},pmt:function(){var J={type:"metadata",tracks:[]};R=q.programMapTable,R.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),_=!0,y.trigger("data",J)}})[q.type]()},this.reset=function(){k.size=0,k.data.length=0,S.size=0,S.data.length=0,this.trigger("reset")},this.flushStreams_=function(){G(k,"video"),G(S,"audio"),G(I,"timed-metadata")},this.flush=function(){if(!_&&R){var q={type:"metadata",tracks:[]};R.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),y.trigger("data",q)}_=!1,this.flushStreams_(),this.trigger("done")}},zu.prototype=new e;var db={PAT_PID:0,MP2T_PACKET_LENGTH:Fs,TransportPacketStream:Xl,TransportParseStream:Bs,ElementaryStream:zu,TimestampRolloverStream:ub,CaptionStream:Cu.CaptionStream,Cea608Stream:Cu.Cea608Stream,Cea708Stream:Cu.Cea708Stream,MetadataStream:ox};for(var Iu in Hi)Hi.hasOwnProperty(Iu)&&(db[Iu]=Hi[Iu]);var no=db,fb=ht.ONE_SECOND_IN_TS,Ns,pb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Ns=function(y){var _,k=0;Ns.prototype.init.call(this),this.skipWarn_=function(S,I){this.trigger("log",{level:"warn",message:"adts skiping bytes "+S+" to "+I+" in frame "+k+" outside syncword"})},this.push=function(S){var I=0,R,U,G,q,V;if(y||(k=0),S.type==="audio"){_&&_.length?(G=_,_=new Uint8Array(G.byteLength+S.data.byteLength),_.set(G),_.set(S.data,G.byteLength)):_=S.data;for(var J;I+7<_.length;){if(_[I]!==255||(_[I+1]&246)!==240){typeof J!="number"&&(J=I),I++;continue}if(typeof J=="number"&&(this.skipWarn_(J,I),J=null),U=(~_[I+1]&1)*2,R=(_[I+3]&3)<<11|_[I+4]<<3|(_[I+5]&224)>>5,q=((_[I+6]&3)+1)*1024,V=q*fb/pb[(_[I+2]&60)>>>2],_.byteLength-I<R)break;this.trigger("data",{pts:S.pts+k*V,dts:S.dts+k*V,sampleCount:q,audioobjecttype:(_[I+2]>>>6&3)+1,channelcount:(_[I+2]&1)<<2|(_[I+3]&192)>>>6,samplerate:pb[(_[I+2]&60)>>>2],samplingfrequencyindex:(_[I+2]&60)>>>2,samplesize:16,data:_.subarray(I+7+U,I+R)}),k++,I+=R}typeof J=="number"&&(this.skipWarn_(J,I),J=null),_=_.subarray(I)}},this.flush=function(){k=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},Ns.prototype=new e;var pp=Ns,Jl;Jl=function(y){var _=y.byteLength,k=0,S=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+S},this.loadWord=function(){var I=y.byteLength-_,R=new Uint8Array(4),U=Math.min(4,_);if(U===0)throw new Error("no bytes available");R.set(y.subarray(I,I+U)),k=new DataView(R.buffer).getUint32(0),S=U*8,_-=U},this.skipBits=function(I){var R;S>I?(k<<=I,S-=I):(I-=S,R=Math.floor(I/8),I-=R*8,_-=R,this.loadWord(),k<<=I,S-=I)},this.readBits=function(I){var R=Math.min(S,I),U=k>>>32-R;return S-=R,S>0?k<<=R:_>0&&this.loadWord(),R=I-R,R>0?U<<R|this.readBits(R):U},this.skipLeadingZeros=function(){var I;for(I=0;I<S;++I)if((k&2147483648>>>I)!==0)return k<<=I,S-=I,I;return this.loadWord(),I+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var I=this.skipLeadingZeros();return this.readBits(I+1)-1},this.readExpGolomb=function(){var I=this.readUnsignedExpGolomb();return 1&I?1+I>>>1:-1*(I>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var hb=Jl,Ru,js,hp;js=function(){var y=0,_,k;js.prototype.init.call(this),this.push=function(S){var I;k?(I=new Uint8Array(k.byteLength+S.data.byteLength),I.set(k),I.set(S.data,k.byteLength),k=I):k=S.data;for(var R=k.byteLength;y<R-3;y++)if(k[y+2]===1){_=y+5;break}for(;_<R;)switch(k[_]){case 0:if(k[_-1]!==0){_+=2;break}else if(k[_-2]!==0){_++;break}y+3!==_-2&&this.trigger("data",k.subarray(y+3,_-2));do _++;while(k[_]!==1&&_<R);y=_-2,_+=3;break;case 1:if(k[_-1]!==0||k[_-2]!==0){_+=3;break}this.trigger("data",k.subarray(y+3,_-2)),y=_-2,_+=3;break;default:_+=3;break}k=k.subarray(y),_-=y,y=0},this.reset=function(){k=null,y=0,this.trigger("reset")},this.flush=function(){k&&k.byteLength>3&&this.trigger("data",k.subarray(y+3)),k=null,y=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},js.prototype=new e,hp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Ru=function(){var y=new js,_,k,S,I,R,U,G;Ru.prototype.init.call(this),_=this,this.push=function(q){q.type==="video"&&(k=q.trackId,S=q.pts,I=q.dts,y.push(q))},y.on("data",function(q){var V={trackId:k,pts:S,dts:I,data:q,nalUnitTypeCode:q[0]&31};switch(V.nalUnitTypeCode){case 5:V.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:V.nalUnitType="sei_rbsp",V.escapedRBSP=R(q.subarray(1));break;case 7:V.nalUnitType="seq_parameter_set_rbsp",V.escapedRBSP=R(q.subarray(1)),V.config=U(V.escapedRBSP);break;case 8:V.nalUnitType="pic_parameter_set_rbsp";break;case 9:V.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",V)}),y.on("done",function(){_.trigger("done")}),y.on("partialdone",function(){_.trigger("partialdone")}),y.on("reset",function(){_.trigger("reset")}),y.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){y.flush()},this.partialFlush=function(){y.partialFlush()},this.reset=function(){y.reset()},this.endTimeline=function(){y.endTimeline()},G=function(V,J){var he=8,Ue=8,Qe,Se;for(Qe=0;Qe<V;Qe++)Ue!==0&&(Se=J.readExpGolomb(),Ue=(he+Se+256)%256),he=Ue===0?he:Ue},R=function(V){for(var J=V.byteLength,he=[],Ue=1,Qe,Se;Ue<J-2;)V[Ue]===0&&V[Ue+1]===0&&V[Ue+2]===3?(he.push(Ue+2),Ue+=2):Ue++;if(he.length===0)return V;Qe=J-he.length,Se=new Uint8Array(Qe);var Y=0;for(Ue=0;Ue<Qe;Y++,Ue++)Y===he[0]&&(Y++,he.shift()),Se[Ue]=V[Y];return Se},U=function(V){var J=0,he=0,Ue=0,Qe=0,Se,Y,le,oe,Ge,lt,It,vi,Ht,ic,Lb,Rt=[1,1],nc,Fa;if(Se=new hb(V),Y=Se.readUnsignedByte(),oe=Se.readUnsignedByte(),le=Se.readUnsignedByte(),Se.skipUnsignedExpGolomb(),hp[Y]&&(Ge=Se.readUnsignedExpGolomb(),Ge===3&&Se.skipBits(1),Se.skipUnsignedExpGolomb(),Se.skipUnsignedExpGolomb(),Se.skipBits(1),Se.readBoolean()))for(Lb=Ge!==3?8:12,Fa=0;Fa<Lb;Fa++)Se.readBoolean()&&(Fa<6?G(16,Se):G(64,Se));if(Se.skipUnsignedExpGolomb(),lt=Se.readUnsignedExpGolomb(),lt===0)Se.readUnsignedExpGolomb();else if(lt===1)for(Se.skipBits(1),Se.skipExpGolomb(),Se.skipExpGolomb(),It=Se.readUnsignedExpGolomb(),Fa=0;Fa<It;Fa++)Se.skipExpGolomb();if(Se.skipUnsignedExpGolomb(),Se.skipBits(1),vi=Se.readUnsignedExpGolomb(),Ht=Se.readUnsignedExpGolomb(),ic=Se.readBits(1),ic===0&&Se.skipBits(1),Se.skipBits(1),Se.readBoolean()&&(J=Se.readUnsignedExpGolomb(),he=Se.readUnsignedExpGolomb(),Ue=Se.readUnsignedExpGolomb(),Qe=Se.readUnsignedExpGolomb()),Se.readBoolean()&&Se.readBoolean()){switch(nc=Se.readUnsignedByte(),nc){case 1:Rt=[1,1];break;case 2:Rt=[12,11];break;case 3:Rt=[10,11];break;case 4:Rt=[16,11];break;case 5:Rt=[40,33];break;case 6:Rt=[24,11];break;case 7:Rt=[20,11];break;case 8:Rt=[32,11];break;case 9:Rt=[80,33];break;case 10:Rt=[18,11];break;case 11:Rt=[15,11];break;case 12:Rt=[64,33];break;case 13:Rt=[160,99];break;case 14:Rt=[4,3];break;case 15:Rt=[3,2];break;case 16:Rt=[2,1];break;case 255:{Rt=[Se.readUnsignedByte()<<8|Se.readUnsignedByte(),Se.readUnsignedByte()<<8|Se.readUnsignedByte()];break}}Rt&&Rt[0]/Rt[1]}return{profileIdc:Y,levelIdc:le,profileCompatibility:oe,width:(vi+1)*16-J*2-he*2,height:(2-ic)*(Ht+1)*16-Ue*2-Qe*2,sarRatio:Rt}}},Ru.prototype=new e;var mp={H264Stream:Ru,NalByteStream:js},ax=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],gp=function(y,_){var k=y[_+6]<<21|y[_+7]<<14|y[_+8]<<7|y[_+9],S=y[_+5],I=(S&16)>>4;return k=k>=0?k:0,I?k+20:k+10},bp=function M(y,_){return y.length-_<10||y[_]!=="I".charCodeAt(0)||y[_+1]!=="D".charCodeAt(0)||y[_+2]!=="3".charCodeAt(0)?_:(_+=gp(y,_),M(y,_))},vp=function(y){var _=bp(y,0);return y.length>=_+2&&(y[_]&255)===255&&(y[_+1]&240)===240&&(y[_+1]&22)===16},Ma=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},mb=function(y,_,k){var S,I="";for(S=_;S<k;S++)I+="%"+("00"+y[S].toString(16)).slice(-2);return I},gb=function(y,_,k){return unescape(mb(y,_,k))},sx=function(y,_){var k=(y[_+5]&224)>>5,S=y[_+4]<<3,I=y[_+3]&3<<11;return I|S|k},bb=function(y,_){return y[_]==="I".charCodeAt(0)&&y[_+1]==="D".charCodeAt(0)&&y[_+2]==="3".charCodeAt(0)?"timed-metadata":y[_]&!0&&(y[_+1]&240)===240?"audio":null},vb=function(y){for(var _=0;_+5<y.length;){if(y[_]!==255||(y[_+1]&246)!==240){_++;continue}return ax[(y[_+2]&60)>>>2]}return null},yb=function(y){var _,k,S,I;_=10,y[5]&64&&(_+=4,_+=Ma(y.subarray(10,14)));do{if(k=Ma(y.subarray(_+4,_+8)),k<1)return null;if(I=String.fromCharCode(y[_],y[_+1],y[_+2],y[_+3]),I==="PRIV"){S=y.subarray(_+10,_+k+10);for(var R=0;R<S.byteLength;R++)if(S[R]===0){var U=gb(S,0,R);if(U==="com.apple.streaming.transportStreamTimestamp"){var G=S.subarray(R+1),q=(G[3]&1)<<30|G[4]<<22|G[5]<<14|G[6]<<6|G[7]>>>2;return q*=4,q+=G[7]&3,q}break}}_+=10,_+=k}while(_<y.byteLength);return null},Zl={isLikelyAacData:vp,parseId3TagSize:gp,parseAdtsSize:sx,parseType:bb,parseSampleRate:vb,parseAacTimestamp:yb},Pu;Pu=function(){var y=new Uint8Array,_=0;Pu.prototype.init.call(this),this.setTimestamp=function(k){_=k},this.push=function(k){var S=0,I=0,R,U,G,q;for(y.length?(q=y.length,y=new Uint8Array(k.byteLength+q),y.set(y.subarray(0,q)),y.set(k,q)):y=k;y.length-I>=3;){if(y[I]==="I".charCodeAt(0)&&y[I+1]==="D".charCodeAt(0)&&y[I+2]==="3".charCodeAt(0)){if(y.length-I<10||(S=Zl.parseId3TagSize(y,I),I+S>y.length))break;U={type:"timed-metadata",data:y.subarray(I,I+S)},this.trigger("data",U),I+=S;continue}else if((y[I]&255)===255&&(y[I+1]&240)===240){if(y.length-I<7||(S=Zl.parseAdtsSize(y,I),I+S>y.length))break;G={type:"audio",data:y.subarray(I,I+S),pts:_,dts:_},this.trigger("data",G),I+=S;continue}I++}R=y.length-I,R>0?y=y.subarray(I):y=new Uint8Array},this.reset=function(){y=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){y=new Uint8Array,this.trigger("endedtimeline")}},Pu.prototype=new e;var lx=Pu,cx=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Lu=cx,ux=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],yp=ux,dx=mp.H264Stream,fx=Zl.isLikelyAacData,wp=ht.ONE_SECOND_IN_TS,ec,Us,Ou,Ba,px=function(y,_){_.stream=y,this.trigger("log",_)},ii=function(y,_){for(var k=Object.keys(_),S=0;S<k.length;S++){var I=k[S];I==="headOfPipeline"||!_[I].on||_[I].on("log",px.bind(y,I))}},$t=function(y,_){var k;if(y.length!==_.length)return!1;for(k=0;k<y.length;k++)if(y[k]!==_[k])return!1;return!0},Ap=function(y,_,k,S,I,R){var U=k-_,G=S-_,q=I-k;return{start:{dts:y,pts:y+U},end:{dts:y+G,pts:y+q},prependedContentDuration:R,baseMediaDecodeTime:y}};Us=function(y,_){var k=[],S,I=0,R=0,U=1/0;_=_||{},S=_.firstSequenceNumber||0,Us.prototype.init.call(this),this.push=function(G){Pr.collectDtsInfo(y,G),y&&Lu.forEach(function(q){y[q]=G[q]}),k.push(G)},this.setEarliestDts=function(G){I=G},this.setVideoBaseMediaDecodeTime=function(G){U=G},this.setAudioAppendStart=function(G){R=G},this.flush=function(){var G,q,V,J,he,Ue,Qe;if(k.length===0){this.trigger("done","AudioSegmentStream");return}G=Ms.trimAdtsFramesByEarliestDts(k,y,I),y.baseMediaDecodeTime=Pr.calculateTrackBaseMediaDecodeTime(y,_.keepOriginalTimestamps),Qe=Ms.prefixWithSilence(y,G,R,U),y.samples=Ms.generateSampleTable(G),V=ce.mdat(Ms.concatenateFrameData(G)),k=[],q=ce.moof(S,[y]),J=new Uint8Array(q.byteLength+V.byteLength),S++,J.set(q),J.set(V,q.byteLength),Pr.clearDtsInfo(y),he=Math.ceil(wp*1024/y.samplerate),G.length&&(Ue=G.length*he,this.trigger("segmentTimingInfo",Ap(ht.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),G[0].dts,G[0].pts,G[0].dts+Ue,G[0].pts+Ue,Qe||0)),this.trigger("timingInfo",{start:G[0].pts,end:G[0].pts+Ue})),this.trigger("data",{track:y,boxes:J}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Pr.clearDtsInfo(y),k=[],this.trigger("reset")}},Us.prototype=new e,ec=function(y,_){var k,S=[],I=[],R,U;_=_||{},k=_.firstSequenceNumber||0,ec.prototype.init.call(this),delete y.minPTS,this.gopCache_=[],this.push=function(G){Pr.collectDtsInfo(y,G),G.nalUnitType==="seq_parameter_set_rbsp"&&!R&&(R=G.config,y.sps=[G.data],yp.forEach(function(q){y[q]=R[q]},this)),G.nalUnitType==="pic_parameter_set_rbsp"&&!U&&(U=G.data,y.pps=[G.data]),S.push(G)},this.flush=function(){for(var G,q,V,J,he,Ue,Qe=0,Se,Y;S.length&&S[0].nalUnitType!=="access_unit_delimiter_rbsp";)S.shift();if(S.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(G=ti.groupNalsIntoFrames(S),V=ti.groupFramesIntoGops(G),V[0][0].keyFrame||(q=this.getGopForFusion_(S[0],y),q?(Qe=q.duration,V.unshift(q),V.byteLength+=q.byteLength,V.nalCount+=q.nalCount,V.pts=q.pts,V.dts=q.dts,V.duration+=q.duration):V=ti.extendFirstKeyFrame(V)),I.length){var le;if(_.alignGopsAtEnd?le=this.alignGopsAtEnd_(V):le=this.alignGopsAtStart_(V),!le){this.gopCache_.unshift({gop:V.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Pr.clearDtsInfo(y),V=le}Pr.collectDtsInfo(y,V),y.samples=ti.generateSampleTable(V),he=ce.mdat(ti.concatenateNalData(V)),y.baseMediaDecodeTime=Pr.calculateTrackBaseMediaDecodeTime(y,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",V.map(function(oe){return{pts:oe.pts,dts:oe.dts,byteLength:oe.byteLength}})),Se=V[0],Y=V[V.length-1],this.trigger("segmentTimingInfo",Ap(y.baseMediaDecodeTime,Se.dts,Se.pts,Y.dts+Y.duration,Y.pts+Y.duration,Qe)),this.trigger("timingInfo",{start:V[0].pts,end:V[V.length-1].pts+V[V.length-1].duration}),this.gopCache_.unshift({gop:V.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.trigger("baseMediaDecodeTime",y.baseMediaDecodeTime),this.trigger("timelineStartInfo",y.timelineStartInfo),J=ce.moof(k,[y]),Ue=new Uint8Array(J.byteLength+he.byteLength),k++,Ue.set(J),Ue.set(he,J.byteLength),this.trigger("data",{track:y,boxes:Ue}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),S=[],this.gopCache_.length=0,I.length=0,this.trigger("reset")},this.resetStream_=function(){Pr.clearDtsInfo(y),R=void 0,U=void 0},this.getGopForFusion_=function(G){var q=45e3,V=1e4,J=1/0,he,Ue,Qe,Se,Y;for(Y=0;Y<this.gopCache_.length;Y++)Se=this.gopCache_[Y],Qe=Se.gop,!(!(y.pps&&$t(y.pps[0],Se.pps[0]))||!(y.sps&&$t(y.sps[0],Se.sps[0])))&&(Qe.dts<y.timelineStartInfo.dts||(he=G.dts-Qe.dts-Qe.duration,he>=-V&&he<=q&&(!Ue||J>he)&&(Ue=Se,J=he)));return Ue?Ue.gop:null},this.alignGopsAtStart_=function(G){var q,V,J,he,Ue,Qe,Se,Y;for(Ue=G.byteLength,Qe=G.nalCount,Se=G.duration,q=V=0;q<I.length&&V<G.length&&(J=I[q],he=G[V],J.pts!==he.pts);){if(he.pts>J.pts){q++;continue}V++,Ue-=he.byteLength,Qe-=he.nalCount,Se-=he.duration}return V===0?G:V===G.length?null:(Y=G.slice(V),Y.byteLength=Ue,Y.duration=Se,Y.nalCount=Qe,Y.pts=Y[0].pts,Y.dts=Y[0].dts,Y)},this.alignGopsAtEnd_=function(G){var q,V,J,he,Ue,Qe;for(q=I.length-1,V=G.length-1,Ue=null,Qe=!1;q>=0&&V>=0;){if(J=I[q],he=G[V],J.pts===he.pts){Qe=!0;break}if(J.pts>he.pts){q--;continue}q===I.length-1&&(Ue=V),V--}if(!Qe&&Ue===null)return null;var Se;if(Qe?Se=V:Se=Ue,Se===0)return G;var Y=G.slice(Se),le=Y.reduce(function(oe,Ge){return oe.byteLength+=Ge.byteLength,oe.duration+=Ge.duration,oe.nalCount+=Ge.nalCount,oe},{byteLength:0,duration:0,nalCount:0});return Y.byteLength=le.byteLength,Y.duration=le.duration,Y.nalCount=le.nalCount,Y.pts=Y[0].pts,Y.dts=Y[0].dts,Y},this.alignGopsWith=function(G){I=G}},ec.prototype=new e,Ba=function(y,_){this.numberOfTracks=0,this.metadataStream=_,y=y||{},typeof y.remux!="undefined"?this.remuxTracks=!!y.remux:this.remuxTracks=!0,typeof y.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=y.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ba.prototype.init.call(this),this.push=function(k){if(k.text)return this.pendingCaptions.push(k);if(k.frames)return this.pendingMetadata.push(k);this.pendingTracks.push(k.track),this.pendingBytes+=k.boxes.byteLength,k.track.type==="video"&&(this.videoTrack=k.track,this.pendingBoxes.push(k.boxes)),k.track.type==="audio"&&(this.audioTrack=k.track,this.pendingBoxes.unshift(k.boxes))}},Ba.prototype=new e,Ba.prototype.flush=function(M){var y=0,_={captions:[],captionStreams:{},metadata:[],info:{}},k,S,I,R=0,U;if(this.pendingTracks.length<this.numberOfTracks){if(M!=="VideoSegmentStream"&&M!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(R=this.videoTrack.timelineStartInfo.pts,yp.forEach(function(G){_.info[G]=this.videoTrack[G]},this)):this.audioTrack&&(R=this.audioTrack.timelineStartInfo.pts,Lu.forEach(function(G){_.info[G]=this.audioTrack[G]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?_.type=this.pendingTracks[0].type:_.type="combined",this.emittedTracks+=this.pendingTracks.length,I=ce.initSegment(this.pendingTracks),_.initSegment=new Uint8Array(I.byteLength),_.initSegment.set(I),_.data=new Uint8Array(this.pendingBytes),U=0;U<this.pendingBoxes.length;U++)_.data.set(this.pendingBoxes[U],y),y+=this.pendingBoxes[U].byteLength;for(U=0;U<this.pendingCaptions.length;U++)k=this.pendingCaptions[U],k.startTime=ht.metadataTsToSeconds(k.startPts,R,this.keepOriginalTimestamps),k.endTime=ht.metadataTsToSeconds(k.endPts,R,this.keepOriginalTimestamps),_.captionStreams[k.stream]=!0,_.captions.push(k);for(U=0;U<this.pendingMetadata.length;U++)S=this.pendingMetadata[U],S.cueTime=ht.metadataTsToSeconds(S.pts,R,this.keepOriginalTimestamps),_.metadata.push(S);for(_.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_),U=0;U<_.captions.length;U++)k=_.captions[U],this.trigger("caption",k);for(U=0;U<_.metadata.length;U++)S=_.metadata[U],this.trigger("id3Frame",S)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ba.prototype.setRemux=function(M){this.remuxTracks=M},Ou=function(y){var _=this,k=!0,S,I;Ou.prototype.init.call(this),y=y||{},this.baseMediaDecodeTime=y.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="aac",R.metadataStream=new no.MetadataStream,R.aacStream=new lx,R.audioTimestampRolloverStream=new no.TimestampRolloverStream("audio"),R.timedMetadataTimestampRolloverStream=new no.TimestampRolloverStream("timed-metadata"),R.adtsStream=new pp,R.coalesceStream=new Ba(y,R.metadataStream),R.headOfPipeline=R.aacStream,R.aacStream.pipe(R.audioTimestampRolloverStream).pipe(R.adtsStream),R.aacStream.pipe(R.timedMetadataTimestampRolloverStream).pipe(R.metadataStream).pipe(R.coalesceStream),R.metadataStream.on("timestamp",function(U){R.aacStream.setTimestamp(U.timeStamp)}),R.aacStream.on("data",function(U){U.type!=="timed-metadata"&&U.type!=="audio"||R.audioSegmentStream||(I=I||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new Us(I,y),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream),_.trigger("trackinfo",{hasAudio:!!I,hasVideo:!!S}))}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),ii(this,R)},this.setupTsPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="ts",R.metadataStream=new no.MetadataStream,R.packetStream=new no.TransportPacketStream,R.parseStream=new no.TransportParseStream,R.elementaryStream=new no.ElementaryStream,R.timestampRolloverStream=new no.TimestampRolloverStream,R.adtsStream=new pp,R.h264Stream=new dx,R.captionStream=new no.CaptionStream(y),R.coalesceStream=new Ba(y,R.metadataStream),R.headOfPipeline=R.packetStream,R.packetStream.pipe(R.parseStream).pipe(R.elementaryStream).pipe(R.timestampRolloverStream),R.timestampRolloverStream.pipe(R.h264Stream),R.timestampRolloverStream.pipe(R.adtsStream),R.timestampRolloverStream.pipe(R.metadataStream).pipe(R.coalesceStream),R.h264Stream.pipe(R.captionStream).pipe(R.coalesceStream),R.elementaryStream.on("data",function(U){var G;if(U.type==="metadata"){for(G=U.tracks.length;G--;)!S&&U.tracks[G].type==="video"?(S=U.tracks[G],S.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!I&&U.tracks[G].type==="audio"&&(I=U.tracks[G],I.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);S&&!R.videoSegmentStream&&(R.coalesceStream.numberOfTracks++,R.videoSegmentStream=new ec(S,y),R.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),R.videoSegmentStream.on("timelineStartInfo",function(q){I&&!y.keepOriginalTimestamps&&(I.timelineStartInfo=q,R.audioSegmentStream.setEarliestDts(q.dts-_.baseMediaDecodeTime))}),R.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),R.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),R.videoSegmentStream.on("baseMediaDecodeTime",function(q){I&&R.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),R.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),R.h264Stream.pipe(R.videoSegmentStream).pipe(R.coalesceStream)),I&&!R.audioSegmentStream&&(R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new Us(I,y),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!I,hasVideo:!!S})}}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("id3Frame",function(U){U.dispatchType=R.metadataStream.dispatchType,_.trigger("id3Frame",U)}),R.coalesceStream.on("caption",this.trigger.bind(this,"caption")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),ii(this,R)},this.setBaseMediaDecodeTime=function(R){var U=this.transmuxPipeline_;y.keepOriginalTimestamps||(this.baseMediaDecodeTime=R),I&&(I.timelineStartInfo.dts=void 0,I.timelineStartInfo.pts=void 0,Pr.clearDtsInfo(I),U.audioTimestampRolloverStream&&U.audioTimestampRolloverStream.discontinuity()),S&&(U.videoSegmentStream&&(U.videoSegmentStream.gopCache_=[]),S.timelineStartInfo.dts=void 0,S.timelineStartInfo.pts=void 0,Pr.clearDtsInfo(S),U.captionStream.reset()),U.timestampRolloverStream&&U.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(R){I&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(R)},this.setRemux=function(R){var U=this.transmuxPipeline_;y.remux=R,U&&U.coalesceStream&&U.coalesceStream.setRemux(R)},this.alignGopsWith=function(R){S&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(R)},this.getLogTrigger_=function(R){var U=this;return function(G){G.stream=R,U.trigger("log",G)}},this.push=function(R){if(k){var U=fx(R);U&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!U&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),k=!1}this.transmuxPipeline_.headOfPipeline.push(R)},this.flush=function(){k=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ou.prototype=new e;var hx={Transmuxer:Ou,VideoSegmentStream:ec,AudioSegmentStream:Us,AUDIO_PROPERTIES:Lu,VIDEO_PROPERTIES:yp,generateSegmentTimingInfo:Ap},mx=function(y){return y>>>0},gx=function(y){return("00"+y.toString(16)).slice(-2)},Du={toUnsigned:mx,toHexString:gx},bx=function(y){var _="";return _+=String.fromCharCode(y[0]),_+=String.fromCharCode(y[1]),_+=String.fromCharCode(y[2]),_+=String.fromCharCode(y[3]),_},Wo=bx,vx=Du.toUnsigned,Wi=function M(y,_){var k=[],S,I,R,U,G;if(!_.length)return null;for(S=0;S<y.byteLength;)I=vx(y[S]<<24|y[S+1]<<16|y[S+2]<<8|y[S+3]),R=Wo(y.subarray(S+4,S+8)),U=I>1?S+I:y.byteLength,R===_[0]&&(_.length===1?k.push(y.subarray(S+8,U)):(G=M(y.subarray(S+8,U),_.slice(1)),G.length&&(k=k.concat(G)))),S=U;return k},Qt=Wi,Yo=Du.toUnsigned,wb=function(y){var _={version:y[0],flags:new Uint8Array(y.subarray(1,4)),baseMediaDecodeTime:Yo(y[4]<<24|y[5]<<16|y[6]<<8|y[7])};return _.version===1&&(_.baseMediaDecodeTime*=Math.pow(2,32),_.baseMediaDecodeTime+=Yo(y[8]<<24|y[9]<<16|y[10]<<8|y[11])),_},Mu=wb,sr=function(y){return{isLeading:(y[0]&12)>>>2,dependsOn:y[0]&3,isDependedOn:(y[1]&192)>>>6,hasRedundancy:(y[1]&48)>>>4,paddingValue:(y[1]&14)>>>1,isNonSyncSample:y[1]&1,degradationPriority:y[2]<<8|y[3]}},xp=sr,Ab=function(y){var _={version:y[0],flags:new Uint8Array(y.subarray(1,4)),samples:[]},k=new DataView(y.buffer,y.byteOffset,y.byteLength),S=_.flags[2]&1,I=_.flags[2]&4,R=_.flags[1]&1,U=_.flags[1]&2,G=_.flags[1]&4,q=_.flags[1]&8,V=k.getUint32(4),J=8,he;for(S&&(_.dataOffset=k.getInt32(J),J+=4),I&&V&&(he={flags:xp(y.subarray(J,J+4))},J+=4,R&&(he.duration=k.getUint32(J),J+=4),U&&(he.size=k.getUint32(J),J+=4),q&&(_.version===1?he.compositionTimeOffset=k.getInt32(J):he.compositionTimeOffset=k.getUint32(J),J+=4),_.samples.push(he),V--);V--;)he={},R&&(he.duration=k.getUint32(J),J+=4),U&&(he.size=k.getUint32(J),J+=4),G&&(he.flags=xp(y.subarray(J,J+4)),J+=4),q&&(_.version===1?he.compositionTimeOffset=k.getInt32(J):he.compositionTimeOffset=k.getUint32(J),J+=4),_.samples.push(he);return _},kp=Ab,xb=function(y){var _=new DataView(y.buffer,y.byteOffset,y.byteLength),k={version:y[0],flags:new Uint8Array(y.subarray(1,4)),trackId:_.getUint32(4)},S=k.flags[2]&1,I=k.flags[2]&2,R=k.flags[2]&8,U=k.flags[2]&16,G=k.flags[2]&32,q=k.flags[0]&65536,V=k.flags[0]&131072,J;return J=8,S&&(J+=4,k.baseDataOffset=_.getUint32(12),J+=4),I&&(k.sampleDescriptionIndex=_.getUint32(J),J+=4),R&&(k.defaultSampleDuration=_.getUint32(J),J+=4),U&&(k.defaultSampleSize=_.getUint32(J),J+=4),G&&(k.defaultSampleFlags=_.getUint32(J)),q&&(k.durationIsEmpty=!0),!S&&V&&(k.baseDataOffsetIsMoof=!0),k},_p=xb,kb=Kl.discardEmulationPreventionBytes,Hn=Cu.CaptionStream,yx=function(y,_){for(var k=y,S=0;S<_.length;S++){var I=_[S];if(k<I.size)return I;k-=I.size}return null},lr=function(y,_,k){var S=new DataView(y.buffer,y.byteOffset,y.byteLength),I={logs:[],seiNals:[]},R,U,G,q;for(U=0;U+4<y.length;U+=G)if(G=S.getUint32(U),U+=4,!(G<=0))switch(y[U]&31){case 6:var V=y.subarray(U+1,U+1+G),J=yx(U,_);if(R={nalUnitType:"sei_rbsp",size:G,data:V,escapedRBSP:kb(V),trackId:k},J)R.pts=J.pts,R.dts=J.dts,q=J;else if(q)R.pts=q.pts,R.dts=q.dts;else{I.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+U+" for trackId "+k+". See mux.js#223."});break}I.seiNals.push(R);break}return I},wx=function(y,_,k){var S=_,I=k.defaultSampleDuration||0,R=k.defaultSampleSize||0,U=k.trackId,G=[];return y.forEach(function(q){var V=kp(q),J=V.samples;J.forEach(function(he){he.duration===void 0&&(he.duration=I),he.size===void 0&&(he.size=R),he.trackId=U,he.dts=S,he.compositionTimeOffset===void 0&&(he.compositionTimeOffset=0),he.pts=S+he.compositionTimeOffset,S+=he.duration}),G=G.concat(J)}),G},_b=function(y,_){var k=Qt(y,["moof","traf"]),S=Qt(y,["mdat"]),I={},R=[];return S.forEach(function(U,G){var q=k[G];R.push({mdat:U,traf:q})}),R.forEach(function(U){var G=U.mdat,q=U.traf,V=Qt(q,["tfhd"]),J=_p(V[0]),he=J.trackId,Ue=Qt(q,["tfdt"]),Qe=Ue.length>0?Mu(Ue[0]).baseMediaDecodeTime:0,Se=Qt(q,["trun"]),Y,le;_===he&&Se.length>0&&(Y=wx(Se,Qe,J),le=lr(G,Y,he),I[he]||(I[he]={seiNals:[],logs:[]}),I[he].seiNals=I[he].seiNals.concat(le.seiNals),I[he].logs=I[he].logs.concat(le.logs))}),I},Vo=function(y,_,k){var S;if(_===null)return null;S=_b(y,_);var I=S[_]||{};return{seiNals:I.seiNals,logs:I.logs,timescale:k}},Bu=function(){var y=!1,_,k,S,I,R,U;this.isInitialized=function(){return y},this.init=function(G){_=new Hn,y=!0,U=G?G.isPartial:!1,_.on("data",function(q){q.startTime=q.startPts/I,q.endTime=q.endPts/I,R.captions.push(q),R.captionStreams[q.stream]=!0}),_.on("log",function(q){R.logs.push(q)})},this.isNewInit=function(G,q){return G&&G.length===0||q&&typeof q=="object"&&Object.keys(q).length===0?!1:S!==G[0]||I!==q[S]},this.parse=function(G,q,V){var J;if(this.isInitialized()){if(!q||!V)return null;if(this.isNewInit(q,V))S=q[0],I=V[S];else if(S===null||!I)return k.push(G),null}else return null;for(;k.length>0;){var he=k.shift();this.parse(he,q,V)}return J=Vo(G,S,I),J&&J.logs&&(R.logs=R.logs.concat(J.logs)),J===null||!J.seiNals?R.logs.length?{logs:R.logs,captions:[],captionStreams:[]}:null:(this.pushNals(J.seiNals),this.flushStream(),R)},this.pushNals=function(G){if(!this.isInitialized()||!G||G.length===0)return null;G.forEach(function(q){_.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;U?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){R.captions=[],R.captionStreams={},R.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){k=[],S=null,I=null,R?this.clearParsedCaptions():R={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Tp=Bu,jt=Du.toUnsigned,cr=Du.toHexString,Fu,Tb,Nu,Sb,Cb,Sp;Fu=function(y){var _={},k=Qt(y,["moov","trak"]);return k.reduce(function(S,I){var R,U,G,q,V;return R=Qt(I,["tkhd"])[0],!R||(U=R[0],G=U===0?12:20,q=jt(R[G]<<24|R[G+1]<<16|R[G+2]<<8|R[G+3]),V=Qt(I,["mdia","mdhd"])[0],!V)?null:(U=V[0],G=U===0?12:20,S[q]=jt(V[G]<<24|V[G+1]<<16|V[G+2]<<8|V[G+3]),S)},_)},Tb=function(y,_){var k,S,I;return k=Qt(_,["moof","traf"]),S=[].concat.apply([],k.map(function(R){return Qt(R,["tfhd"]).map(function(U){var G,q,V;return G=jt(U[4]<<24|U[5]<<16|U[6]<<8|U[7]),q=y[G]||9e4,V=Qt(R,["tfdt"]).map(function(J){var he,Ue;return he=J[0],Ue=jt(J[4]<<24|J[5]<<16|J[6]<<8|J[7]),he===1&&(Ue*=Math.pow(2,32),Ue+=jt(J[8]<<24|J[9]<<16|J[10]<<8|J[11])),Ue})[0],V=typeof V=="number"&&!isNaN(V)?V:1/0,V/q})})),I=Math.min.apply(null,S),isFinite(I)?I:0},Nu=function(y,_){var k=Qt(_,["moof","traf"]),S=0,I=0,R;if(k&&k.length){var U=Qt(k[0],["tfhd"])[0],G=Qt(k[0],["trun"])[0],q=Qt(k[0],["tfdt"])[0];if(U){var V=_p(U);R=V.trackId}if(q){var J=Mu(q);S=J.baseMediaDecodeTime}if(G){var he=kp(G);he.samples&&he.samples.length&&(I=he.samples[0].compositionTimeOffset||0)}}var Ue=y[R]||9e4;return(S+I)/Ue},Sb=function(y){var _=Qt(y,["moov","trak"]),k=[];return _.forEach(function(S){var I=Qt(S,["mdia","hdlr"]),R=Qt(S,["tkhd"]);I.forEach(function(U,G){var q=Wo(U.subarray(8,12)),V=R[G],J,he,Ue;q==="vide"&&(J=new DataView(V.buffer,V.byteOffset,V.byteLength),he=J.getUint8(0),Ue=he===0?J.getUint32(12):J.getUint32(20),k.push(Ue))})}),k},Sp=function(y){var _=y[0],k=_===0?12:20;return jt(y[k]<<24|y[k+1]<<16|y[k+2]<<8|y[k+3])},Cb=function(y){var _=Qt(y,["moov","trak"]),k=[];return _.forEach(function(S){var I={},R=Qt(S,["tkhd"])[0],U,G;R&&(U=new DataView(R.buffer,R.byteOffset,R.byteLength),G=U.getUint8(0),I.id=G===0?U.getUint32(12):U.getUint32(20));var q=Qt(S,["mdia","hdlr"])[0];if(q){var V=Wo(q.subarray(8,12));V==="vide"?I.type="video":V==="soun"?I.type="audio":I.type=V}var J=Qt(S,["mdia","minf","stbl","stsd"])[0];if(J){var he=J.subarray(8);I.codec=Wo(he.subarray(4,8));var Ue=Qt(he,[I.codec])[0],Qe,Se;Ue&&(/^[asm]vc[1-9]$/i.test(I.codec)?(Qe=Ue.subarray(78),Se=Wo(Qe.subarray(4,8)),Se==="avcC"&&Qe.length>11?(I.codec+=".",I.codec+=cr(Qe[9]),I.codec+=cr(Qe[10]),I.codec+=cr(Qe[11])):I.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(I.codec)?(Qe=Ue.subarray(28),Se=Wo(Qe.subarray(4,8)),Se==="esds"&&Qe.length>20&&Qe[19]!==0?(I.codec+="."+cr(Qe[19]),I.codec+="."+cr(Qe[20]>>>2&63).replace(/^0/,"")):I.codec="mp4a.40.2"):I.codec=I.codec.toLowerCase())}var Y=Qt(S,["mdia","mdhd"])[0];Y&&(I.timescale=Sp(Y)),k.push(I)}),k};var Cp={findBox:Qt,parseType:Wo,timescale:Fu,startTime:Tb,compositionStartTime:Nu,videoTrackIds:Sb,tracks:Cb,getTimescaleFromMediaHeader:Sp},tc=function(y){var _=y[1]&31;return _<<=8,_|=y[2],_},xo=function(y){return!!(y[1]&64)},ju=function(y){var _=0;return(y[3]&48)>>>4>1&&(_+=y[4]+1),_},Eb=function(y,_){var k=tc(y);return k===0?"pat":k===_?"pmt":_?"pes":null},zb=function(y){var _=xo(y),k=4+ju(y);return _&&(k+=y[k]+1),(y[k+10]&31)<<8|y[k+11]},Ep=function(y){var _={},k=xo(y),S=4+ju(y);if(k&&(S+=y[S]+1),!!(y[S+5]&1)){var I,R,U;I=(y[S+1]&15)<<8|y[S+2],R=3+I-4,U=(y[S+10]&15)<<8|y[S+11];for(var G=12+U;G<R;){var q=S+G;_[(y[q+1]&31)<<8|y[q+2]]=y[q],G+=((y[q+3]&15)<<8|y[q+4])+5}return _}},zp=function(y,_){var k=tc(y),S=_[k];switch(S){case Hi.H264_STREAM_TYPE:return"video";case Hi.ADTS_STREAM_TYPE:return"audio";case Hi.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Ib=function(y){var _=xo(y);if(!_)return null;var k=4+ju(y);if(k>=y.byteLength)return null;var S=null,I;return I=y[k+7],I&192&&(S={},S.pts=(y[k+9]&14)<<27|(y[k+10]&255)<<20|(y[k+11]&254)<<12|(y[k+12]&255)<<5|(y[k+13]&254)>>>3,S.pts*=4,S.pts+=(y[k+13]&6)>>>1,S.dts=S.pts,I&64&&(S.dts=(y[k+14]&14)<<27|(y[k+15]&255)<<20|(y[k+16]&254)<<12|(y[k+17]&255)<<5|(y[k+18]&254)>>>3,S.dts*=4,S.dts+=(y[k+18]&6)>>>1)),S},Ip=function(y){switch(y){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Rp=function(y){for(var _=4+ju(y),k=y.subarray(_),S=0,I=0,R=!1,U;I<k.byteLength-3;I++)if(k[I+2]===1){S=I+5;break}for(;S<k.byteLength;)switch(k[S]){case 0:if(k[S-1]!==0){S+=2;break}else if(k[S-2]!==0){S++;break}I+3!==S-2&&(U=Ip(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0));do S++;while(k[S]!==1&&S<k.length);I=S-2,S+=3;break;case 1:if(k[S-1]!==0||k[S-2]!==0){S+=3;break}U=Ip(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0),I=S-2,S+=3;break;default:S+=3;break}return k=k.subarray(I),S-=I,I=0,k&&k.byteLength>3&&(U=Ip(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0)),R},Pp={parseType:Eb,parsePat:zb,parsePmt:Ep,parsePayloadUnitStartIndicator:xo,parsePesType:zp,parsePesTime:Ib,videoPacketContainsKeyFrame:Rp},Gs=sb.handleRollover,Bt={};Bt.ts=Pp,Bt.aac=Zl;var _i=ht.ONE_SECOND_IN_TS,Yi=188,Sn=71,Rb=function(y,_){for(var k=0,S=Yi,I,R;S<y.byteLength;){if(y[k]===Sn&&y[S]===Sn){switch(I=y.subarray(k,S),R=Bt.ts.parseType(I,_.pid),R){case"pat":_.pid=Bt.ts.parsePat(I);break;case"pmt":var U=Bt.ts.parsePmt(I);_.table=_.table||{},Object.keys(U).forEach(function(G){_.table[G]=U[G]});break}k+=Yi,S+=Yi;continue}k++,S++}},Lp=function(y,_,k){for(var S=0,I=Yi,R,U,G,q,V,J=!1;I<=y.byteLength;){if(y[S]===Sn&&(y[I]===Sn||I===y.byteLength)){switch(R=y.subarray(S,I),U=Bt.ts.parseType(R,_.pid),U){case"pes":G=Bt.ts.parsePesType(R,_.table),q=Bt.ts.parsePayloadUnitStartIndicator(R),G==="audio"&&q&&(V=Bt.ts.parsePesTime(R),V&&(V.type="audio",k.audio.push(V),J=!0));break}if(J)break;S+=Yi,I+=Yi;continue}S++,I++}for(I=y.byteLength,S=I-Yi,J=!1;S>=0;){if(y[S]===Sn&&(y[I]===Sn||I===y.byteLength)){switch(R=y.subarray(S,I),U=Bt.ts.parseType(R,_.pid),U){case"pes":G=Bt.ts.parsePesType(R,_.table),q=Bt.ts.parsePayloadUnitStartIndicator(R),G==="audio"&&q&&(V=Bt.ts.parsePesTime(R),V&&(V.type="audio",k.audio.push(V),J=!0));break}if(J)break;S-=Yi,I-=Yi;continue}S--,I--}},Ax=function(y,_,k){for(var S=0,I=Yi,R,U,G,q,V,J,he,Ue,Qe=!1,Se={data:[],size:0};I<y.byteLength;){if(y[S]===Sn&&y[I]===Sn){switch(R=y.subarray(S,I),U=Bt.ts.parseType(R,_.pid),U){case"pes":if(G=Bt.ts.parsePesType(R,_.table),q=Bt.ts.parsePayloadUnitStartIndicator(R),G==="video"&&(q&&!Qe&&(V=Bt.ts.parsePesTime(R),V&&(V.type="video",k.video.push(V),Qe=!0)),!k.firstKeyFrame)){if(q&&Se.size!==0){for(J=new Uint8Array(Se.size),he=0;Se.data.length;)Ue=Se.data.shift(),J.set(Ue,he),he+=Ue.byteLength;if(Bt.ts.videoPacketContainsKeyFrame(J)){var Y=Bt.ts.parsePesTime(J);Y?(k.firstKeyFrame=Y,k.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Se.size=0}Se.data.push(R),Se.size+=R.byteLength}break}if(Qe&&k.firstKeyFrame)break;S+=Yi,I+=Yi;continue}S++,I++}for(I=y.byteLength,S=I-Yi,Qe=!1;S>=0;){if(y[S]===Sn&&y[I]===Sn){switch(R=y.subarray(S,I),U=Bt.ts.parseType(R,_.pid),U){case"pes":G=Bt.ts.parsePesType(R,_.table),q=Bt.ts.parsePayloadUnitStartIndicator(R),G==="video"&&q&&(V=Bt.ts.parsePesTime(R),V&&(V.type="video",k.video.push(V),Qe=!0));break}if(Qe)break;S-=Yi,I-=Yi;continue}S--,I--}},xx=function(y,_){if(y.audio&&y.audio.length){var k=_;(typeof k=="undefined"||isNaN(k))&&(k=y.audio[0].dts),y.audio.forEach(function(R){R.dts=Gs(R.dts,k),R.pts=Gs(R.pts,k),R.dtsTime=R.dts/_i,R.ptsTime=R.pts/_i})}if(y.video&&y.video.length){var S=_;if((typeof S=="undefined"||isNaN(S))&&(S=y.video[0].dts),y.video.forEach(function(R){R.dts=Gs(R.dts,S),R.pts=Gs(R.pts,S),R.dtsTime=R.dts/_i,R.ptsTime=R.pts/_i}),y.firstKeyFrame){var I=y.firstKeyFrame;I.dts=Gs(I.dts,S),I.pts=Gs(I.pts,S),I.dtsTime=I.dts/_i,I.ptsTime=I.pts/_i}}},kx=function(y){for(var _=!1,k=0,S=null,I=null,R=0,U=0,G;y.length-U>=3;){var q=Bt.aac.parseType(y,U);switch(q){case"timed-metadata":if(y.length-U<10){_=!0;break}if(R=Bt.aac.parseId3TagSize(y,U),R>y.length){_=!0;break}I===null&&(G=y.subarray(U,U+R),I=Bt.aac.parseAacTimestamp(G)),U+=R;break;case"audio":if(y.length-U<7){_=!0;break}if(R=Bt.aac.parseAdtsSize(y,U),R>y.length){_=!0;break}S===null&&(G=y.subarray(U,U+R),S=Bt.aac.parseSampleRate(G)),k++,U+=R;break;default:U++;break}if(_)return null}if(S===null||I===null)return null;var V=_i/S,J={audio:[{type:"audio",dts:I,pts:I},{type:"audio",dts:I+k*1024*V,pts:I+k*1024*V}]};return J},_x=function(y){var _={pid:null,table:null},k={};Rb(y,_);for(var S in _.table)if(_.table.hasOwnProperty(S)){var I=_.table[S];switch(I){case Hi.H264_STREAM_TYPE:k.video=[],Ax(y,_,k),k.video.length===0&&delete k.video;break;case Hi.ADTS_STREAM_TYPE:k.audio=[],Lp(y,_,k),k.audio.length===0&&delete k.audio;break}}return k},Tx=function(y,_){var k=Bt.aac.isLikelyAacData(y),S;return k?S=kx(y):S=_x(y),!S||!S.audio&&!S.video?null:(xx(S,_),S)},Hs={inspect:Tx,parseAudioPes_:Lp},Sx=function(y,_){_.on("data",function(k){var S=k.initSegment;k.initSegment={data:S.buffer,byteOffset:S.byteOffset,byteLength:S.byteLength};var I=k.data;k.data=I.buffer,y.postMessage({action:"data",segment:k,byteOffset:I.byteOffset,byteLength:I.byteLength},[k.data])}),_.on("done",function(k){y.postMessage({action:"done"})}),_.on("gopInfo",function(k){y.postMessage({action:"gopInfo",gopInfo:k})}),_.on("videoSegmentTimingInfo",function(k){var S={start:{decode:ht.videoTsToSeconds(k.start.dts),presentation:ht.videoTsToSeconds(k.start.pts)},end:{decode:ht.videoTsToSeconds(k.end.dts),presentation:ht.videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(S.prependedContentDuration=ht.videoTsToSeconds(k.prependedContentDuration)),y.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:S})}),_.on("audioSegmentTimingInfo",function(k){var S={start:{decode:ht.videoTsToSeconds(k.start.dts),presentation:ht.videoTsToSeconds(k.start.pts)},end:{decode:ht.videoTsToSeconds(k.end.dts),presentation:ht.videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:ht.videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(S.prependedContentDuration=ht.videoTsToSeconds(k.prependedContentDuration)),y.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:S})}),_.on("id3Frame",function(k){y.postMessage({action:"id3Frame",id3Frame:k})}),_.on("caption",function(k){y.postMessage({action:"caption",caption:k})}),_.on("trackinfo",function(k){y.postMessage({action:"trackinfo",trackInfo:k})}),_.on("audioTimingInfo",function(k){y.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ht.videoTsToSeconds(k.start),end:ht.videoTsToSeconds(k.end)}})}),_.on("videoTimingInfo",function(k){y.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ht.videoTsToSeconds(k.start),end:ht.videoTsToSeconds(k.end)}})}),_.on("log",function(k){y.postMessage({action:"log",log:k})})},Pb=function(){function M(_,k){this.options=k||{},this.self=_,this.init()}var y=M.prototype;return y.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new hx.Transmuxer(this.options),Sx(this.self,this.transmuxer)},y.pushMp4Captions=function(k){this.captionParser||(this.captionParser=new Tp,this.captionParser.init());var S=new Uint8Array(k.data,k.byteOffset,k.byteLength),I=this.captionParser.parse(S,k.trackIds,k.timescales);this.self.postMessage({action:"mp4Captions",captions:I&&I.captions||[],logs:I&&I.logs||[],data:S.buffer},[S.buffer])},y.probeMp4StartTime=function(k){var S=k.timescales,I=k.data,R=Cp.startTime(S,I);this.self.postMessage({action:"probeMp4StartTime",startTime:R,data:I},[I.buffer])},y.probeMp4Tracks=function(k){var S=k.data,I=Cp.tracks(S);this.self.postMessage({action:"probeMp4Tracks",tracks:I,data:S},[S.buffer])},y.probeTs=function(k){var S=k.data,I=k.baseStartTime,R=typeof I=="number"&&!isNaN(I)?I*ht.ONE_SECOND_IN_TS:void 0,U=Hs.inspect(S,R),G=null;U&&(G={hasVideo:U.video&&U.video.length===2||!1,hasAudio:U.audio&&U.audio.length===2||!1},G.hasVideo&&(G.videoStart=U.video[0].ptsTime),G.hasAudio&&(G.audioStart=U.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:G,data:S},[S.buffer])},y.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},y.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},y.push=function(k){var S=new Uint8Array(k.data,k.byteOffset,k.byteLength);this.transmuxer.push(S)},y.reset=function(){this.transmuxer.reset()},y.setTimestampOffset=function(k){var S=k.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ht.secondsToVideoTs(S)))},y.setAudioAppendStart=function(k){this.transmuxer.setAudioAppendStart(Math.ceil(ht.secondsToVideoTs(k.appendStart)))},y.setRemux=function(k){this.transmuxer.setRemux(k.remux)},y.flush=function(k){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},y.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},y.alignGopsWith=function(k){this.transmuxer.alignGopsWith(k.gopsToAlignWith.slice())},M}();self.onmessage=function(M){if(M.data.action==="init"&&M.data.options){this.messageHandlers=new Pb(self,M.data.options);return}this.messageHandlers||(this.messageHandlers=new Pb(self)),M.data&&M.data.action&&M.data.action!=="init"&&this.messageHandlers[M.data.action]&&this.messageHandlers[M.data.action](M.data)}})),lye=TU(sye),cye=function(e,i,n){var r=e.data.segment,o=r.type,a=r.initSegment,s=r.captions,l=r.captionStreams,c=r.metadata,d=r.videoFrameDtsTime,f=r.videoFramePtsTime;i.buffer.push({captions:s,captionStreams:l,metadata:c});var h=e.data.segment.boxes||{data:e.data.segment.data},m={type:o,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof d!="undefined"&&(m.videoFrameDtsTime=d),typeof f!="undefined"&&(m.videoFramePtsTime=f),n(m)},uye=function(e){var i=e.transmuxedData,n=e.callback;i.buffer=[],n(i)},dye=function(e,i){i.gopInfo=e.data.gopInfo},EU=function(e){var i=e.transmuxer,n=e.bytes,r=e.audioAppendStart,o=e.gopsToAlignWith,a=e.remux,s=e.onData,l=e.onTrackInfo,c=e.onAudioTimingInfo,d=e.onVideoTimingInfo,f=e.onVideoSegmentTimingInfo,h=e.onAudioSegmentTimingInfo,m=e.onId3,v=e.onCaptions,w=e.onDone,g=e.onEndedTimeline,A=e.onTransmuxerLog,x=e.isEndOfTimeline,T={buffer:[]},E=x,z=function(F){i.currentTransmux===e&&(F.data.action==="data"&&cye(F,T,s),F.data.action==="trackinfo"&&l(F.data.trackInfo),F.data.action==="gopInfo"&&dye(F,T),F.data.action==="audioTimingInfo"&&c(F.data.audioTimingInfo),F.data.action==="videoTimingInfo"&&d(F.data.videoTimingInfo),F.data.action==="videoSegmentTimingInfo"&&f(F.data.videoSegmentTimingInfo),F.data.action==="audioSegmentTimingInfo"&&h(F.data.audioSegmentTimingInfo),F.data.action==="id3Frame"&&m([F.data.id3Frame],F.data.id3Frame.dispatchType),F.data.action==="caption"&&v(F.data.caption),F.data.action==="endedtimeline"&&(E=!1,g()),F.data.action==="log"&&A(F.data.log),F.data.type==="transmuxed"&&(E||(i.onmessage=null,uye({transmuxedData:T,callback:w}),zU(i))))};if(i.onmessage=z,r&&i.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(o)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:o}),typeof a!="undefined"&&i.postMessage({action:"setRemux",remux:a}),n.byteLength){var L=n instanceof ArrayBuffer?n:n.buffer,B=n instanceof ArrayBuffer?0:n.byteOffset;i.postMessage({action:"push",data:L,byteOffset:B,byteLength:n.byteLength},[L])}x&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},zU=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():EU(e.currentTransmux))},GL=function(e,i){e.postMessage({action:i}),zU(e)},IU=function(e,i){if(!i.currentTransmux){i.currentTransmux=e,GL(i,e);return}i.transmuxQueue.push(GL.bind(null,i,e))},fye=function(e){IU("reset",e)},pye=function(e){IU("endTimeline",e)},RU=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,EU(e);return}e.transmuxer.transmuxQueue.push(e)},hye=function(e){var i=new lye;i.currentTransmux=null,i.transmuxQueue=[];var n=i.terminate;return i.terminate=function(){return i.currentTransmux=null,i.transmuxQueue.length=0,n.call(i)},i.postMessage({action:"init",options:e}),i},Wk={reset:fye,endTimeline:pye,transmux:RU,createTransmuxer:hye},iw=function(e){var i=e.transmuxer,n=e.endAction||e.action,r=e.callback,o=Me({},e,{endAction:null,transmuxer:null,callback:null}),a=function c(d){d.data.action===n&&(i.removeEventListener("message",c),d.data.data&&(d.data.data=new Uint8Array(d.data.data,e.byteOffset||0,e.byteLength||d.data.data.byteLength),e.data&&(e.data=d.data.data)),r(d.data))};if(i.addEventListener("message",a),e.data){var s=e.data instanceof ArrayBuffer;o.byteOffset=s?0:e.data.byteOffset,o.byteLength=e.data.byteLength;var l=[s?e.data:e.data.buffer];i.postMessage(o,l)}else i.postMessage(o)},la={FAILURE:2,TIMEOUT:-101,ABORTED:-102},aT=function(e){e.forEach(function(i){i.abort()})},mye=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},gye=function(e){var i=e.target,n=Date.now()-i.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},fz=function(e,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:la.TIMEOUT,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:la.ABORTED,xhr:i}:e?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:la.FAILURE,xhr:i}:i.responseType==="arraybuffer"&&i.response.byteLength===0?{status:i.status,message:"Empty HLS response at URL: "+i.uri,code:la.FAILURE,xhr:i}:null},HL=function(e,i,n){return function(r,o){var a=o.response,s=fz(r,o);if(s)return n(s,e);if(a.byteLength!==16)return n({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:la.FAILURE,xhr:o},e);for(var l=new DataView(a),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),d=0;d<i.length;d++)i[d].bytes=c;return n(null,e)}},PU=function(e,i){var n=CE(e.map.bytes);if(n!=="mp4"){var r=e.map.resolvedUri||e.map.uri;return i({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+r,code:la.FAILURE})}iw({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var s=a.tracks,l=a.data;return e.map.bytes=l,s.forEach(function(c){e.map.tracks=e.map.tracks||{},!e.map.tracks[c.type]&&(e.map.tracks[c.type]=c,typeof c.id=="number"&&c.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[c.id]=c.timescale))}),i(null)}})},bye=function(e){var i=e.segment,n=e.finishProcessingFn;return function(r,o){var a=fz(r,o);if(a)return n(a,i);var s=new Uint8Array(o.response);if(i.map.key)return i.map.encryptedBytes=s,n(null,i);i.map.bytes=s,PU(i,function(l){if(l)return l.xhr=o,l.status=o.status,n(l,i);n(null,i)})}},vye=function(e){var i=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(o,a){var s=fz(o,a);if(s)return n(s,i);var l=r==="arraybuffer"||!a.responseText?a.response:oye(a.responseText.substring(i.lastReachedChar||0));return i.stats=mye(a),i.key?i.encryptedBytes=new Uint8Array(l):i.bytes=new Uint8Array(l),n(null,i)}},yye=function(e){var i=e.segment,n=e.bytes,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,v=e.onTransmuxerLog,w=i.map&&i.map.tracks||{},g=Boolean(w.audio&&w.video),A=o.bind(null,i,"audio","start"),x=o.bind(null,i,"audio","end"),T=o.bind(null,i,"video","start"),E=o.bind(null,i,"video","end"),z=function(){return RU({bytes:n,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:g,onData:function(O){O.type=O.type==="combined"?"video":O.type,h(i,O)},onTrackInfo:function(O){r&&(g&&(O.isMuxed=!0),r(i,O))},onAudioTimingInfo:function(O){A&&typeof O.start!="undefined"&&(A(O.start),A=null),x&&typeof O.end!="undefined"&&x(O.end)},onVideoTimingInfo:function(O){T&&typeof O.start!="undefined"&&(T(O.start),T=null),E&&typeof O.end!="undefined"&&E(O.end)},onVideoSegmentTimingInfo:function(O){a(O)},onAudioSegmentTimingInfo:function(O){s(O)},onId3:function(O,F){l(i,O,F)},onCaptions:function(O){c(i,[O])},isEndOfTimeline:d,onEndedTimeline:function(){f()},onTransmuxerLog:v,onDone:function(O){!m||(O.type=O.type==="combined"?"video":O.type,m(null,i,O))}})};iw({action:"probeTs",transmuxer:i.transmuxer,data:n,baseStartTime:i.baseStartTime,callback:function(B){i.bytes=n=B.data;var O=B.result;O&&(r(i,{hasAudio:O.hasAudio,hasVideo:O.hasVideo,isMuxed:g}),r=null,O.hasAudio&&!g&&A(O.audioStart),O.hasVideo&&T(O.videoStart),A=null,T=null),z()}})},LU=function(e){var i=e.segment,n=e.bytes,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,v=e.onTransmuxerLog,w=new Uint8Array(n);if(Gbe(w)){i.isFmp4=!0;var g=i.map.tracks,A={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(A.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(A.videoCodec=g.video.codec),g.video&&g.audio&&(A.isMuxed=!0),r(i,A);var x=function(E){h(i,{data:w,type:A.hasAudio&&!A.isMuxed?"audio":"video"}),E&&E.length&&c(i,E),m(null,i,{})};iw({action:"probeMp4StartTime",timescales:i.map.timescales,data:w,transmuxer:i.transmuxer,callback:function(E){var z=E.data,L=E.startTime;if(n=z.buffer,i.bytes=w=z,A.hasAudio&&!A.isMuxed&&o(i,"audio","start",L),A.hasVideo&&o(i,"video","start",L),!g.video||!z.byteLength||!i.transmuxer){x();return}iw({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:w,timescales:i.map.timescales,trackIds:[g.video.id],callback:function(O){n=O.data.buffer,i.bytes=w=O.data,O.logs.forEach(function(F){v(ee.mergeOptions(F,{stream:"mp4CaptionParser"}))}),x(O.captions)}})}});return}if(!i.transmuxer){m(null,i,{});return}if(typeof i.container=="undefined"&&(i.container=CE(w)),i.container!=="ts"&&i.container!=="aac"){r(i,{hasAudio:!1,hasVideo:!1}),m(null,i,{});return}yye({segment:i,bytes:n,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:v})},OU=function(e,i){var n=e.id,r=e.key,o=e.encryptedBytes,a=e.decryptionWorker,s=function c(d){if(d.data.source===n){a.removeEventListener("message",c);var f=d.data.decrypted;i(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};a.addEventListener("message",s);var l;r.bytes.slice?l=r.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(r.bytes)),a.postMessage(yU({source:n,encrypted:o,key:l,iv:r.iv}),[o.buffer,l.buffer])},wye=function(e){var i=e.decryptionWorker,n=e.segment,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,v=e.onTransmuxerLog;OU({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:i},function(w){n.bytes=w,LU({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:v})})},Aye=function(e){var i=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,d=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,v=e.onTransmuxerLog,w=0,g=!1;return function(A,x){if(!g){if(A)return g=!0,aT(i),m(A,x);if(w+=1,w===i.length){var T=function(){if(x.encryptedBytes)return wye({decryptionWorker:n,segment:x,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:v});LU({segment:x,bytes:x.bytes,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:d,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:v})};if(x.endOfAllRequests=Date.now(),x.map&&x.map.encryptedBytes&&!x.map.bytes)return OU({decryptionWorker:n,id:x.requestId+"-init",encryptedBytes:x.map.encryptedBytes,key:x.map.key},function(E){x.map.bytes=E,PU(x,function(z){if(z)return aT(i),m(z,x);T()})});T()}}}},xye=function(e){var i=e.loadendState,n=e.abortFn;return function(r){var o=r.target;o.aborted&&n&&!i.calledAbortFn&&(n(),i.calledAbortFn=!0)}},kye=function(e){var i=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(r){var o=r.target;if(!o.aborted)return i.stats=ee.mergeOptions(i.stats,gye(r)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),n(r,i)}},_ye=function(e){var i=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,o=e.segment,a=e.abortFn,s=e.progressFn,l=e.trackInfoFn,c=e.timingInfoFn,d=e.videoSegmentTimingInfoFn,f=e.audioSegmentTimingInfoFn,h=e.id3Fn,m=e.captionsFn,v=e.isEndOfTimeline,w=e.endedTimelineFn,g=e.dataFn,A=e.doneFn,x=e.onTransmuxerLog,T=[],E=Aye({activeXhrs:T,decryptionWorker:r,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:f,id3Fn:h,captionsFn:m,isEndOfTimeline:v,endedTimelineFn:w,dataFn:g,doneFn:A,onTransmuxerLog:x});if(o.key&&!o.key.bytes){var z=[o.key];o.map&&!o.map.bytes&&o.map.key&&o.map.key.resolvedUri===o.key.resolvedUri&&z.push(o.map.key);var L=ee.mergeOptions(n,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),B=HL(o,z,E),O=i(L,B);T.push(O)}if(o.map&&!o.map.bytes){var F=o.map.key&&(!o.key||o.key.resolvedUri!==o.map.key.resolvedUri);if(F){var H=ee.mergeOptions(n,{uri:o.map.key.resolvedUri,responseType:"arraybuffer"}),X=HL(o,[o.map.key],E),de=i(H,X);T.push(de)}var we=ee.mergeOptions(n,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:rT(o.map)}),Ee=bye({segment:o,finishProcessingFn:E}),_e=i(we,Ee);T.push(_e)}var Ne=ee.mergeOptions(n,{uri:o.part&&o.part.resolvedUri||o.resolvedUri,responseType:"arraybuffer",headers:rT(o)}),Be=vye({segment:o,finishProcessingFn:E,responseType:Ne.responseType}),Ve=i(Ne,Be);Ve.addEventListener("progress",kye({segment:o,progressFn:s,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:f,id3Fn:h,captionsFn:m,isEndOfTimeline:v,endedTimelineFn:w,dataFn:g})),T.push(Ve);var Pe={};return T.forEach(function(De){De.addEventListener("loadend",xye({loadendState:Pe,abortFn:a}))}),function(){return aT(T)}},Tye=Ho("CodecUtils"),Sye=function(e){var i=e.attributes||{};if(i.CODECS)return Ko(i.CODECS)},DU=function(e,i){var n=i.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Cye=function(e,i){if(!DU(e,i))return!0;var n=i.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var o in r)if(!r[o].uri&&!r[o].playlists)return!0;return!1},nw=function(e){var i={};return e.forEach(function(n){var r=n.mediaType,o=n.type,a=n.details;i[r]=i[r]||[],i[r].push(a7(""+o+a))}),Object.keys(i).forEach(function(n){if(i[n].length>1){Tye("multiple "+n+" codecs found as attributes: "+i[n].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),i[n]=null;return}i[n]=i[n][0]}),i},WL=function(e){var i=0;return e.audio&&i++,e.video&&i++,i},Zh=function(e,i){var n=i.attributes||{},r=nw(Sye(i)||[]);if(DU(e,i)&&!r.audio&&!Cye(e,i)){var o=nw(oge(e,n.AUDIO)||[]);o.audio&&(r.audio=o.audio)}return r},K0=Ho("PlaylistSelector"),YL=function(e){if(!(!e||!e.playlist)){var i=e.playlist;return JSON.stringify({id:i.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:i.attributes&&i.attributes.CODECS||""})}},rw=function(e,i){if(!e)return"";var n=Q.getComputedStyle(e);return n?n[i]:""},Nd=function(e,i){var n=e.slice();e.sort(function(r,o){var a=i(r,o);return a===0?n.indexOf(r)-n.indexOf(o):a})},pz=function(e,i){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||Q.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(r=i.attributes.BANDWIDTH),r=r||Q.Number.MAX_VALUE,n-r},Eye=function(e,i){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||Q.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(r=i.attributes.RESOLUTION.width),r=r||Q.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?e.attributes.BANDWIDTH-i.attributes.BANDWIDTH:n-r},MU=function(e,i,n,r,o,a){if(!!e){var s={bandwidth:i,width:n,height:r,limitRenditionByPlayerDimensions:o},l=e.playlists;vr.isAudioOnly(e)&&(l=a.getAudioTrackPlaylists_(),s.audioOnly=!0);var c=l.map(function(H){var X,de=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.width,we=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.height;return X=H.attributes&&H.attributes.BANDWIDTH,X=X||Q.Number.MAX_VALUE,{bandwidth:X,width:de,height:we,playlist:H}});Nd(c,function(H,X){return H.bandwidth-X.bandwidth}),c=c.filter(function(H){return!vr.isIncompatible(H.playlist)});var d=c.filter(function(H){return vr.isEnabled(H.playlist)});d.length||(d=c.filter(function(H){return!vr.isDisabled(H.playlist)}));var f=d.filter(function(H){return H.bandwidth*Ji.BANDWIDTH_VARIANCE<i}),h=f[f.length-1],m=f.filter(function(H){return H.bandwidth===h.bandwidth})[0];if(o===!1){var v=m||d[0]||c[0];if(v&&v.playlist){var w="sortedPlaylistReps";return m&&(w="bandwidthBestRep"),d[0]&&(w="enabledPlaylistReps"),K0("choosing "+YL(v)+" using "+w+" with options",s),v.playlist}return K0("could not choose a playlist with options",s),null}var g=f.filter(function(H){return H.width&&H.height});Nd(g,function(H,X){return H.width-X.width});var A=g.filter(function(H){return H.width===n&&H.height===r});h=A[A.length-1];var x=A.filter(function(H){return H.bandwidth===h.bandwidth})[0],T,E,z;x||(T=g.filter(function(H){return H.width>n||H.height>r}),E=T.filter(function(H){return H.width===T[0].width&&H.height===T[0].height}),h=E[E.length-1],z=E.filter(function(H){return H.bandwidth===h.bandwidth})[0]);var L;if(a.experimentalLeastPixelDiffSelector){var B=g.map(function(H){return H.pixelDiff=Math.abs(H.width-n)+Math.abs(H.height-r),H});Nd(B,function(H,X){return H.pixelDiff===X.pixelDiff?X.bandwidth-H.bandwidth:H.pixelDiff-X.pixelDiff}),L=B[0]}var O=L||z||x||m||d[0]||c[0];if(O&&O.playlist){var F="sortedPlaylistReps";return L?F="leastPixelDiffRep":z?F="resolutionPlusOneRep":x?F="resolutionBestRep":m?F="bandwidthBestRep":d[0]&&(F="enabledPlaylistReps"),K0("choosing "+YL(O)+" using "+F+" with options",s),O.playlist}return K0("could not choose a playlist with options",s),null}},VL=function(){var e=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return MU(this.playlists.master,this.systemBandwidth,parseInt(rw(this.tech_.el(),"width"),10)*e,parseInt(rw(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},zye=function(e){var i=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(i=e*this.systemBandwidth+(1-e)*i,n=this.systemBandwidth),MU(this.playlists.master,i,parseInt(rw(this.tech_.el(),"width"),10)*r,parseInt(rw(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},Iye=function(e){var i=e.master,n=e.currentTime,r=e.bandwidth,o=e.duration,a=e.segmentDuration,s=e.timeUntilRebuffer,l=e.currentTimeline,c=e.syncController,d=i.playlists.filter(function(w){return!vr.isIncompatible(w)}),f=d.filter(vr.isEnabled);f.length||(f=d.filter(function(w){return!vr.isDisabled(w)}));var h=f.filter(vr.hasAttribute.bind(null,"BANDWIDTH")),m=h.map(function(w){var g=c.getSyncPoint(w,o,l,n),A=g?1:2,x=vr.estimateSegmentRequestTime(a,r,w),T=x*A-s;return{playlist:w,rebufferingImpact:T}}),v=m.filter(function(w){return w.rebufferingImpact<=0});return Nd(v,function(w,g){return pz(g.playlist,w.playlist)}),v.length?v[0]:(Nd(m,function(w,g){return w.rebufferingImpact-g.rebufferingImpact}),m[0]||null)},Rye=function(){var e=this,i=this.playlists.master.playlists.filter(vr.isEnabled);Nd(i,function(r,o){return pz(r,o)});var n=i.filter(function(r){return!!Zh(e.playlists.master,r).video});return n[0]||null},Pye=function(e){var i=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(r){n.set(r,i),i+=r.byteLength})),n},Lye=function(e,i,n){if(!e[n]){i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"});var r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);var o=i.textTracks().getTrackById(r);if(o)e[n]=o;else{var a=i.options_.vhs&&i.options_.vhs.captionServices||{},s=n,l=n,c=!1,d=a[r];d&&(s=d.label,l=d.language,c=d.default),e[n]=i.addRemoteTextTrack({kind:"captions",id:r,default:c,label:s,language:l},!1).track}}},Oye=function(e){var i=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(!!n){var o=Q.WebKitDataCue||Q.VTTCue;n.forEach(function(a){var s=a.stream;i[s].addCue(new o(a.startTime+r,a.endTime+r,a.text))})}},Dye=function(e){Object.defineProperties(e.frame,{id:{get:function(){return ee.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return ee.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return ee.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},Mye=function(e){var i=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(!!n){var a=Q.WebKitDataCue||Q.VTTCue,s=i.metadataTrack_;if(!!s&&(n.forEach(function(m){var v=m.cueTime+r;typeof v!="number"||Q.isNaN(v)||v<0||!(v<1/0)||m.frames.forEach(function(w){var g=new a(v,v,w.value||w.url||w.data||"");g.frame=w,g.value=w,Dye(g),s.addCue(g)})}),!(!s.cues||!s.cues.length))){for(var l=s.cues,c=[],d=0;d<l.length;d++)l[d]&&c.push(l[d]);var f=c.reduce(function(m,v){var w=m[v.startTime]||[];return w.push(v),m[v.startTime]=w,m},{}),h=Object.keys(f).sort(function(m,v){return Number(m)-Number(v)});h.forEach(function(m,v){var w=f[m],g=Number(h[v+1])||o;w.forEach(function(A){A.endTime=g})})}}},Bye=function(e,i,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i)},Ih=function(e,i,n){var r,o;if(!!n&&!!n.cues)for(r=n.cues.length;r--;)o=n.cues[r],o.startTime>=e&&o.endTime<=i&&n.removeCue(o)},Fye=function(e){var i=e.cues;if(!!i)for(var n=0;n<i.length;n++){for(var r=[],o=0,a=0;a<i.length;a++)i[n].startTime===i[a].startTime&&i[n].endTime===i[a].endTime&&i[n].text===i[a].text&&(o++,o>1&&r.push(i[a]));r.length&&r.forEach(function(s){return e.removeCue(s)})}},Nye=function(e,i,n){if(typeof i=="undefined"||i===null||!e.length)return[];var r=Math.ceil((i-n+3)*Hy.ONE_SECOND_IN_TS),o;for(o=0;o<e.length&&!(e[o].pts>r);o++);return e.slice(o)},jye=function(e,i,n){if(!i.length)return e;if(n)return i.slice();var r=i[0].pts,o=0;for(o;o<e.length&&!(e[o].pts>=r);o++);return e.slice(0,o).concat(i)},Uye=function(e,i,n,r){for(var o=Math.ceil((i-r)*Hy.ONE_SECOND_IN_TS),a=Math.ceil((n-r)*Hy.ONE_SECOND_IN_TS),s=e.slice(),l=e.length;l--&&!(e[l].pts<=a););if(l===-1)return s;for(var c=l+1;c--&&!(e[c].pts<=o););return c=Math.max(c,0),s.splice(c,l-c+1),s},Gye=function(e,i){if(!e&&!i||!e&&i||e&&!i)return!1;if(e===i)return!0;var n=Object.keys(e).sort(),r=Object.keys(i).sort();if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(a!==r[o]||e[a]!==i[a])return!1}return!0},BU=22,Hye=function(e,i,n){i=i||[];for(var r=[],o=0,a=0;a<i.length;a++){var s=i[a];if(e===s.timeline&&(r.push(a),o+=s.duration,o>n))return a}return r.length===0?0:r[r.length-1]},hh=1,Wye=500,$L=function(e){return typeof e=="number"&&isFinite(e)},X0=1/60,Yye=function(e,i,n){return e!=="main"||!i||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":i.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},Vye=function(e,i,n){var r=i-Ji.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var o=i-n;return Math.min(o,r)},ad=function(e){var i=e.startOfSegment,n=e.duration,r=e.segment,o=e.part,a=e.playlist,s=a.mediaSequence,l=a.id,c=a.segments,d=c===void 0?[]:c,f=e.mediaIndex,h=e.partIndex,m=e.timeline,v=d.length-1,w="mediaIndex/partIndex increment";e.getMediaInfoForTime?w="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(w="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(w+=" with independent "+e.independent);var g=typeof h=="number",A=e.segment.uri?"segment":"pre-segment",x=g?oU({preloadSegment:r})-1:0;return A+" ["+(s+f)+"/"+(s+v)+"]"+(g?" part ["+h+"/"+x+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(g?" part start/end ["+o.start+" => "+o.end+"]":"")+(" startOfSegment ["+i+"]")+(" duration ["+n+"]")+(" timeline ["+m+"]")+(" selected by ["+w+"]")+(" playlist ["+l+"]")},QL=function(e){return e+"TimingInfo"},$ye=function(e){var i=e.segmentTimeline,n=e.currentTimeline,r=e.startOfSegment,o=e.buffered,a=e.overrideCheck;return!a&&i===n?null:i<n?r:o.length?o.end(o.length-1):r},qL=function(e){var i=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,o=e.loaderType,a=e.audioDisabled;if(n===r)return!1;if(o==="audio"){var s=i.lastTimelineChange({type:"main"});return!s||s.to!==r}if(o==="main"&&a){var l=i.pendingTimelineChange({type:"audio"});return!(l&&l.to===r)}return!1},Qye=function(e,i){var n=e&&typeof e.start=="number"&&typeof e.end=="number"?e.end-e.start:0,r=i&&typeof i.start=="number"&&typeof i.end=="number"?i.end-i.start:0;return Math.max(n,r)},KL=function(e){var i=e.segmentDuration,n=e.maxDuration;return i?Math.round(i)>n+Nl:!1},qye=function(e,i){if(i!=="hls")return null;var n=Qye(e.audioTimingInfo,e.videoTimingInfo);if(!n)return null;var r=e.playlist.targetDuration,o=KL({segmentDuration:n,maxDuration:r*2}),a=KL({segmentDuration:n,maxDuration:r}),s="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+n+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return o||a?{severity:o?"warn":"info",message:s}:null},sT=function(t){ye(e,t);function e(n,r){var o;if(o=t.call(this)||this,!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return o.bandwidth=n.bandwidth,o.throughput={rate:0,count:0},o.roundTrip=NaN,o.resetStats_(),o.mediaIndex=null,o.partIndex=null,o.hasPlayed_=n.hasPlayed,o.currentTime_=n.currentTime,o.seekable_=n.seekable,o.seeking_=n.seeking,o.duration_=n.duration,o.mediaSource_=n.mediaSource,o.vhs_=n.vhs,o.loaderType_=n.loaderType,o.currentMediaInfo_=void 0,o.startingMediaInfo_=void 0,o.segmentMetadataTrack_=n.segmentMetadataTrack,o.goalBufferLength_=n.goalBufferLength,o.sourceType_=n.sourceType,o.sourceUpdater_=n.sourceUpdater,o.inbandTextTracks_=n.inbandTextTracks,o.state_="INIT",o.timelineChangeController_=n.timelineChangeController,o.shouldSaveSegmentTimingInfo_=!0,o.parse708captions_=n.parse708captions,o.captionServices_=n.captionServices,o.experimentalExactManifestTimings=n.experimentalExactManifestTimings,o.checkBufferTimeout_=null,o.error_=void 0,o.currentTimeline_=-1,o.pendingSegment_=null,o.xhrOptions_=null,o.pendingSegments_=[],o.audioDisabled_=!1,o.isPendingTimestampOffset_=!1,o.gopBuffer_=[],o.timeMapping_=0,o.safeAppend_=ee.browser.IE_VERSION>=11,o.appendInitSegment_={audio:!0,video:!0},o.playlistOfLastInitSegment_={audio:null,video:null},o.callQueue_=[],o.loadQueue_=[],o.metadataQueue_={id3:[],caption:[]},o.waitingOnRemove_=!1,o.quotaExceededErrorRetryTimeout_=null,o.activeInitSegmentId_=null,o.initSegments_={},o.cacheEncryptionKeys_=n.cacheEncryptionKeys,o.keyCache_={},o.decrypter_=n.decrypter,o.syncController_=n.syncController,o.syncPoint_={segmentIndex:0,time:0},o.transmuxer_=o.createTransmuxer_(),o.triggerSyncInfoUpdate_=function(){return o.trigger("syncinfoupdate")},o.syncController_.on("syncinfoupdate",o.triggerSyncInfoUpdate_),o.mediaSource_.addEventListener("sourceopen",function(){o.isEndOfStream_()||(o.ended_=!1)}),o.fetchAtBuffer_=!1,o.logger_=Ho("SegmentLoader["+o.loaderType_+"]"),Object.defineProperty(re(o),"state",{get:function(){return this.state_},set:function(s){s!==this.state_&&(this.logger_(this.state_+" -> "+s),this.state_=s,this.trigger("statechange"))}}),o.sourceUpdater_.on("ready",function(){o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o.loaderType_==="main"&&o.timelineChangeController_.on("pendingtimelinechange",function(){o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o.loaderType_==="audio"&&o.timelineChangeController_.on("timelinechange",function(){o.hasEnoughInfoToLoad_()&&o.processLoadQueue_(),o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o}var i=e.prototype;return i.createTransmuxer_=function(){return Wk.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Q.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},i.error=function(r){return typeof r!="undefined"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Wk.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return ee.createTimeRanges();if(this.loaderType_==="main"){var o=r.hasAudio,a=r.hasVideo,s=r.isMuxed;if(a&&o&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=tw(r),s=this.initSegments_[a];return o&&!s&&r.bytes&&(this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),s||r},i.segmentKey=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=wU(r),s=this.keyCache_[a];this.cacheEncryptionKeys_&&o&&!s&&r.bytes&&(this.keyCache_[a]=s={resolvedUri:r.resolvedUri,bytes:r.bytes});var l={resolvedUri:(s||r).resolvedUri};return s&&(l.bytes=s.bytes),l},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(r,o){if(o===void 0&&(o={}),!!r){var a=this.playlist_,s=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=o,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var l=null;if(a&&(a.id?l=a.id:a.uri&&(l=a.uri)),this.logger_("playlist update ["+l+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var c=r.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+c+"]"),this.mediaIndex!==null)if(this.mediaIndex-=c,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){var f=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=f}}s&&(s.mediaIndex-=c,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=r.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,r)}},i.pause=function(){this.checkBufferTimeout_&&(Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return this.checkBufferTimeout_===null},i.resetEverything=function(r){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&Wk.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(r,o,a,s){if(a===void 0&&(a=function(){}),s===void 0&&(s=!1),o===1/0&&(o=this.duration_()),o<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,c=function(){l--,l===0&&a()};(s||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(r,o,c)),(s||this.loaderType_==="main")&&(this.gopBuffer_=Uye(this.gopBuffer_,r,o,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(r,o,c));for(var d in this.inbandTextTracks_)Ih(r,o,this.inbandTextTracks_[d]);Ih(r,o,this.segmentMetadataTrack_),c()},i.monitorBuffer_=function(){this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),Wye)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();!r||(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},i.isEndOfStream_=function(r,o,a){if(r===void 0&&(r=this.mediaIndex),o===void 0&&(o=this.playlist_),a===void 0&&(a=this.partIndex),!o||!this.mediaSource_)return!1;var s=typeof r=="number"&&o.segments[r],l=r+1===o.segments.length,c=!s||!s.parts||a+1===s.parts.length;return o.endList&&this.mediaSource_.readyState==="open"&&l&&c},i.chooseNextRequest_=function(){var r=this.buffered_(),o=BL(r)||0,a=sz(r,this.currentTime_()),s=!this.hasPlayed_()&&a>=1,l=a>=this.goalBufferLength_(),c=this.playlist_.segments;if(!c.length||s||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(d.isSyncRequest)d.mediaIndex=Hye(this.currentTimeline_,c,o);else if(this.mediaIndex!==null){var f=c[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=f.end?f.end:o,f.parts&&f.parts[h+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=h+1):d.mediaIndex=this.mediaIndex+1}else{var m=vr.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?o:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),v=m.segmentIndex,w=m.startTime,g=m.partIndex;d.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+o:"currentTime "+this.currentTime_(),d.mediaIndex=v,d.startOfSegment=w,d.partIndex=g}var A=c[d.mediaIndex],x=A&&typeof d.partIndex=="number"&&A.parts&&A.parts[d.partIndex];if(!A||typeof d.partIndex=="number"&&!x)return null;if(typeof d.partIndex!="number"&&A.parts&&(d.partIndex=0,x=A.parts[0]),!a&&x&&!x.independent)if(d.partIndex===0){var T=c[d.mediaIndex-1],E=T.parts&&T.parts.length&&T.parts[T.parts.length-1];E&&E.independent&&(d.mediaIndex-=1,d.partIndex=T.parts.length-1,d.independent="previous segment")}else A.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");var z=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=c.length-1&&z&&!this.seeking_()?null:this.generateSegmentInfo_(d)},i.generateSegmentInfo_=function(r){var o=r.independent,a=r.playlist,s=r.mediaIndex,l=r.startOfSegment,c=r.isSyncRequest,d=r.partIndex,f=r.forceTimestampOffset,h=r.getMediaInfoForTime,m=a.segments[s],v=typeof d=="number"&&m.parts[d],w={requestId:"segment-loader-"+Math.random(),uri:v&&v.resolvedUri||m.resolvedUri,mediaIndex:s,partIndex:v?d:null,isSyncRequest:c,startOfSegment:l,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:m.timeline,duration:v&&v.duration||m.duration,segment:m,part:v,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:h,independent:o},g=typeof f!="undefined"?f:this.isPendingTimestampOffset_;w.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:m.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:g});var A=BL(this.sourceUpdater_.audioBuffered());return typeof A=="number"&&(w.audioAppendStart=A-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(w.gopsToAlignWith=Nye(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),w},i.timestampOffsetForSegment_=function(r){return $ye(r)},i.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var o=this.currentTime_(),a=r.bandwidth,s=this.pendingSegment_.duration,l=vr.estimateSegmentRequestTime(s,a,this.playlist_,r.bytesReceived),c=yve(this.buffered_(),o,this.vhs_.tech_.playbackRate())-1;if(!(l<=c)){var d=Iye({master:this.vhs_.playlists.master,currentTime:o,bandwidth:a,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:c,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!d){var f=l-c,h=f-d.rebufferingImpact,m=.5;c<=Nl&&(m=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||h<m)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*Ji.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(r){this.logger_("Aborting "+ad(r)),this.mediaRequestsAborted+=1},i.handleProgress_=function(r,o){this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId)&&this.trigger("progress")},i.handleTrackInfo_=function(r,o){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(o)||(o=o||{},Gye(this.currentMediaInfo_,o)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=o,this.currentMediaInfo_=o,this.logger_("trackinfo update",o),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=o,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},i.handleTimingInfo_=function(r,o,a,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var l=this.pendingSegment_,c=QL(o);l[c]=l[c]||{},l[c][a]=s,this.logger_("timinginfo: "+o+" - "+a+" - "+s),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(r,o){var a=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(o.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var s=this.pendingSegment_;if(!s.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,o));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),c={};o.forEach(function(d){c[d.stream]=c[d.stream]||{startTime:1/0,captions:[],endTime:0};var f=c[d.stream];f.startTime=Math.min(f.startTime,d.startTime+l),f.endTime=Math.max(f.endTime,d.endTime+l),f.captions.push(d)}),Object.keys(c).forEach(function(d){var f=c[d],h=f.startTime,m=f.endTime,v=f.captions,w=a.inbandTextTracks_;a.logger_("adding cues from "+h+" -> "+m+" for "+d),Lye(w,a.vhs_.tech_,d),Ih(h,m,w[d]),Oye({captionArray:v,inbandTextTracks:w,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(r,o,a){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var s=this.pendingSegment_;if(!s.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,o,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();Bye(this.inbandTextTracks_,a,this.vhs_.tech_),Mye({inbandTextTracks:this.inbandTextTracks_,metadataArray:o,timestampOffset:l,videoDuration:this.duration_()})}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(o){return o()})},i.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(o){return o()})},i.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!qL({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},i.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,o=this.getCurrentMediaInfo_();if(!r||!o)return!1;var a=o.hasAudio,s=o.hasVideo,l=o.isMuxed;return!(s&&!r.videoTimingInfo||a&&!this.audioDisabled_&&!l&&!r.audioTimingInfo||qL({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(r,o){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,o));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),a.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),a.isFmp4=r.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[QL(o.type)].start;else{var s=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&s&&s.hasVideo,c;l&&(c=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:c,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,o.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var d=this.chooseNextRequest_();if(d.mediaIndex!==a.mediaIndex||d.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,o)}}},i.updateAppendInitSegmentStatus=function(r,o){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[o]!==r.playlist&&(this.appendInitSegment_[o]=!0)},i.getInitSegmentAndUpdateState_=function(r){var o=r.type,a=r.initSegment,s=r.map,l=r.playlist;if(s){var c=tw(s);if(this.activeInitSegmentId_===c)return null;a=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=c}return a&&this.appendInitSegment_[o]?(this.playlistOfLastInitSegment_[o]=l,this.appendInitSegment_[o]=!1,this.activeInitSegmentId_=null,a):null},i.handleQuotaExceededError_=function(r,o){var a=this,s=r.segmentInfo,l=r.type,c=r.bytes,d=this.sourceUpdater_.audioBuffered(),f=this.sourceUpdater_.videoBuffered();d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Rc(d).join(", ")),f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Rc(f).join(", "));var h=d.length?d.start(0):0,m=d.length?d.end(d.length-1):0,v=f.length?f.start(0):0,w=f.length?f.end(f.length-1):0;if(m-h<=hh&&w-v<=hh){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+c.byteLength+", ")+("audio buffer: "+Rc(d).join(", ")+", ")+("video buffer: "+Rc(f).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:s,type:l,bytes:c}));var g=this.currentTime_(),A=g-hh;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+A),this.remove(0,A,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+hh+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=Q.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},hh*1e3)},!0)},i.handleAppendError_=function(r,o){var a=r.segmentInfo,s=r.type,l=r.bytes;if(!!o){if(o.code===BU){this.handleQuotaExceededError_({segmentInfo:a,type:s,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",o),this.error(s+" append of "+l.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},i.appendToSourceBuffer_=function(r){var o=r.segmentInfo,a=r.type,s=r.initSegment,l=r.data,c=r.bytes;if(!c){var d=[l],f=l.byteLength;s&&(d.unshift(s),f+=s.byteLength),c=Pye({bytes:f,segments:d})}this.sourceUpdater_.appendBuffer({segmentInfo:o,type:a,bytes:c},this.handleAppendError_.bind(this,{segmentInfo:o,type:a,bytes:c}))},i.handleSegmentTimingInfo_=function(r,o,a){if(!(!this.pendingSegment_||o!==this.pendingSegment_.requestId)){var s=this.pendingSegment_.segment,l=r+"TimingInfo";s[l]||(s[l]={}),s[l].transmuxerPrependedSeconds=a.prependedContentDuration||0,s[l].transmuxedPresentationStart=a.start.presentation,s[l].transmuxedDecodeStart=a.start.decode,s[l].transmuxedPresentationEnd=a.end.presentation,s[l].transmuxedDecodeEnd=a.end.decode,s[l].baseMediaDecodeTime=a.baseMediaDecodeTime}},i.appendData_=function(r,o){var a=o.type,s=o.data;if(!(!s||!s.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:a,initSegment:o.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:a,initSegment:l,data:s})}},i.loadSegment_=function(r){var o=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=Me({},r,{forceTimestampOffset:!0});Me(r,o.generateSegmentInfo_(a)),o.isPendingTimestampOffset_=!1,o.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},i.updateTransmuxerAndRequestSegment_=function(r){var o=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var a=this.createSimplifiedSegmentObj_(r),s=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),l=this.mediaIndex!==null,c=r.timeline!==this.currentTimeline_&&r.timeline>0,d=s||l&&c;this.logger_("Requesting "+ad(r)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=_ye({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:function(){o.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(h){var m=h.message,v=h.level,w=h.stream;o.logger_(ad(r)+" logged from transmuxer stream "+w+" as a "+v+": "+m)}})},i.trimBackBuffer_=function(r){var o=Vye(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);o>0&&this.remove(0,o)},i.createSimplifiedSegmentObj_=function(r){var o=r.segment,a=r.part,s={resolvedUri:a?a.resolvedUri:o.resolvedUri,byterange:a?a.byterange:o.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},l=r.playlist.segments[r.mediaIndex-1];if(l&&l.timeline===o.timeline&&(l.videoTimingInfo?s.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(s.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),o.key){var c=o.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);s.key=this.segmentKey(o.key),s.key.iv=c}return o.map&&(s.map=this.initSegmentForMap(o.map)),s},i.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},i.saveBandwidthRelatedStats_=function(r,o){if(this.pendingSegment_.byteLength=o.bytesReceived,r<X0){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+X0));return}this.bandwidth=o.bandwidth,this.roundTrip=o.roundTripTime},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(r,o,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,o,a));return}if(this.saveTransferStats_(o.stats),!!this.pendingSegment_&&o.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===la.ABORTED)return;if(this.pause(),r.code===la.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,o.stats),s.endOfAllRequests=o.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=jye(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}},i.setTimeMapping_=function(r){var o=this.syncController_.mappingForTimeline(r);o!==null&&(this.timeMapping_=o)},i.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},i.trueSegmentStart_=function(r){var o=r.currentStart,a=r.playlist,s=r.mediaIndex,l=r.firstVideoFrameTimeForData,c=r.currentVideoTimestampOffset,d=r.useVideoTimingInfo,f=r.videoTimingInfo,h=r.audioTimingInfo;if(typeof o!="undefined")return o;if(!d)return h.start;var m=a.segments[s-1];return s===0||!m||typeof m.start=="undefined"||m.end!==l+c?l:f.start},i.waitForAppendsToComplete_=function(r){var o=this.getCurrentMediaInfo_(r);if(!o){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=o.hasAudio,s=o.hasVideo,l=o.isMuxed,c=this.loaderType_==="main"&&s,d=!this.audioDisabled_&&a&&!l;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}c&&r.waitingOnAppends++,d&&r.waitingOnAppends++,c&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},i.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(r){var o=Yye(this.loaderType_,this.getCurrentMediaInfo_(),r);return o?(this.error({message:o,blacklistDuration:1/0}),this.trigger("error"),!0):!1},i.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var o=!1;r.timestampOffset-=r.timingInfo.start,r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),o=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),o=!0),o&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var o=this.getMediaInfo_(),a=this.loaderType_==="main"&&o&&o.hasVideo,s=a&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;!s||(r.timingInfo.end=typeof s.end=="number"?s.end:s.start+r.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var o=qye(r,this.sourceType_);if(o&&(o.severity==="warn"?ee.log.warn(o.message):this.logger_(o.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+ad(r));return}this.logger_("Appended "+ad(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var a=r.segment,s=r.part,l=a.end&&this.currentTime_()-a.end>r.playlist.targetDuration*3,c=s&&s.end&&this.currentTime_()-s.end>r.playlist.partTargetDuration*3;if(l||c){this.logger_("bad "+(l?"segment":"part")+" "+ad(r)),this.resetEverything();return}var d=this.mediaIndex!==null;d&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput_=function(r){if(r.duration<X0){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+X0));return}var o=this.throughput.rate,a=Date.now()-r.endOfAllRequests+1,s=Math.floor(r.byteLength/a*8*1e3);this.throughput.rate+=(s-o)/++this.throughput.count},i.addSegmentMetadataCue_=function(r){if(!!this.segmentMetadataTrack_){var o=r.segment,a=o.start,s=o.end;if(!(!$L(a)||!$L(s))){Ih(a,s,this.segmentMetadataTrack_);var l=Q.WebKitDataCue||Q.VTTCue,c={custom:o.custom,dateTimeObject:o.dateTimeObject,dateTimeString:o.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:a,end:s},d=JSON.stringify(c),f=new l(a,s,d);f.value=c,this.segmentMetadataTrack_.addCue(f)}}},e}(ee.EventTarget);function rs(){}var FU=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},Kye=["video","audio"],lT=function(e,i){var n=i[e+"Buffer"];return n&&n.updating||i.queuePending[e]},Xye=function(e,i){for(var n=0;n<i.length;n++){var r=i[n];if(r.type==="mediaSource")return null;if(r.type===e)return n}return null},hz=function t(e,i){if(i.queue.length!==0){var n=0,r=i.queue[n];if(r.type==="mediaSource"){!i.updating()&&i.mediaSource.readyState!=="closed"&&(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),t("audio",i),t("video",i));return}if(e!=="mediaSource"&&!(!i.ready()||i.mediaSource.readyState==="closed"||lT(e,i))){if(r.type!==e){if(n=Xye(e,i.queue),n===null)return;r=i.queue[n]}if(i.queue.splice(n,1),i.queuePending[e]=r,r.action(e,i),!r.doneFn){i.queuePending[e]=null,t(e,i);return}}}},NU=function(e,i){var n=i[e+"Buffer"],r=FU(e);!n||(n.removeEventListener("updateend",i["on"+r+"UpdateEnd_"]),n.removeEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=null,i[e+"Buffer"]=null)},ea=function(e,i){return e&&i&&Array.prototype.indexOf.call(e.sourceBuffers,i)!==-1},Nr={appendBuffer:function(e,i,n){return function(r,o){var a=o[r+"Buffer"];if(!!ea(o.mediaSource,a)){o.logger_("Appending segment "+i.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{a.appendBuffer(e)}catch(s){o.logger_("Error with code "+s.code+" "+(s.code===BU?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+i.mediaIndex+" to "+r+"Buffer")),o.queuePending[r]=null,n(s)}}}},remove:function(e,i){return function(n,r){var o=r[n+"Buffer"];if(!!ea(r.mediaSource,o)){r.logger_("Removing "+e+" to "+i+" from "+n+"Buffer");try{o.remove(e,i)}catch{r.logger_("Remove "+e+" to "+i+" from "+n+"Buffer failed")}}}},timestampOffset:function(e){return function(i,n){var r=n[i+"Buffer"];!ea(n.mediaSource,r)||(n.logger_("Setting "+i+"timestampOffset to "+e),r.timestampOffset=e)}},callback:function(e){return function(i,n){e()}},endOfStream:function(e){return function(i){if(i.mediaSource.readyState==="open"){i.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{i.mediaSource.endOfStream(e)}catch(n){ee.log.warn("Failed to call media source endOfStream",n)}}}},duration:function(e){return function(i){i.logger_("Setting mediaSource duration to "+e);try{i.mediaSource.duration=e}catch(n){ee.log.warn("Failed to set media source duration",n)}}},abort:function(){return function(e,i){if(i.mediaSource.readyState==="open"){var n=i[e+"Buffer"];if(!!ea(i.mediaSource,n)){i.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(r){ee.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},addSourceBuffer:function(e,i){return function(n){var r=FU(e),o=Qm(i);n.logger_("Adding "+e+"Buffer with codec "+i+" to mediaSource");var a=n.mediaSource.addSourceBuffer(o);a.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),a.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=i,n[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(i){var n=i[e+"Buffer"];if(NU(e,i),!!ea(i.mediaSource,n)){i.logger_("Removing "+e+"Buffer with codec "+i.codecs[e]+" from mediaSource");try{i.mediaSource.removeSourceBuffer(n)}catch(r){ee.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},changeType:function(e){return function(i,n){var r=n[i+"Buffer"],o=Qm(e);!ea(n.mediaSource,r)||n.codecs[i]!==e&&(n.logger_("changing "+i+"Buffer codec from "+n.codecs[i]+" to "+e),r.changeType(o),n.codecs[i]=e)}}},jr=function(e){var i=e.type,n=e.sourceUpdater,r=e.action,o=e.doneFn,a=e.name;n.queue.push({type:i,action:r,doneFn:o,name:a}),hz(i,n)},XL=function(e,i){return function(n){if(i.queuePending[e]){var r=i.queuePending[e].doneFn;i.queuePending[e]=null,r&&r(i[e+"Error_"])}hz(e,i)}},jU=function(t){ye(e,t);function e(n){var r;return r=t.call(this)||this,r.mediaSource=n,r.sourceopenListener_=function(){return hz("mediaSource",re(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=Ho("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=XL("video",re(r)),r.onAudioUpdateEnd_=XL("audio",re(r)),r.onVideoError_=function(o){r.videoError_=o},r.onAudioError_=function(o){r.audioError_=o},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(r,o){jr({type:"mediaSource",sourceUpdater:this,action:Nr.addSourceBuffer(r,o),name:"addSourceBuffer"})},i.abort=function(r){jr({type:r,sourceUpdater:this,action:Nr.abort(r),name:"abort"})},i.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){ee.log.error("removeSourceBuffer is not supported!");return}jr({type:"mediaSource",sourceUpdater:this,action:Nr.removeSourceBuffer(r),name:"removeSourceBuffer"})},i.canRemoveSourceBuffer=function(){return!ee.browser.IE_VERSION&&!ee.browser.IS_FIREFOX&&Q.MediaSource&&Q.MediaSource.prototype&&typeof Q.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return Q.SourceBuffer&&Q.SourceBuffer.prototype&&typeof Q.SourceBuffer.prototype.changeType=="function"},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(r,o){if(!this.canChangeType()){ee.log.error("changeType is not supported!");return}jr({type:r,sourceUpdater:this,action:Nr.changeType(o),name:"changeType"})},i.addOrChangeSourceBuffers=function(r){var o=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(a){var s=r[a];if(!o.hasCreatedSourceBuffers())return o.addSourceBuffer(a,s);o.canChangeType()&&o.changeType(a,s)})},i.appendBuffer=function(r,o){var a=this,s=r.segmentInfo,l=r.type,c=r.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,o]),this.logger_("delayed audio append of "+c.length+" until video append");return}var d=o;if(jr({type:l,sourceUpdater:this,action:Nr.appendBuffer(c,s||{mediaIndex:-1},d),doneFn:o,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var f=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+f.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,f.forEach(function(h){a.appendBuffer.apply(a,h)})}},i.audioBuffered=function(){return ea(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:ee.createTimeRange()},i.videoBuffered=function(){return ea(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:ee.createTimeRange()},i.buffered=function(){var r=ea(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,o=ea(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return o&&!r?this.audioBuffered():r&&!o?this.videoBuffered():vve(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(r,o){o===void 0&&(o=rs),jr({type:"mediaSource",sourceUpdater:this,action:Nr.duration(r),name:"duration",doneFn:o})},i.endOfStream=function(r,o){r===void 0&&(r=null),o===void 0&&(o=rs),typeof r!="string"&&(r=void 0),jr({type:"mediaSource",sourceUpdater:this,action:Nr.endOfStream(r),name:"endOfStream",doneFn:o})},i.removeAudio=function(r,o,a){if(a===void 0&&(a=rs),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}jr({type:"audio",sourceUpdater:this,action:Nr.remove(r,o),doneFn:a,name:"remove"})},i.removeVideo=function(r,o,a){if(a===void 0&&(a=rs),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}jr({type:"video",sourceUpdater:this,action:Nr.remove(r,o),doneFn:a,name:"remove"})},i.updating=function(){return!!(lT("audio",this)||lT("video",this))},i.audioTimestampOffset=function(r){return typeof r!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(jr({type:"audio",sourceUpdater:this,action:Nr.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},i.videoTimestampOffset=function(r){return typeof r!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(jr({type:"video",sourceUpdater:this,action:Nr.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},i.audioQueueCallback=function(r){!this.audioBuffer||jr({type:"audio",sourceUpdater:this,action:Nr.callback(r),name:"callback"})},i.videoQueueCallback=function(r){!this.videoBuffer||jr({type:"video",sourceUpdater:this,action:Nr.callback(r),name:"callback"})},i.dispose=function(){var r=this;this.trigger("dispose"),Kye.forEach(function(o){r.abort(o),r.canRemoveSourceBuffer()?r.removeSourceBuffer(o):r[o+"QueueCallback"](function(){return NU(o,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(ee.EventTarget),JL=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},ZL=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),Jye=function(t){ye(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,o.mediaSource_=null,o.subtitlesTrack_=null,o.loaderType_="subtitle",o.featuresNativeTextTracks_=n.featuresNativeTextTracks,o.shouldSaveSegmentTimingInfo_=!1,o}var i=e.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return ee.createTimeRanges();var r=this.subtitlesTrack_.cues,o=r[0].startTime,a=r[r.length-1].startTime;return ee.createTimeRanges([[o,a]])},i.initSegmentForMap=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=tw(r),s=this.initSegments_[a];if(o&&!s&&r.bytes){var l=ZL.byteLength+r.bytes.byteLength,c=new Uint8Array(l);c.set(r.bytes),c.set(ZL,r.bytes.byteLength),this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:c}}return s||r},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(r){return typeof r=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(r,o){Ih(r,o,this.subtitlesTrack_)},i.fillBuffer_=function(){var r=this,o=this.chooseNextRequest_();if(!!o){if(this.syncController_.timestampOffsetForTimeline(o.timeline)===null){var a=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(o)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},i.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(r,o,a){var s=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(o.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===la.TIMEOUT&&this.handleTimeout_(),r.code===la.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,o.stats),this.state="APPENDING",this.trigger("appending");var c=l.segment;if(c.map&&(c.map.bytes=o.map.bytes),l.bytes=o.bytes,typeof Q.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var d,f=function(){s.subtitlesTrack_.tech_.off("vttjsloaded",d),s.stopForError({message:"Error loading vtt.js"})};d=function(){s.subtitlesTrack_.tech_.off("vttjserror",f),s.segmentRequestFinished_(r,o,a)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",d),this.subtitlesTrack_.tech_.one("vttjserror",f);return}c.requested=!0;try{this.parseVTTCues_(l)}catch(h){this.stopForError({message:h.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=c.duration,l.cues.forEach(function(h){s.subtitlesTrack_.addCue(s.featuresNativeTextTracks_?new Q.VTTCue(h.startTime,h.endTime,h.text):h)}),Fye(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(r){var o,a=!1;typeof Q.TextDecoder=="function"?o=new Q.TextDecoder("utf8"):(o=Q.WebVTT.StringDecoder(),a=!0);var s=new Q.WebVTT.Parser(Q,Q.vttjs,o);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=r.cues.push.bind(r.cues),s.ontimestampmap=function(d){r.timestampmap=d},s.onparsingerror=function(d){ee.log.warn("Error encountered when parsing cues: "+d.message)},r.segment.map){var l=r.segment.map.bytes;a&&(l=JL(l)),s.parse(l)}var c=r.bytes;a&&(c=JL(c)),s.parse(c),s.flush()},i.updateTimeMapping_=function(r,o,a){var s=r.segment;if(!!o){if(!r.cues.length){s.empty=!0;return}var l=r.timestampmap,c=l.MPEGTS/Hy.ONE_SECOND_IN_TS-l.LOCAL+o.mapping;if(r.cues.forEach(function(h){h.startTime+=c,h.endTime+=c}),!a.syncInfo){var d=r.cues[0].startTime,f=r.cues[r.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+r.mediaIndex,time:Math.min(d,f-s.duration)}}}},e}(sT),Zye=function(e,i){for(var n=e.cues,r=0;r<n.length;r++){var o=n[r];if(i>=o.adStartTime&&i<=o.adEndTime)return o}return null},ewe=function(e,i,n){if(n===void 0&&(n=0),!!e.segments)for(var r=n,o,a=0;a<e.segments.length;a++){var s=e.segments[a];if(o||(o=Zye(i,r+s.duration/2)),o){if("cueIn"in s){o.endTime=r,o.adEndTime=r,r+=s.duration,o=null;continue}if(r<o.endTime){r+=s.duration;continue}o.endTime+=s.duration}else if("cueOut"in s&&(o=new Q.VTTCue(r,r+s.duration,s.cueOut),o.adStartTime=r,o.adEndTime=r+parseFloat(s.cueOut),i.addCue(o)),"cueOutCont"in s){var l=s.cueOutCont.split("/").map(parseFloat),c=l[0],d=l[1];o=new Q.VTTCue(r,r+s.duration,""),o.adStartTime=r-c,o.adEndTime=o.adStartTime+d,i.addCue(o)}r+=s.duration}},twe=86400,eO=[{name:"VOD",run:function(e,i,n,r,o){if(n!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,i,n,r,o){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,s=null,l=Z2(i);o=o||0;for(var c=0;c<l.length;c++){var d=i.endList||o===0?c:l.length-(c+1),f=l[d],h=f.segment,m=e.timelineToDatetimeMappings[h.timeline];if(!(!m||!h.dateTimeObject)){var v=h.dateTimeObject.getTime()/1e3,w=v+m;if(h.parts&&typeof f.partIndex=="number")for(var g=0;g<f.partIndex;g++)w+=h.parts[g].duration;var A=Math.abs(o-w);if(s!==null&&(A===0||s<A))break;s=A,a={time:w,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}}return a}},{name:"Segment",run:function(e,i,n,r,o){var a=null,s=null;o=o||0;for(var l=Z2(i),c=0;c<l.length;c++){var d=i.endList||o===0?c:l.length-(c+1),f=l[d],h=f.segment,m=f.part&&f.part.start||h&&h.start;if(h.timeline===r&&typeof m!="undefined"){var v=Math.abs(o-m);if(s!==null&&s<v)break;(!a||s===null||s>=v)&&(s=v,a={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return a}},{name:"Discontinuity",run:function(e,i,n,r,o){var a=null;if(o=o||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var s=null,l=0;l<i.discontinuityStarts.length;l++){var c=i.discontinuityStarts[l],d=i.discontinuitySequence+l+1,f=e.discontinuities[d];if(f){var h=Math.abs(o-f.time);if(s!==null&&s<h)break;(!a||s===null||s>=h)&&(s=h,a={time:f.time,segmentIndex:c,partIndex:null})}}return a}},{name:"Playlist",run:function(e,i,n,r,o){if(i.syncInfo){var a={time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence,partIndex:null};return a}return null}}],iwe=function(t){ye(e,t);function e(n){var r;return r=t.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=Ho("SyncController"),r}var i=e.prototype;return i.getSyncPoint=function(r,o,a,s){var l=this.runStrategies_(r,o,a,s);return l.length?this.selectSyncPoint_(l,{key:"time",value:s}):null},i.getExpiredTime=function(r,o){if(!r||!r.segments)return null;var a=this.runStrategies_(r,o,r.discontinuitySequence,0);if(!a.length)return null;var s=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+Jh({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:s.segmentIndex,endIndex:0}))},i.runStrategies_=function(r,o,a,s){for(var l=[],c=0;c<eO.length;c++){var d=eO[c],f=d.run(this,r,o,a,s);f&&(f.strategy=d.name,l.push({strategy:d.name,syncPoint:f}))}return l},i.selectSyncPoint_=function(r,o){for(var a=r[0].syncPoint,s=Math.abs(r[0].syncPoint[o.key]-o.value),l=r[0].strategy,c=1;c<r.length;c++){var d=Math.abs(r[c].syncPoint[o.key]-o.value);d<s&&(s=d,a=r[c].syncPoint,l=r[c].strategy)}return this.logger_("syncPoint for ["+o.key+": "+o.value+"] chosen with strategy"+(" ["+l+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},i.saveExpiredSegmentInfo=function(r,o){var a=o.mediaSequence-r.mediaSequence;if(a>twe){ee.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var s=a-1;s>=0;s--){var l=r.segments[s];if(l&&typeof l.start!="undefined"){o.syncInfo={mediaSequence:r.mediaSequence+s,time:l.start},this.logger_("playlist refresh sync: [time:"+o.syncInfo.time+","+(" mediaSequence: "+o.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var o=r.segments[0],a=o.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[o.timeline]=-a}},i.saveSegmentTimingInfo=function(r){var o=r.segmentInfo,a=r.shouldSaveTimelineMapping,s=this.calculateSegmentTimeMapping_(o,o.timingInfo,a),l=o.segment;s&&(this.saveDiscontinuitySyncInfo_(o),o.playlist.syncInfo||(o.playlist.syncInfo={mediaSequence:o.playlist.mediaSequence+o.mediaIndex,time:l.start}));var c=l.dateTimeObject;l.discontinuity&&a&&c&&(this.timelineToDatetimeMappings[l.timeline]=-(c.getTime()/1e3))},i.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].time},i.mappingForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].mapping},i.calculateSegmentTimeMapping_=function(r,o,a){var s=r.segment,l=r.part,c=this.timelines[r.timeline],d,f;if(typeof r.timestampOffset=="number")c={time:r.startOfSegment,mapping:r.startOfSegment-o.start},a&&(this.timelines[r.timeline]=c,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+c.time+"] [mapping: "+c.mapping+"]"))),d=r.startOfSegment,f=o.end+c.mapping;else if(c)d=o.start+c.mapping,f=o.end+c.mapping;else return!1;return l&&(l.start=d,l.end=f),(!s.start||d<s.start)&&(s.start=d),s.end=f,!0},i.saveDiscontinuitySyncInfo_=function(r){var o=r.playlist,a=r.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(o.discontinuityStarts&&o.discontinuityStarts.length)for(var s=0;s<o.discontinuityStarts.length;s++){var l=o.discontinuityStarts[s],c=o.discontinuitySequence+s+1,d=l-r.mediaIndex,f=Math.abs(d);if(!this.discontinuities[c]||this.discontinuities[c].accuracy>f){var h=void 0;d<0?h=a.start-Jh({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:r.mediaIndex,endIndex:l}):h=a.end+Jh({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:r.mediaIndex+1,endIndex:l}),this.discontinuities[c]={time:h,accuracy:f}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(ee.EventTarget),nwe=function(t){ye(e,t);function e(){var n;return n=t.call(this)||this,n.pendingTimelineChanges_={},n.lastTimelineChanges_={},n}var i=e.prototype;return i.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(r){var o=r.type,a=r.from,s=r.to;return typeof a=="number"&&typeof s=="number"&&(this.pendingTimelineChanges_[o]={type:o,from:a,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[o]},i.lastTimelineChange=function(r){var o=r.type,a=r.from,s=r.to;return typeof a=="number"&&typeof s=="number"&&(this.lastTimelineChanges_[o]={type:o,from:a,to:s},delete this.pendingTimelineChanges_[o],this.trigger("timelinechange")),this.lastTimelineChanges_[o]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(ee.EventTarget),rwe=SU(CU(function(){function t(w,g,A){return A={path:g,exports:{},require:function(T,E){return e(T,E==null?A.path:E)}},w(A,A.exports),A.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=t(function(w){function g(x,T){for(var E=0;E<T.length;E++){var z=T[E];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(x,z.key,z)}}function A(x,T,E){return T&&g(x.prototype,T),E&&g(x,E),x}w.exports=A,w.exports.default=w.exports,w.exports.__esModule=!0}),n=t(function(w){function g(A,x){return w.exports=g=Object.setPrototypeOf||function(E,z){return E.__proto__=z,E},w.exports.default=w.exports,w.exports.__esModule=!0,g(A,x)}w.exports=g,w.exports.default=w.exports,w.exports.__esModule=!0}),r=t(function(w){function g(A,x){A.prototype=Object.create(x.prototype),A.prototype.constructor=A,n(A,x)}w.exports=g,w.exports.default=w.exports,w.exports.__esModule=!0}),o=function(){function w(){this.listeners={}}var g=w.prototype;return g.on=function(x,T){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push(T)},g.off=function(x,T){if(!this.listeners[x])return!1;var E=this.listeners[x].indexOf(T);return this.listeners[x]=this.listeners[x].slice(0),this.listeners[x].splice(E,1),E>-1},g.trigger=function(x){var T=this.listeners[x];if(!!T)if(arguments.length===2)for(var E=T.length,z=0;z<E;++z)T[z].call(this,arguments[1]);else for(var L=Array.prototype.slice.call(arguments,1),B=T.length,O=0;O<B;++O)T[O].apply(this,L)},g.dispose=function(){this.listeners={}},g.pipe=function(x){this.on("data",function(T){x.push(T)})},w}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function a(w){return w.subarray(0,w.byteLength-w[w.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var s=function(){var g=[[[],[],[],[],[]],[[],[],[],[],[]]],A=g[0],x=g[1],T=A[4],E=x[4],z,L,B,O=[],F=[],H,X,de,we,Ee,_e;for(z=0;z<256;z++)F[(O[z]=z<<1^(z>>7)*283)^z]=z;for(L=B=0;!T[L];L^=H||1,B=F[B]||1)for(we=B^B<<1^B<<2^B<<3^B<<4,we=we>>8^we&255^99,T[L]=we,E[we]=L,de=O[X=O[H=O[L]]],_e=de*16843009^X*65537^H*257^L*16843008,Ee=O[we]*257^we*16843008,z=0;z<4;z++)A[z][L]=Ee=Ee<<24^Ee>>>8,x[z][we]=_e=_e<<24^_e>>>8;for(z=0;z<5;z++)A[z]=A[z].slice(0),x[z]=x[z].slice(0);return g},l=null,c=function(){function w(A){l||(l=s()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var x,T,E,z=this._tables[0][4],L=this._tables[1],B=A.length,O=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");var F=A.slice(0),H=[];for(this._key=[F,H],x=B;x<4*B+28;x++)E=F[x-1],(x%B===0||B===8&&x%B===4)&&(E=z[E>>>24]<<24^z[E>>16&255]<<16^z[E>>8&255]<<8^z[E&255],x%B===0&&(E=E<<8^E>>>24^O<<24,O=O<<1^(O>>7)*283)),F[x]=F[x-B]^E;for(T=0;x;T++,x--)E=F[T&3?x:x-4],x<=4||T<4?H[T]=E:H[T]=L[0][z[E>>>24]]^L[1][z[E>>16&255]]^L[2][z[E>>8&255]]^L[3][z[E&255]]}var g=w.prototype;return g.decrypt=function(x,T,E,z,L,B){var O=this._key[1],F=x^O[0],H=z^O[1],X=E^O[2],de=T^O[3],we,Ee,_e,Ne=O.length/4-2,Be,Ve=4,Pe=this._tables[1],De=Pe[0],se=Pe[1],Z=Pe[2],ce=Pe[3],te=Pe[4];for(Be=0;Be<Ne;Be++)we=De[F>>>24]^se[H>>16&255]^Z[X>>8&255]^ce[de&255]^O[Ve],Ee=De[H>>>24]^se[X>>16&255]^Z[de>>8&255]^ce[F&255]^O[Ve+1],_e=De[X>>>24]^se[de>>16&255]^Z[F>>8&255]^ce[H&255]^O[Ve+2],de=De[de>>>24]^se[F>>16&255]^Z[H>>8&255]^ce[X&255]^O[Ve+3],Ve+=4,F=we,H=Ee,X=_e;for(Be=0;Be<4;Be++)L[(3&-Be)+B]=te[F>>>24]<<24^te[H>>16&255]<<16^te[X>>8&255]<<8^te[de&255]^O[Ve++],we=F,F=H,H=X,X=de,de=we},w}(),d=function(w){r(g,w);function g(){var x;return x=w.call(this,o)||this,x.jobs=[],x.delay=1,x.timeout_=null,x}var A=g.prototype;return A.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},A.push=function(T){this.jobs.push(T),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},g}(o),f=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},h=function(g,A,x){var T=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),E=new c(Array.prototype.slice.call(A)),z=new Uint8Array(g.byteLength),L=new Int32Array(z.buffer),B,O,F,H,X,de,we,Ee,_e;for(B=x[0],O=x[1],F=x[2],H=x[3],_e=0;_e<T.length;_e+=4)X=f(T[_e]),de=f(T[_e+1]),we=f(T[_e+2]),Ee=f(T[_e+3]),E.decrypt(X,de,we,Ee,L,_e),L[_e]=f(L[_e]^B),L[_e+1]=f(L[_e+1]^O),L[_e+2]=f(L[_e+2]^F),L[_e+3]=f(L[_e+3]^H),B=X,O=de,F=we,H=Ee;return z},m=function(){function w(A,x,T,E){var z=w.STEP,L=new Int32Array(A.buffer),B=new Uint8Array(A.byteLength),O=0;for(this.asyncStream_=new d,this.asyncStream_.push(this.decryptChunk_(L.subarray(O,O+z),x,T,B)),O=z;O<L.length;O+=z)T=new Uint32Array([f(L[O-4]),f(L[O-3]),f(L[O-2]),f(L[O-1])]),this.asyncStream_.push(this.decryptChunk_(L.subarray(O,O+z),x,T,B));this.asyncStream_.push(function(){E(null,a(B))})}var g=w.prototype;return g.decryptChunk_=function(x,T,E,z){return function(){var L=h(x,T,E);z.set(L,x.byteOffset)}},i(w,null,[{key:"STEP",get:function(){return 32e3}}]),w}(),v=function(g){var A={};return Object.keys(g).forEach(function(x){var T=g[x];ArrayBuffer.isView(T)?A[x]={bytes:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength}:A[x]=T}),A};self.onmessage=function(w){var g=w.data,A=new Uint8Array(g.encrypted.bytes,g.encrypted.byteOffset,g.encrypted.byteLength),x=new Uint32Array(g.key.bytes,g.key.byteOffset,g.key.byteLength/4),T=new Uint32Array(g.iv.bytes,g.iv.byteOffset,g.iv.byteLength/4);new m(A,x,T,function(E,z){self.postMessage(v({source:g.source,decrypted:z}),[z.buffer])})}})),owe=TU(rwe),awe=function(e){var i=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},ow=function(e,i){e.abort(),e.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},cT=function(e,i){i.activePlaylistLoader=e,e.load()},swe=function(e,i){return function(){var n=i.segmentLoaders,r=n[e],o=n.main,a=i.mediaTypes[e],s=a.activeTrack(),l=a.getActiveGroup(),c=a.activePlaylistLoader,d=a.lastGroup_;if(!(l&&d&&l.id===d.id)&&(a.lastGroup_=l,a.lastTrack_=s,ow(r,a),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){c&&o.resetEverything();return}r.resyncLoader(),cT(l.playlistLoader,a)}}},lwe=function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e];r.lastGroup_=null,n.abort(),n.pause()}},cwe=function(e,i){return function(){var n=i.masterPlaylistLoader,r=i.segmentLoaders,o=r[e],a=r.main,s=i.mediaTypes[e],l=s.activeTrack(),c=s.getActiveGroup(),d=s.activePlaylistLoader,f=s.lastTrack_;if(!(f&&l&&f.id===l.id)&&(s.lastGroup_=c,s.lastTrack_=l,ow(o,s),!!c)){if(c.isMasterPlaylist){if(!l||!f||l.id===f.id)return;var h=i.vhs.masterPlaylistController_,m=h.selectPlaylist();if(h.media()===m)return;s.logger_("track change. Switching master audio from "+f.id+" to "+l.id),n.pause(),a.resetEverything(),h.fastQualityChange_(m);return}if(e==="AUDIO"){if(!c.playlistLoader){a.setAudio(!0),a.resetEverything();return}o.setAudio(!0),a.setAudio(!1)}if(d===c.playlistLoader){cT(c.playlistLoader,s);return}o.track&&o.track(l),o.resetEverything(),cT(c.playlistLoader,s)}}},aw={AUDIO:function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e],o=i.blacklistCurrentPlaylist;ow(n,r);var a=r.activeTrack(),s=r.activeGroup(),l=(s.filter(function(f){return f.default})[0]||s[0]).id,c=r.tracks[l];if(a===c){o({message:"Problem encountered loading the default audio track."});return}ee.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in r.tracks)r.tracks[d].enabled=r.tracks[d]===c;r.onTrackChanged()}},SUBTITLES:function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e];ee.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ow(n,r);var o=r.activeTrack();o&&(o.mode="disabled"),r.onTrackChanged()}}},tO={AUDIO:function(e,i,n){if(!!i){var r=n.tech,o=n.requestOptions,a=n.segmentLoaders[e];i.on("loadedmetadata",function(){var s=i.media();a.playlist(s,o),(!r.paused()||s.endList&&r.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),o),r.paused()||a.load()}),i.on("error",aw[e](e,n))}},SUBTITLES:function(e,i,n){var r=n.tech,o=n.requestOptions,a=n.segmentLoaders[e],s=n.mediaTypes[e];i.on("loadedmetadata",function(){var l=i.media();a.playlist(l,o),a.track(s.activeTrack()),(!r.paused()||l.endList&&r.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),o),r.paused()||a.load()}),i.on("error",aw[e](e,n))}},uwe={AUDIO:function(e,i){var n=i.vhs,r=i.sourceType,o=i.segmentLoaders[e],a=i.requestOptions,s=i.master.mediaGroups,l=i.mediaTypes[e],c=l.groups,d=l.tracks,f=l.logger_,h=i.masterPlaylistLoader,m=Zg(h.master);(!s[e]||Object.keys(s[e]).length===0)&&(s[e]={main:{default:{default:!0}}},m&&(s[e].main.default.playlists=h.master.playlists));for(var v in s[e]){c[v]||(c[v]=[]);for(var w in s[e][v]){var g=s[e][v][w],A=void 0;if(m?(f("AUDIO group '"+v+"' label '"+w+"' is a master playlist"),g.isMasterPlaylist=!0,A=null):r==="vhs-json"&&g.playlists?A=new kd(g.playlists[0],n,a):g.resolvedUri?A=new kd(g.resolvedUri,n,a):g.playlists&&r==="dash"?A=new oT(g.playlists[0],n,a,h):A=null,g=ee.mergeOptions({id:w,playlistLoader:A},g),tO[e](e,g.playlistLoader,i),c[v].push(g),typeof d[w]=="undefined"){var x=new ee.AudioTrack({id:w,kind:awe(g),enabled:!1,language:g.language,default:g.default,label:w});d[w]=x}}}o.on("error",aw[e](e,i))},SUBTITLES:function(e,i){var n=i.tech,r=i.vhs,o=i.sourceType,a=i.segmentLoaders[e],s=i.requestOptions,l=i.master.mediaGroups,c=i.mediaTypes[e],d=c.groups,f=c.tracks,h=i.masterPlaylistLoader;for(var m in l[e]){d[m]||(d[m]=[]);for(var v in l[e][m])if(!l[e][m][v].forced){var w=l[e][m][v],g=void 0;if(o==="hls")g=new kd(w.resolvedUri,r,s);else if(o==="dash"){var A=w.playlists.filter(function(T){return T.excludeUntil!==1/0});if(!A.length)return;g=new oT(w.playlists[0],r,s,h)}else o==="vhs-json"&&(g=new kd(w.playlists?w.playlists[0]:w.resolvedUri,r,s));if(w=ee.mergeOptions({id:v,playlistLoader:g},w),tO[e](e,w.playlistLoader,i),d[m].push(w),typeof f[v]=="undefined"){var x=n.addRemoteTextTrack({id:v,kind:"subtitles",default:w.default&&w.autoselect,language:w.language,label:v},!1).track;f[v]=x}}}a.on("error",aw[e](e,i))},"CLOSED-CAPTIONS":function(e,i){var n=i.tech,r=i.master.mediaGroups,o=i.mediaTypes[e],a=o.groups,s=o.tracks;for(var l in r[e]){a[l]||(a[l]=[]);for(var c in r[e][l]){var d=r[e][l][c];if(!!/^(?:CC|SERVICE)/.test(d.instreamId)){var f=n.options_.vhs&&n.options_.vhs.captionServices||{},h={label:c,language:d.language,instreamId:d.instreamId,default:d.default&&d.autoselect};if(f[h.instreamId]&&(h=ee.mergeOptions(h,f[h.instreamId])),h.default===void 0&&delete h.default,a[l].push(ee.mergeOptions({id:c},d)),typeof s[c]=="undefined"){var m=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;s[c]=m}}}}}},dwe=function t(e,i){for(var n=0;n<e.length;n++)if(uz(i,e[n])||e[n].playlists&&t(e[n].playlists,i))return!0;return!1},fwe=function(e,i){return function(n){var r=i.masterPlaylistLoader,o=i.mediaTypes[e].groups,a=r.media();if(!a)return null;var s=null;a.attributes[e]&&(s=o[a.attributes[e]]);var l=Object.keys(o);if(!s)if(e==="AUDIO"&&l.length>1&&Zg(i.master))for(var c=0;c<l.length;c++){var d=o[l[c]];if(dwe(d,a)){s=d;break}}else o.main?s=o.main:l.length===1&&(s=o[l[0]]);return typeof n=="undefined"?s:n===null||!s?null:s.filter(function(f){return f.id===n.id})[0]||null}},pwe={AUDIO:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}}},hwe=function(e,i){var n=i.mediaTypes;return function(){var r=n[e].activeTrack();return r?n[e].activeGroup(r):null}},mwe=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(v){uwe[v](v,e)});var i=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,o=e.vhs,a=e.segmentLoaders,s=a.AUDIO,l=a.main;["AUDIO","SUBTITLES"].forEach(function(v){i[v].activeGroup=fwe(v,e),i[v].activeTrack=pwe[v](v,e),i[v].onGroupChanged=swe(v,e),i[v].onGroupChanging=lwe(v,e),i[v].onTrackChanged=cwe(v,e),i[v].getActiveGroup=hwe(v,e)});var c=i.AUDIO.activeGroup();if(c){var d=(c.filter(function(v){return v.default})[0]||c[0]).id;i.AUDIO.tracks[d].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged();var f=i.AUDIO.getActiveGroup();f.playlistLoader?(l.setAudio(!1),s.setAudio(!0)):l.setAudio(!0)}n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(v){return i[v].onGroupChanged()})}),n.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(v){return i[v].onGroupChanging()})});var h=function(){i.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",h),r.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),o.on("dispose",function(){r.audioTracks().removeEventListener("change",h),r.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var m in i.AUDIO.tracks)r.audioTracks().addTrack(i.AUDIO.tracks[m])},gwe=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(i){e[i]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:rs,activeTrack:rs,getActiveGroup:rs,onGroupChanged:rs,onTrackChanged:rs,lastTrack_:null,logger_:Ho("MediaGroups["+i+"]")}}),e},bwe=60*2,qa,vwe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],ywe=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},wwe=function(e){var i=e.currentPlaylist,n=e.buffered,r=e.currentTime,o=e.nextPlaylist,a=e.bufferLowWaterLine,s=e.bufferHighWaterLine,l=e.duration,c=e.experimentalBufferBasedABR,d=e.log;if(!o)return ee.log.warn("We received no playlist to switch to. Please check your stream."),!1;var f="allowing switch "+(i&&i.id||"null")+" -> "+o.id;if(!i)return d(f+" as current playlist is not set"),!0;if(o.id===i.id)return!1;var h=Boolean(xd(n,r).length);if(!i.endList)return!h&&typeof i.partTargetDuration=="number"?(d("not "+f+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(d(f+" as current playlist is live"),!0);var m=sz(n,r),v=c?Ji.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Ji.MAX_BUFFER_LOW_WATER_LINE;if(l<v)return d(f+" as duration < max low water line ("+l+" < "+v+")"),!0;var w=o.attributes.BANDWIDTH,g=i.attributes.BANDWIDTH;if(w<g&&(!c||m<s)){var A=f+" as next bandwidth < current bandwidth ("+w+" < "+g+")";return c&&(A+=" and forwardBuffer < bufferHighWaterLine ("+m+" < "+s+")"),d(A),!0}if((!c||w>g)&&m>=a){var x=f+" as forwardBuffer >= bufferLowWaterLine ("+m+" >= "+a+")";return c&&(x+=" and next bandwidth > current bandwidth ("+w+" > "+g+")"),d(x),!0}return d("not "+f+" as no switching criteria met"),!1},Awe=function(t){ye(e,t);function e(n){var r;r=t.call(this)||this;var o=n.src,a=n.handleManifestRedirects,s=n.withCredentials,l=n.tech,c=n.bandwidth,d=n.externVhs,f=n.useCueTags,h=n.blacklistDuration,m=n.enableLowInitialPlaylist,v=n.sourceType,w=n.cacheEncryptionKeys,g=n.experimentalBufferBasedABR,A=n.experimentalLeastPixelDiffSelector,x=n.captionServices;if(!o)throw new Error("A non-empty playlist URL or JSON manifest string is required");var T=n.maxPlaylistRetries;(T===null||typeof T=="undefined")&&(T=1/0),qa=d,r.experimentalBufferBasedABR=Boolean(g),r.experimentalLeastPixelDiffSelector=Boolean(A),r.withCredentials=s,r.tech_=l,r.vhs_=l.vhs,r.sourceType_=v,r.useCueTags_=f,r.blacklistDuration=h,r.maxPlaylistRetries=T,r.enableLowInitialPlaylist=m,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:s,handleManifestRedirects:a,maxPlaylistRetries:T,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=gwe(),r.mediaSource=new Q.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(re(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(re(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(re(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=ee.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new iwe(n),r.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new owe,r.sourceUpdater_=new jU(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new nwe;var E={vhs:r.vhs_,parse708captions:n.parse708captions,captionServices:x,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:c,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:w,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:n.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new oT(o,r.vhs_,r.requestOptions_):new kd(o,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new sT(ee.mergeOptions(E,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),n),r.audioSegmentLoader_=new sT(ee.mergeOptions(E,{loaderType:"audio"}),n),r.subtitleSegmentLoader_=new Jye(ee.mergeOptions(E,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),n),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),vwe.forEach(function(L){r[L+"_"]=ywe.bind(re(r),L)}),r.logger_=Ho("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var z=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(z,function(){var L=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-L,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var i=e.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),o=this.audioAppendsToLoadedData_();return r===-1||o===-1?-1:r+o},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(){var r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,"abr")},i.switchMedia_=function(r,o,a){var s=this.media(),l=s&&(s.id||s.uri),c=r.id||r.uri;l&&l!==c&&(this.logger_("switch media "+l+" -> "+c+" from "+o),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+o})),this.masterPlaylistLoader_.media(r,a)},i.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=Q.setInterval(function(){return r.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Q.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var r=this.master(),o=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return o;var a=r.mediaGroups.AUDIO,s=Object.keys(a),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var c=a.main||s.length&&a[s[0]];for(var d in c)if(c[d].default){l={label:d};break}}if(!l)return o;var f=[];for(var h in a)if(a[h][l.label]){var m=a[h][l.label];if(m.playlists&&m.playlists.length)f.push.apply(f,m.playlists);else if(m.uri)f.push(m);else if(r.playlists.length)for(var v=0;v<r.playlists.length;v++){var w=r.playlists[v];w.attributes&&w.attributes.AUDIO&&w.attributes.AUDIO===h&&f.push(w)}}return f.length?f:o},i.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var o=r.masterPlaylistLoader_.media(),a=o.targetDuration*1.5*1e3;eT(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,o.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(o,r.requestOptions_),r.mainSegmentLoader_.load()),mwe({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),o),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var o=r.masterPlaylistLoader_.media();if(!o){r.excludeUnsupportedVariants_();var a;if(r.enableLowInitialPlaylist&&(a=r.selectInitialPlaylist()),a||(a=r.selectPlaylist()),!a||!r.shouldSwitchToMedia_(a))return;r.initialMedia_=a,r.switchMedia_(r.initialMedia_,"initial");var s=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!s)return;o=r.initialMedia_}r.handleUpdatedMediaPlaylist(o)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var o=r.masterPlaylistLoader_.media(),a=o.targetDuration*1.5*1e3;eT(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,r.mainSegmentLoader_.playlist(o,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var o=r.masterPlaylistLoader_.media();if(o.lastExcludeReason_!=="playlist-unchanged"){var a=r.stuckAtPlaylistEnd_(o);a&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(r,o){var a=r.mediaGroups||{},s=!0,l=Object.keys(a.AUDIO);for(var c in a.AUDIO)for(var d in a.AUDIO[c]){var f=a.AUDIO[c][d];f.uri||(s=!1)}s&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),qa.Playlist.isAes(o)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(a.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(r){var o=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),s=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),c=this.tech_.buffered();return wwe({buffered:c,currentTime:a,currentPlaylist:o,nextPlaylist:r,bufferLowWaterLine:s,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var r=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var a=r.selectPlaylist();r.shouldSwitchToMedia_(a)&&r.switchMedia_(a,"bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},bwe))});var o=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var s=r.getCodecsOrExclude_();!s||r.sourceUpdater_.addOrChangeSourceBuffers(s)};this.mainSegmentLoader_.on("trackinfo",o),this.audioSegmentLoader_.on("trackinfo",o),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},i.fastQualityChange_=function(r){var o=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){ee.browser.IE_VERSION||ee.browser.IS_EDGE?o.tech_.setCurrentTime(o.tech_.currentTime()+.04):o.tech_.setCurrentTime(o.tech_.currentTime())})},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},i.setupFirstPlay=function(){var r=this,o=this.masterPlaylistLoader_.media();if(!o||this.tech_.paused()||this.hasPlayed_)return!1;if(!o.endList){var a=this.seekable();if(!a.length)return!1;if(ee.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(a.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r!="undefined"&&typeof r.then=="function"&&r.then(null,function(o){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var o=this.duration();r[r.length-1].endTime=isNaN(o)||Math.abs(o)===1/0?Number.MAX_VALUE:o}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var o=this.mainSegmentLoader_.getCurrentMediaInfo_();!o||o.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}!r||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(r){var o=this.seekable();if(!o.length)return!1;var a=this.syncController_.getExpiredTime(r,this.duration());if(a===null)return!1;var s=qa.Playlist.playlistEnd(r,a),l=this.tech_.currentTime(),c=this.tech_.buffered();if(!c.length)return s-l<=sa;var d=c.end(c.length-1);return d-l<=sa&&s-d<=sa},i.blacklistCurrentPlaylist=function(r,o){r===void 0&&(r={});var a=r.playlist||this.masterPlaylistLoader_.media();if(o=o||r.blacklistDuration||this.blacklistDuration,!a){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var s=this.masterPlaylistLoader_.master.playlists,l=s.filter(VA),c=l.length===1&&l[0]===a;if(s.length===1&&o!==1/0)return ee.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(c);if(c){var d=!1;s.forEach(function(A){if(A!==a){var x=A.excludeUntil;typeof x!="undefined"&&x!==1/0&&(d=!0,delete A.excludeUntil)}}),d&&(ee.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var f;a.playlistErrors_>this.maxPlaylistRetries?f=1/0:f=Date.now()+o*1e3,a.excludeUntil=f,r.reason&&(a.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var h=this.selectPlaylist();if(!h){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var m=r.internal?this.logger_:ee.log.warn,v=r.message?" "+r.message:"";m((r.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(v+" Switching to playlist "+h.id+".")),h.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),h.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var w=h.targetDuration/2*1e3||5*1e3,g=typeof h.lastRequest=="number"&&Date.now()-h.lastRequest<=w;return this.switchMedia_(h,"exclude",c||g)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(r,o){var a=this,s=[],l=r==="all";(l||r==="main")&&s.push(this.masterPlaylistLoader_);var c=[];(l||r==="audio")&&c.push("AUDIO"),(l||r==="subtitle")&&(c.push("CLOSED-CAPTIONS"),c.push("SUBTITLES")),c.forEach(function(d){var f=a.mediaTypes_[d]&&a.mediaTypes_[d].activePlaylistLoader;f&&s.push(f)}),["main","audio","subtitle"].forEach(function(d){var f=a[d+"SegmentLoader_"];f&&(r===d||r==="all")&&s.push(f)}),s.forEach(function(d){return o.forEach(function(f){typeof d[f]=="function"&&d[f]()})})},i.setCurrentTime=function(r){var o=xd(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(o&&o.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:qa.Playlist.duration(r):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var r;if(!(!this.masterPlaylistLoader_||this.sourceUpdater_.hasCreatedSourceBuffers())){var o=this.masterPlaylistLoader_.media();if(!!o){var a=this.syncController_.getExpiredTime(o,this.duration());if(a!==null){var s=this.masterPlaylistLoader_.master,l=qa.Playlist.seekable(o,a,qa.Playlist.liveEdgeDelay(s,o));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(o=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(o,this.duration()),a===null||(r=qa.Playlist.seekable(o,a,qa.Playlist.liveEdgeDelay(s,o)),r.length===0)))){var c,d;this.seekable_&&this.seekable_.length&&(c=this.seekable_.end(0),d=this.seekable_.start(0)),r?r.start(0)>l.end(0)||l.start(0)>r.end(0)?this.seekable_=l:this.seekable_=ee.createTimeRanges([[r.start(0)>l.start(0)?r.start(0):l.start(0),r.end(0)<l.end(0)?r.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===c&&this.seekable_.start(0)===d)&&(this.logger_("seekable updated ["+nU(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var o=this.seekable();if(!o.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<o.end(o.length-1))&&this.sourceUpdater_.setDuration(o.end(o.length-1));return}var a=this.tech_.buffered(),s=qa.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(s=Math.max(s,a.end(a.length-1))),this.mediaSource.duration!==s&&this.sourceUpdater_.setDuration(s)},i.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(o){var a=r.mediaTypes_[o].groups;for(var s in a)a[s].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,o=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!o||!a)},i.getCodecsOrExclude_=function(){var r=this,o={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};o.video=o.main;var a=Zh(this.master(),this.media()),s={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(o.main.hasVideo&&(s.video=a.video||o.main.videoCodec||sge),o.main.isMuxed&&(s.video+=","+(a.audio||o.main.audioCodec||UP)),(o.main.hasAudio&&!o.main.isMuxed||o.audio.hasAudio||l)&&(s.audio=a.audio||o.main.audioCodec||o.audio.audioCodec||UP,o.audio.isFmp4=o.main.hasAudio&&!o.main.isMuxed?o.main.isFmp4:o.audio.isFmp4),!s.audio&&!s.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var c=function(g,A){return g?_v(A):Ck(A)},d={},f;if(["video","audio"].forEach(function(w){if(s.hasOwnProperty(w)&&!c(o[w].isFmp4,s[w])){var g=o[w].isFmp4?"browser":"muxer";d[g]=d[g]||[],d[g].push(s[w]),w==="audio"&&(f=g)}}),l&&f&&this.media().attributes.AUDIO){var h=this.media().attributes.AUDIO;this.master().playlists.forEach(function(w){var g=w.attributes&&w.attributes.AUDIO;g===h&&w!==r.media()&&(w.excludeUntil=1/0)}),this.logger_("excluding audio group "+h+" as "+f+' does not support codec(s): "'+s.audio+'"')}if(Object.keys(d).length){var m=Object.keys(d).reduce(function(w,g){return w&&(w+=", "),w+=g+' does not support codec(s): "'+d[g].join(",")+'"',w},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:m,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var v=[];if(["video","audio"].forEach(function(w){var g=(Ko(r.sourceUpdater_.codecs[w]||"")[0]||{}).type,A=(Ko(s[w]||"")[0]||{}).type;g&&A&&g.toLowerCase()!==A.toLowerCase()&&v.push('"'+r.sourceUpdater_.codecs[w]+'" -> "'+s[w]+'"')}),v.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+v.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return s},i.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(!!r){this.sourceUpdater_.createSourceBuffers(r);var o=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(o)}}},i.excludeUnsupportedVariants_=function(){var r=this,o=this.master().playlists,a=[];Object.keys(o).forEach(function(s){var l=o[s];if(a.indexOf(l.id)===-1){a.push(l.id);var c=Zh(r.master,l),d=[];c.audio&&!Ck(c.audio)&&!_v(c.audio)&&d.push("audio codec "+c.audio),c.video&&!Ck(c.video)&&!_v(c.video)&&d.push("video codec "+c.video),c.text&&c.text==="stpp.ttml.im1t"&&d.push("text codec "+c.text),d.length&&(l.excludeUntil=1/0,r.logger_("excluding "+l.id+" for unsupported: "+d.join(", ")))}})},i.excludeIncompatibleVariants_=function(r){var o=this,a=[],s=this.master().playlists,l=nw(Ko(r)),c=WL(l),d=l.video&&Ko(l.video)[0]||null,f=l.audio&&Ko(l.audio)[0]||null;Object.keys(s).forEach(function(h){var m=s[h];if(!(a.indexOf(m.id)!==-1||m.excludeUntil===1/0)){a.push(m.id);var v=[],w=Zh(o.masterPlaylistLoader_.master,m),g=WL(w);if(!(!w.audio&&!w.video)){if(g!==c&&v.push('codec count "'+g+'" !== "'+c+'"'),!o.sourceUpdater_.canChangeType()){var A=w.video&&Ko(w.video)[0]||null,x=w.audio&&Ko(w.audio)[0]||null;A&&d&&A.type.toLowerCase()!==d.type.toLowerCase()&&v.push('video codec "'+A.type+'" !== "'+d.type+'"'),x&&f&&x.type.toLowerCase()!==f.type.toLowerCase()&&v.push('audio codec "'+x.type+'" !== "'+f.type+'"')}v.length&&(m.excludeUntil=1/0,o.logger_("blacklisting "+m.id+": "+v.join(" && ")))}}})},i.updateAdCues_=function(r){var o=0,a=this.seekable();a.length&&(o=a.start(0)),ewe(r,this.cueTagsTrack_,o)},i.goalBufferLength=function(){var r=this.tech_.currentTime(),o=Ji.GOAL_BUFFER_LENGTH,a=Ji.GOAL_BUFFER_LENGTH_RATE,s=Math.max(o,Ji.MAX_GOAL_BUFFER_LENGTH);return Math.min(o+r*a,s)},i.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),o=Ji.BUFFER_LOW_WATER_LINE,a=Ji.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(o,Ji.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(o,Ji.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(o+r*a,this.experimentalBufferBasedABR?l:s)},i.bufferHighWaterLine=function(){return Ji.BUFFER_HIGH_WATER_LINE},e}(ee.EventTarget),xwe=function(e,i,n){return function(r){var o=e.master.playlists[i],a=cz(o),s=VA(o);return typeof r=="undefined"?s:(r?delete o.disabled:o.disabled=!0,r!==s&&!a&&(n(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},kwe=function(e,i,n){var r=e.masterPlaylistController_,o=e.options_.smoothQualityChange,a=o?"smooth":"fast",s=r[a+"QualityChange_"].bind(r);if(i.attributes){var l=i.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=i.attributes.BANDWIDTH}this.codecs=Zh(r.master(),i),this.playlist=i,this.id=n,this.enabled=xwe(e.playlists,i.id,s)},_we=function(e){e.representations=function(){var i=e.masterPlaylistController_.master(),n=Zg(i)?e.masterPlaylistController_.getAudioTrackPlaylists_():i.playlists;return n?n.filter(function(r){return!cz(r)}).map(function(r,o){return new kwe(e,r,r.id)}):[]}},iO=["seeking","seeked","pause","playing","error"],Twe=function(){function t(i){var n=this;this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ho("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},o=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},s=function(){return n.cancelTimer_()},l=this.masterPlaylistController_,c=["main","subtitle","audio"],d={};c.forEach(function(h){d[h]={reset:function(){return n.resetSegmentDownloads_(h)},updateend:function(){return n.checkSegmentDownloads_(h)}},l[h+"SegmentLoader_"].on("appendsdone",d[h].updateend),l[h+"SegmentLoader_"].on("playlistupdate",d[h].reset),n.tech_.on(["seeked","seeking"],d[h].reset)});var f=function(m){["main","audio"].forEach(function(v){l[v+"SegmentLoader_"][m]("appended",n.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),f("off"))},this.clearSeekingAppendCheck_=function(){return f("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),f("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(iO,s),this.tech_.on("canplay",o),this.tech_.one("play",r),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",a),n.tech_.off(iO,s),n.tech_.off("canplay",o),n.tech_.off("play",r),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),c.forEach(function(h){l[h+"SegmentLoader_"].off("appendsdone",d[h].updateend),l[h+"SegmentLoader_"].off("playlistupdate",d[h].reset),n.tech_.off(["seeked","seeking"],d[h].reset)}),n.checkCurrentTimeTimeout_&&Q.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Q.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Q.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(n){var r=this.masterPlaylistController_[n+"SegmentLoader_"];this[n+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+n+" loader"),this[n+"StalledDownloads_"]=0,this[n+"Buffered_"]=r.buffered_()},e.checkSegmentDownloads_=function(n){var r=this.masterPlaylistController_,o=r[n+"SegmentLoader_"],a=o.buffered_(),s=wve(this[n+"Buffered_"],a);if(this[n+"Buffered_"]=a,s){this.resetSegmentDownloads_(n);return}this[n+"StalledDownloads_"]++,this.logger_("found #"+this[n+"StalledDownloads_"]+" "+n+" appends that did not increase buffer (possible stalled download)",{playlistId:o.playlist_&&o.playlist_.id,buffered:Rc(a)}),!(this[n+"StalledDownloads_"]<10)&&(this.logger_(n+" loader stalled download exclusion"),this.resetSegmentDownloads_(n),this.tech_.trigger({type:"usage",name:"vhs-"+n+"-download-exclusion"}),n!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+n+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===n&&(!r.length||n+sa>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var n=this.tech_.seeking();if(!n)return!1;var r=this.seekable(),o=this.tech_.currentTime(),a=this.afterSeekableWindow_(r,o,this.media(),this.allowSeeksWithinUnsafeLiveWindow),s;if(a){var l=r.end(r.length-1);s=l}if(this.beforeSeekableWindow_(r,o)){var c=r.start(0);s=c+(c===r.end(0)?0:sa)}if(typeof s!="undefined")return this.logger_("Trying to seek outside of seekable at time "+o+" with "+("seekable range "+nU(r)+". Seeking to ")+(s+".")),this.tech_.setCurrentTime(s),!0;for(var d=this.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),h=d.audioBuffer?d.audioBuffered():null,m=d.videoBuffer?d.videoBuffered():null,v=this.media(),w=v.partTargetDuration?v.partTargetDuration:(v.targetDuration-Nl)*2,g=[h,m],A=0;A<g.length;A++)if(!!g[A]){var x=sz(g[A],o);if(x<w)return!1}var T=q0(f,o);return T.length===0?!1:(s=T.start(0)+sa,this.logger_("Buffered region starts ("+T.start(0)+") "+(" just beyond seek point ("+o+"). Seeking to "+s+".")),this.tech_.setCurrentTime(s),!0)},e.waiting_=function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),r=this.tech_.buffered(),o=xd(r,n);if(o.length&&n+3<=o.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+o.start(0)+" -> "+o.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var n=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,r)){var o=n.end(n.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+o)),this.cancelTimer_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,s=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:r});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var c=q0(s,r);if(c.length>0){var d=c.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+d+", seeking "+("to "+c.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),d*1e3,r),!0}return!1},e.afterSeekableWindow_=function(n,r,o,a){if(a===void 0&&(a=!1),!n.length)return!1;var s=n.end(n.length-1)+sa,l=!o.endList;return l&&a&&(s=n.end(n.length-1)+o.targetDuration*3),r>s},e.beforeSeekableWindow_=function(n,r){return!!(n.length&&n.start(0)>0&&r<n.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(n){var r=n.videoBuffered,o=n.audioBuffered,a=n.currentTime;if(!!r){var s;if(r.length&&o.length){var l=xd(r,a-3),c=xd(r,a),d=xd(o,a);d.length&&!c.length&&l.length&&(s={start:l.end(0),end:d.end(0)})}else{var f=q0(r,a);f.length||(s=this.gapFromVideoUnderflow_(r,a))}return s?(this.logger_("Encountered a gap in video from "+s.start+" to "+s.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(n){var r=this.tech_.buffered(),o=this.tech_.currentTime(),a=q0(r,o);this.cancelTimer_(),!(a.length===0||o!==n)&&(this.logger_("skipTheGap_:","currentTime:",o,"scheduled currentTime:",n,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+Nl),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(n,r){for(var o=bve(n),a=0;a<o.length;a++){var s=o.start(a),l=o.end(a);if(r-s<4&&r-s>2)return{start:s,end:l}}return null},t}(),Swe={errorInterval:30,getSource:function(e){var i=this.tech({IWillNotUseThisInPlugins:!0}),n=i.currentSource_||this.currentSource();return e(n)}},Cwe=function t(e,i){var n=0,r=0,o=ee.mergeOptions(Swe,i);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&e.currentTime(r)},s=function(h){h!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(h),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<o.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!o.getSource||typeof o.getSource!="function"){ee.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),o.getSource.call(e,s)},c=function f(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",f)},d=function(h){c(),t(e,h)};e.on("error",l),e.on("dispose",c),e.reloadSourceOnError=d},Ewe=function(e){Cwe(this,e)},UU="2.12.0",zwe="5.14.1",Iwe="0.19.2",Rwe="4.7.0",Pwe="3.1.2",vn={PlaylistLoader:kd,Playlist:vr,utils:Wve,STANDARD_PLAYLIST_SELECTOR:VL,INITIAL_PLAYLIST_SELECTOR:Rye,lastBandwidthSelector:VL,movingAverageBandwidthSelector:zye,comparePlaylistBandwidth:pz,comparePlaylistResolution:Eye,xhr:vU()};Object.keys(Ji).forEach(function(t){Object.defineProperty(vn,t,{get:function(){return ee.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Ji[t]},set:function(i){if(ee.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){ee.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Ji[t]=i}})});var GU="videojs-vhs",HU=function(e,i){for(var n=i.media(),r=-1,o=0;o<e.length;o++)if(e[o].id===n.id){r=o;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},Lwe=function(e,i){i.representations().forEach(function(n){e.addQualityLevel(n)}),HU(e,i.playlists)};vn.canPlaySource=function(){return ee.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Owe=function(e,i,n){if(!e)return e;var r={};i&&i.attributes&&i.attributes.CODECS&&(r=nw(Ko(i.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var o=Qm(r.video),a=Qm(r.audio),s={};for(var l in e)s[l]={},a&&(s[l].audioContentType=a),o&&(s[l].videoContentType=o),i.contentProtection&&i.contentProtection[l]&&i.contentProtection[l].pssh&&(s[l].pssh=i.contentProtection[l].pssh),typeof e[l]=="string"&&(s[l].url=e[l]);return ee.mergeOptions(e,s)},Dwe=function(e,i){return e.reduce(function(n,r){if(!r.contentProtection)return n;var o=i.reduce(function(a,s){var l=r.contentProtection[s];return l&&l.pssh&&(a[s]={pssh:l.pssh}),a},{});return Object.keys(o).length&&n.push(o),n},[])},Mwe=function(e){var i=e.player,n=e.sourceKeySystems,r=e.audioMedia,o=e.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var a=r?o.concat([r]):o,s=Dwe(a,Object.keys(n)),l=[],c=[];return s.forEach(function(d){c.push(new Promise(function(f,h){i.tech_.one("keysessioncreated",f)})),l.push(new Promise(function(f,h){i.eme.initializeMediaKeys({keySystems:d},function(m){if(m){h(m);return}f()})}))}),Promise.race([Promise.all(l),Promise.race(c)])},Bwe=function(e){var i=e.player,n=e.sourceKeySystems,r=e.media,o=e.audioMedia,a=Owe(n,r,o);return a?(i.currentSource().keySystems=a,a&&!i.eme?(ee.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},WU=function(){if(!Q.localStorage)return null;var e=Q.localStorage.getItem(GU);if(!e)return null;try{return JSON.parse(e)}catch{return null}},Fwe=function(e){if(!Q.localStorage)return!1;var i=WU();i=i?ee.mergeOptions(i,e):e;try{Q.localStorage.setItem(GU,JSON.stringify(i))}catch{return!1}return i},Nwe=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};vn.supportsNativeHls=function(){if(!Oe||!Oe.createElement)return!1;var t=Oe.createElement("video");if(!ee.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(i){return/maybe|probably/i.test(t.canPlayType(i))})}();vn.supportsNativeDash=function(){return!Oe||!Oe.createElement||!ee.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Oe.createElement("video").canPlayType("application/dash+xml"))}();vn.supportsTypeNatively=function(t){return t==="hls"?vn.supportsNativeHls:t==="dash"?vn.supportsNativeDash:!1};vn.isSupported=function(){return ee.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var jwe=ee.getComponent("Component"),mz=function(t){ye(e,t);function e(n,r,o){var a;if(a=t.call(this,r,ee.mergeOptions(o.hls,o.vhs))||this,o.hls&&Object.keys(o.hls).length&&ee.log.warn("Using hls options is deprecated. Use vhs instead."),typeof o.initialBandwidth=="number"&&(a.options_.bandwidth=o.initialBandwidth),a.logger_=Ho("VhsHandler"),r.options_&&r.options_.playerId){var s=ee(r.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return ee.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),re(a)},configurable:!0}),s.hasOwnProperty("vhs")||Object.defineProperty(s,"vhs",{get:function(){return ee.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),re(a)},configurable:!0}),s.hasOwnProperty("dash")||Object.defineProperty(s,"dash",{get:function(){return ee.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),re(a)},configurable:!0}),a.player_=s}if(a.tech_=r,a.source_=n,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(Oe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var c=Oe.fullscreenElement||Oe.webkitFullscreenElement||Oe.mozFullScreenElement||Oe.msFullscreenElement;c&&c.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var i=e.prototype;return i.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var o=WU();o&&o.bandwidth&&(this.options_.bandwidth=o.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),o&&o.throughput&&(this.options_.throughput=o.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Ji.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ji.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof r.source_[a]!="undefined"&&(r.options_[a]=r.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(r,o){var a=this;if(!!r){this.setOptions_(),this.options_.src=Nwe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=vn,this.options_.sourceType=l7(o),this.options_.seekTo=function(c){a.tech_.setCurrentTime(c)},this.options_.smoothQualityChange&&ee.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Awe(this.options_);var s=ee.mergeOptions({liveRangeSafeTimeDelta:sa},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Twe(s),this.masterPlaylistController_.on("error",function(){var c=ee.players[a.tech_.options_.playerId],d=a.masterPlaylistController_.error;typeof d=="object"&&!d.code?d.code=3:typeof d=="string"&&(d={message:d,code:3}),c.error(d)});var l=this.options_.experimentalBufferBasedABR?vn.movingAverageBandwidthSelector(.55):vn.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=vn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(d){this.masterPlaylistController_.selectPlaylist=d.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=d,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var d=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,f=Q.navigator.connection||Q.navigator.mozConnection||Q.navigator.webkitConnection,h=1e7;if(this.options_.useNetworkInformationApi&&f){var m=f.downlink*1e3*1e3;m>=h&&d>=h?d=Math.max(d,m):d=m}return d},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=d,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var d=1/(this.bandwidth||1),f;this.throughput>0?f=1/this.throughput:f=0;var h=Math.floor(1/(d+f));return h},set:function(){ee.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Rc(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Rc(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&Fwe({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){_we(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Q.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.setupEme_=function(){var r=this,o=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=Bwe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:o&&o.media()});if(this.player_.tech_.on("keystatuschange",function(s){s.status==="output-restricted"&&r.masterPlaylistController_.blacklistCurrentPlaylist({playlist:r.masterPlaylistController_.media(),message:"DRM keystatus changed to "+s.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),ee.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.logger_("waiting for EME key session creation"),Mwe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:o&&o.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){r.logger_("error while creating EME key session",s),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.setupQualityLevels_=function(){var r=this,o=ee.players[this.tech_.options_.playerId];!o||!o.qualityLevels||this.qualityLevels_||(this.qualityLevels_=o.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Lwe(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){HU(r.qualityLevels_,r.playlists)}))},e.version=function(){return{"@videojs/http-streaming":UU,"mux.js":zwe,"mpd-parser":Iwe,"m3u8-parser":Rwe,"aes-decrypter":Pwe}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return jU.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&Q.URL.revokeObjectURL&&(Q.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),t.prototype.dispose.call(this)},i.convertToProgramTime=function(r,o){return Xve({playlist:this.masterPlaylistController_.media(),time:r,callback:o})},i.seekToProgramTime=function(r,o,a,s){return a===void 0&&(a=!0),s===void 0&&(s=2),Jve({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:o})},e}(jwe),$A={name:"videojs-http-streaming",VERSION:UU,canHandleSource:function(e,i){i===void 0&&(i={});var n=ee.mergeOptions(ee.options,i);return $A.canPlayType(e.type,n)},handleSource:function(e,i,n){n===void 0&&(n={});var r=ee.mergeOptions(ee.options,n);return i.vhs=new mz(e,i,r),ee.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return ee.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),i.vhs},configurable:!0}),i.vhs.xhr=vU(),i.vhs.src(e.src,e.type),i.vhs},canPlayType:function(e,i){i===void 0&&(i={});var n=ee.mergeOptions(ee.options,i),r=n.vhs.overrideNative,o=r===void 0?!ee.browser.IS_ANY_SAFARI:r,a=l7(e),s=a&&(!vn.supportsTypeNatively(a)||o);return s?"maybe":""}},Uwe=function(){return _v("avc1.4d400d,mp4a.40.2")};Uwe()&&ee.getTech("Html5").registerSourceHandler($A,0);ee.VhsHandler=mz;Object.defineProperty(ee,"HlsHandler",{get:function(){return ee.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),mz},configurable:!0});ee.VhsSourceHandler=$A;Object.defineProperty(ee,"HlsSourceHandler",{get:function(){return ee.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),$A},configurable:!0});ee.Vhs=vn;Object.defineProperty(ee,"Hls",{get:function(){return ee.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),vn},configurable:!0});ee.use||(ee.registerComponent("Hls",vn),ee.registerComponent("Vhs",vn));ee.options.vhs=ee.options.vhs||{};ee.options.hls=ee.options.hls||{};if(!ee.getPlugin||!ee.getPlugin("reloadSourceOnError")){var Gwe=ee.registerPlugin||ee.plugin;Gwe("reloadSourceOnError",Ewe)}var Hwe=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),Wwe={exports:{}},Ywe=pT(Hwe);(function(t,e){(function(i,n){{var r=Ywe;t.exports=n(r.default||r)}})(zo,function(i){var n=i.browser.IS_IOS||i.browser.IS_NATIVE_ANDROID,r=i.getTech("Tech"),o=i.extend(r,{constructor:function(c,d){r.call(this,c,d),this.setPoster(c.poster),this.setSrc(this.options_.source,!0),this.setTimeout(function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",n&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),o.isApiReady?this.initYTPlayer():o.apiReadyQueue.push(this))}.bind(this))},dispose:function(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var c=o.apiReadyQueue.indexOf(this);c!==-1&&o.apiReadyQueue.splice(c,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),r.prototype.dispose.call(this)},createEl:function(){var c=document.createElement("div");c.setAttribute("id",this.options_.techId),c.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),c.setAttribute("class","vjs-tech");var d=document.createElement("div");if(d.appendChild(c),!n&&!this.options_.ytControls){var f=document.createElement("div");f.setAttribute("class","vjs-iframe-blocker"),f.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),f.onclick=function(){this.pause()}.bind(this),d.appendChild(f)}return d},initYTPlayer:function(){var c={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!="undefined"&&(c.autohide=this.options_.autohide),typeof this.options_.cc_load_policy!="undefined"&&(c.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls!="undefined"&&(c.controls=this.options_.ytControls),typeof this.options_.disablekb!="undefined"&&(c.disablekb=this.options_.disablekb),typeof this.options_.color!="undefined"&&(c.color=this.options_.color),c.controls?typeof this.options_.fs!="undefined"&&(c.fs=this.options_.fs):c.fs=0,this.options_.source.src.indexOf("end=")!==-1){var d=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(d[1])}if(typeof this.options_.end!="undefined"&&(c.end=this.options_.end),typeof this.options_.hl!="undefined"?c.hl=this.options_.hl:typeof this.options_.language!="undefined"&&(c.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy!="undefined"&&(c.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list!="undefined"?c.list=this.options_.list:this.url&&typeof this.url.listId!="undefined"&&(c.list=this.url.listId),typeof this.options_.listType!="undefined"&&(c.listType=this.options_.listType),typeof this.options_.modestbranding!="undefined"&&(c.modestbranding=this.options_.modestbranding),typeof this.options_.playlist!="undefined"&&(c.playlist=this.options_.playlist),typeof this.options_.playsinline!="undefined"&&(c.playsinline=this.options_.playsinline),typeof this.options_.rel!="undefined"&&(c.rel=this.options_.rel),typeof this.options_.showinfo!="undefined"&&(c.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var f=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(f[1])}if(typeof this.options_.start!="undefined"&&(c.start=this.options_.start),typeof this.options_.theme!="undefined"&&(c.theme=this.options_.theme),typeof this.options_.customVars!="undefined"){var h=this.options_.customVars;Object.keys(h).forEach(function(v){c[v]=h[v]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=c.list;var m={videoId:this.activeVideoId,playerVars:c,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode!="undefined"&&this.options_.enablePrivacyEnhancedMode&&(m.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,m)},onPlayerReady:function(){this.options_.muted&&this.ytPlayer.mute();var c=this.ytPlayer.getAvailablePlaybackRates();c.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(c){var d=c.data;if(!(d===this.lastState||this.errorNumber))switch(this.lastState=d,d){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}},onPlayerVolumeChange:function(){this.trigger("volumechange")},onPlayerError:function(c){this.errorNumber=c.data,this.trigger("pause"),this.trigger("error")},error:function(){var c=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:c,message:"Error while trying to play the video"};case 2:case 100:return{code:c,message:"Unable to find the video"};case 101:case 150:return{code:c,message:"Playback on other Websites has been disabled by the video owner."}}return{code:c,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(d)},cueVideoById_:function(c){var d={videoId:c};this.options_.start&&(d.startSeconds=this.options_.start),this.options_.end&&(d.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(d)},src:function(c){return c&&this.setSrc({src:c}),this.source},poster:function(){return n?null:this.poster_},setPoster:function(c){this.poster_=c},setSrc:function(c){!c||!c.src||(delete this.errorNumber,this.source=c,this.url=o.parseUrl(c.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!n?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))},autoplay:function(){return this.options_.autoplay},setAutoplay:function(c){this.options_.autoplay=c},loop:function(){return this.options_.loop},setLoop:function(c){this.options_.loop=c},play:function(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(c){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(c,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==c&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}.bind(this),250))},seeking:function(){return this.isSeeking},seekable:function(){return this.ytPlayer?i.createTimeRange(0,this.ytPlayer.getDuration()):i.createTimeRange()},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(c){!this.ytPlayer||this.ytPlayer.setPlaybackRate(c)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(c){!this.ytPlayer||this.ytPlayer.setVolume(c*100)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():!1},setMuted:function(c){if(this.ytPlayer)this.muted(!0);else return;c?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return i.createTimeRange();var c=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return i.createTimeRange(0,c)},preload:function(){},load:function(){},reset:function(){},networkState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}},readyState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}},supportsFullScreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},checkHighResPoster:function(){var c="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var d=new Image;d.onload=function(){if("naturalHeight"in d){if(d.naturalHeight<=90||d.naturalWidth<=120)return}else if(d.height<=90||d.width<=120)return;this.poster_=c,this.trigger("posterchange")}.bind(this),d.onerror=function(){},d.src=c}catch{}}});o.isSupported=function(){return!0},o.canPlaySource=function(c){return o.canPlayType(c.type)},o.canPlayType=function(c){return c==="video/youtube"},o.parseUrl=function(c){var d={videoId:null},f=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h=c.match(f);h&&h[2].length===11&&(d.videoId=h[2]);var m=/[?&]list=([^#\&\?]+)/;return h=c.match(m),h&&h[1]&&(d.listId=h[1]),d};function a(){YT.ready(function(){o.isApiReady=!0;for(var c=0;c<o.apiReadyQueue.length;++c)o.apiReadyQueue[c].initYTPlayer()})}function s(c,d){var f=!1,h=document.createElement("script"),m=document.getElementsByTagName("script")[0];!m||(m.parentNode.insertBefore(h,m),h.onload=function(){f||(f=!0,d())},h.onreadystatechange=function(){!f&&(this.readyState==="complete"||this.readyState==="loaded")&&(f=!0,d())},h.src=c)}function l(){var c=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",d=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",f.styleSheet?f.styleSheet.cssText=c:f.appendChild(document.createTextNode(c)),d.appendChild(f)}o.apiReadyQueue=[],typeof document!="undefined"&&(s("https://www.youtube.com/iframe_api",a),l()),typeof i.registerTech!="undefined"?i.registerTech("Youtube",o):i.registerComponent("Youtube",o)})})(Wwe);const YU=t=>{const e=t.trim().split(":").reverse();let i=0;return e.forEach((n,r)=>{const o=parseFloat(n);isNaN(o)||n.includes("-")?i+=NaN:i+=o*Math.pow(60,r)}),i&&(i=Math.floor(i)),i},nO=t=>{if(isNaN(t))return"NaN";const e=Math.floor(t),i=Math.floor(e/3600),n=Math.floor((e-i*3600)/60),r=e-i*3600-n*60,o=qh(r);return i>0?`${i}:${qh(n)}:${o}`:`${n}:${o}`};var yc=(t=>(t[t.UPDATE_VALUE=0]="UPDATE_VALUE",t[t.VALIDATE_VALUE=1]="VALIDATE_VALUE",t[t.OPEN=2]="OPEN",t[t.CLOSE=3]="CLOSE",t))(yc||{});const Vwe={value:"",isDisabled:!1,isActive:!1,isOpen:!1},$we=(t,e)=>{switch(e.type){case 0:return{...t,value:e.payload};case 1:{const i=nO(YU(t.value));return e.payload!==void 0?{...t,value:i,isDisabled:!e.payload,isActive:e.payload}:{...t,value:i}}case 2:{const i=nO(e.payload);return{...t,isOpen:!0,value:i,isDisabled:!1,isActive:!1}}case 3:return{...t,isOpen:!1};default:return t}},Qwe=()=>P("svg",{transform:"scale(-1,1)",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),qwe=Fe.button({display:"flex",justifyContent:"center",alignItems:"center",columnGap:4,border:0,padding:"8px 16px",fontWeight:600,"& > svg":{width:"1rem",height:"1rem"}}),Kwe=Fe.div({border:`1px solid ${Ro.lightgrey}`,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:24,"& > input":{flex:1,border:0,marginLeft:16},"& > .mzp-c-button":{padding:"8px 16px",fontWeight:600,border:0},"& > .mzp-c-button, & > .mzp-c-button:hover":{color:Ro.dark_blue}}),Xwe=Fe.div({display:"flex",alignItems:"center",columnGap:8,"& > label":{padding:0}}),Jwe=Fe.input(t=>({border:0,borderBottomColor:t.disabled?"white":"black",borderBottomStyle:"solid",borderBottomWidth:"1.5px",width:64})),Zwe=Fe(I2)({"i.close.icon":{top:0,right:0,color:"black"},"i.close::before":{content:'"\u2716"'}}),eAe=({sessionIndex:t,getCurrentTime:e})=>{const i=$.exports.useRef(null),n=$.exports.useRef(null),r=$.exports.useRef(null),o=Of(),[a,s]=$.exports.useReducer($we,Vwe),l=$.exports.useCallback(()=>{const g=e();s({type:yc.OPEN,payload:g})},[e]),c=()=>{s({type:yc.CLOSE})},d=g=>{s({type:yc.VALIDATE_VALUE,payload:g.target.checked})},f=async()=>{var g;(g=n.current)==null||g.select(),navigator.clipboard?await navigator.clipboard.writeText(w()):document.execCommand("copy")},h=g=>{s({type:yc.UPDATE_VALUE,payload:g.target.value})},m=()=>{s({type:yc.VALIDATE_VALUE})},v=g=>{g.key==="Enter"&&s({type:yc.VALIDATE_VALUE})},w=$.exports.useCallback(()=>{const g=YU(a.value),A=`${document.location.href.split("#")[0]}#${o.pathname}?s=${t}`;return a.isActive&&g?`${A}&t=${g}`:`${A}`},[a.value,a.isActive,t,o]);return ue(Jr,{children:[ue(Zwe,{closeIcon:!0,trigger:ue(qwe,{className:"mzp-c-button mzp-t-secondary",onClick:l,children:[P(Qwe,{}),"SHARE"]}),open:a.isOpen,onClose:c,mountNode:i.current,size:"small",children:[P(I2.Header,{children:"Share"}),ue(I2.Content,{children:[ue(Kwe,{children:[P("input",{readOnly:!0,"aria-readonly":!0,ref:n,value:w()}),P("button",{className:"mzp-c-button mzp-t-secondary",onClick:f,children:"COPY"})]}),P("br",{}),ue(Xwe,{children:[P("input",{id:"share-with-time-point",type:"checkbox",checked:a.isActive,onChange:d}),P("label",{htmlFor:"share-with-time-point",children:"Start at"}),P(Jwe,{disabled:a.isDisabled,value:a.value,onChange:h,onBlur:m,onKeyUp:v,ref:r})]})]})]}),P("div",{ref:i})]})};var zv=(t=>(t.mp4="mp4",t.webm="webm",t.youtube="youtube",t))(zv||{});function tAe(t){let e;if(t.match(/youtu?.be/))e=zv.youtube;else{const i=t.match(new RegExp(`(${zv.webm}|${zv.mp4})$`));i&&(e=i[0])}return e}function iAe(t){const e=tAe(t),i={src:t};return e&&(i.type=`video/${e}`),i}const rO=10,nAe=({sessionIndex:t,uri:e,componentRef:i,initialSeconds:n})=>{const{language:r}=jo(),o=$.exports.useRef(null),a=$.exports.useRef();$.exports.useImperativeHandle(i,()=>({seekTo:c=>{var d,f,h;(d=a.current)==null||d.currentTime(c),(f=a.current)!=null&&f.paused()&&((h=a.current)==null||h.play())},pause:()=>{var c;return(c=a.current)==null?void 0:c.pause()}}));const s=$.exports.useCallback(()=>a.current?a.current.currentTime():0,[]),l=()=>ue(Jr,{children:[P("div",{style:{display:"flex",flexDirection:"row-reverse",marginBottom:4},children:P(eAe,{sessionIndex:t,getCurrentTime:s})}),P("div",{"data-vjs-player":!0,children:P("video",{ref:o,className:"video-js vjs-big-play-centered vjs-theme-cdp"})})]});return $.exports.useEffect(()=>{const c=o.current;let d;return c&&(d=ee(c,{autoplay:!1,controls:!0,controlBar:{currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,customControlSpacer:!0,remainingTimeDisplay:!1},preload:n?"auto":"metadata",aspectRatio:"16:9",fluid:!0,language:r,playbackRates:[2,1.5,1,.75,.5],responsive:!0,techOrder:["youtube","html5"],sources:[iAe(e)],userActions:{hotkeys:f=>{var h,m,v,w,g,A,x,T,E,z,L,B;f.which===75||f.which===32?(h=a.current)!=null&&h.paused()?(m=a.current)==null||m.play():(v=a.current)==null||v.pause():f.which===77?(g=a.current)==null||g.muted(!((w=a.current)!=null&&w.muted())):f.which===70?(A=a.current)!=null&&A.isFullscreen()?(x=a.current)==null||x.exitFullscreen():(T=a.current)==null||T.requestFullscreen():f.which===37?(z=a.current)==null||z.currentTime(((E=a.current)==null?void 0:E.currentTime())-rO):f.which===39&&((B=a.current)==null||B.currentTime(((L=a.current)==null?void 0:L.currentTime())+rO))}}},function(){n&&n>0&&this.currentTime(n),a.current=this})),()=>{d&&d.dispose()}},[e,n,r]),P(l,{})};var VU=Fe(Mfe)(t=>({"& > .ui.tab":{margin:0,border:0,padding:t.padding},[`@media (min-width:${Mt.tablet})`]:{"& > .ui.menu > a.item":{fontSize:Sr.font_size_7}},[`@media (max-width:${t.breakpoint})`]:{"& > .ui.menu":{flexDirection:"column"},"& > .ui.secondary.pointing.menu > a.item":{alignSelf:"flex-start",borderBottomStyle:"none"},"& > .ui.secondary.pointing.menu > a.active.item":{borderLeft:"2px solid"}}}));const rAe=({eventVideoRefs:t,sessions:e,currentSession:i,initialSeconds:n,setCurrentSession:r})=>{const{language:o}=jo(),[,a]=$.exports.useState(""),s=(d,f)=>r(h=>{var m;return(m=t[h].current)==null||m.pause(),f.activeIndex}),l=$.exports.useRef(e.map((d,f)=>({menuItem:`${Ae.session} ${f+1}`,pane:{key:`session_index_${f+1}`,content:P(nAe,{sessionIndex:f,initialSeconds:f===i?n:0,uri:d.video_uri,componentRef:t[f]})}})));$.exports.useEffect(()=>{for(let d=0;d<l.current.length;d++)l.current[d].menuItem=`${Ae.session} ${d+1}`;a(o)},[o]);const c=e.length>3?Mt.largeMobile:Mt.smallMobile;return P(VU,{padding:"0px",breakpoint:c,menu:{secondary:!0,pointing:!0},panes:l.current,renderActiveOnly:!1,activeIndex:i,onTabChange:s})};var oAe=ze.memo(rAe);const aAe=Fe.div({maxHeight:"100vh",overflowY:"auto"}),sAe=({sentences:t,transcriptItemsRefs:e,jumpToVideoClip:i})=>{const n=(r,o)=>()=>i(r,o);return P(aAe,{children:t.map((r,o)=>P(qN,{sessionIndex:r.session_index,speakerName:r.speaker_name,text:r.text,startTime:KN(r.start_time),handleJumpToVideoClip:n(r.session_index,r.start_time),searchQuery:"",speakerId:r.speaker_id,speakerPictureSrc:r.speaker_pictureSrc,componentRef:e[o]},r.index))})},lAe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),cAe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),uAe=Fe.summary({color:Ro.dark_blue,display:"flex",alignItems:"center","&::before, &::marker":{content:"none"},"& svg":{marginLeft:4,width:"1rem",height:"1rem"}}),$U=({documents:t})=>{const[e,i]=$.exports.useState(!1),n=()=>i(r=>!r);return!t||t.length===0?null:ue("details",{onToggle:n,children:[ue(uAe,{children:[Ae.see_documents,e?P(lAe,{}):P(cAe,{})]}),P("ul",{className:"mzp-u-list-styled",children:t.map(r=>P("li",{children:P("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.label})},r.label))})]})},dAe=Fe.li({"& > div:first-of-type":{fontWeight:600},"& > a":{display:"flex",alignItems:"center"},"& > a > svg":{width:"1rem",height:"1rem",transform:"rotate(-90deg)"}}),fAe=({minutesItems:t})=>P("ol",{className:"mzp-u-list-styled",children:t.map(e=>ue(dAe,{children:[P("div",{children:e.name}),e.matter_ref&&ue(yn,{to:`/matters/${e.matter_ref}`,children:[Ae.go_to_matter_details," ",P(sN,{})]}),e.description&&P("div",{children:e.description}),P($U,{documents:e.documents})]},e.name))}),pAe=()=>P("svg",{className:"cdp-acceptance-green",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),hAe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"cdp-rejected-red",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),mAe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"cdp-in-progress_orange",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),gAe=()=>P("svg",{className:"cdp-light-purple",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P("g",{id:"Group 1",children:ue("g",{id:"Frame 1",children:[P("circle",{id:"Ellipse 1",cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2"}),P("circle",{id:"Ellipse 2",cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),P("path",{id:"Line 1",d:"M8.00001 16L16 7.99998",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})});var es=(t=>(t.ALTERNATE="Alternate",t.CHAIR="Chair",t.COUNCILMEMBER="Councilmember",t.MEMBER="Member",t.COUNCILPRESIDENT="Council President",t.VICE_CHAIR="Vice Chair",t.SUPERVISOR="Supervisor",t))(es||{}),li=(t=>(t.ABSTAIN_APPROVE="Abstain (Approve)",t.ABSTAIN_NON_VOTING="Abstain (Non-Voting)",t.ABSTAIN_REJECT="Abstain (Reject)",t.ABSENT_APPROVE="Absent (Approve)",t.ABSENT_NON_VOTING="Absent (Non-Voting)",t.ABSENT_REJECT="Absent (Reject)",t.APPROVE="Approve",t.REJECT="Reject",t))(li||{}),Oo=(t=>(t.ADOPTED="Adopted",t.IN_PROGRESS="In Progress",t.REJECTED="Rejected",t))(Oo||{}),uT=(t=>(t.FAILED="Failed",t.PASSED="Passed",t))(uT||{});const zs=({result:t,style:e})=>{let i=P("div",{});switch(t){case uT.PASSED:case Oo.ADOPTED:case li.ABSENT_APPROVE:case li.ABSTAIN_APPROVE:case li.APPROVE:i=P(pAe,{});break;case uT.FAILED:case Oo.REJECTED:case li.ABSENT_REJECT:case li.ABSTAIN_REJECT:case li.REJECT:i=P(hAe,{});break;case li.ABSENT_NON_VOTING:case li.ABSTAIN_NON_VOTING:i=P(gAe,{});break;case Oo.IN_PROGRESS:i=P(mAe,{});break}const n=Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`}),r=Ae[t.toLowerCase().replace(/[()]/g,"").replace(/[ -]/g,"_")];return e||(e={display:"flex",flex:1,alignItems:"center"}),n?P("div",{style:{height:24,width:24},children:i}):ue("div",{style:e,children:[P("div",{style:{height:24,width:24},children:i}),P("div",{children:P("p",{className:"mzp-c-card-desc",style:{marginLeft:8},children:r})})]})};zs.defaultProps={result:Oo.IN_PROGRESS};const QA=({index:t})=>{const e=t%2===0?"rgb(236,236,236)":"white";return P("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:e},children:P("p",{className:"mzp-c-card-desc",children:t===0?"No results found.":"Record missing."})})},QU=({index:t,children:e,columnNames:i,columnDistribution:n,onClick:r})=>{const o=t%2===0?XR.COLORS.EVEN_CELL:XR.COLORS.ODD_CELL,a=Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`});return!e||e.length===0?P(QA,{index:t}):a?P("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:o},children:e==null?void 0:e.map((s,l)=>{const c=i?i[l]:"";return ue("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"flex-start"},children:[P("p",{style:{flex:1,fontWeight:"bold",paddingRight:8},className:"mzp-c-card-desc",children:c}),s]},l)})}):P("div",{style:{display:"flex",flex:1,backgroundColor:o,flexDirection:"row",padding:16},onClick:r,children:e==null?void 0:e.map((s,l)=>{const c=n?n[l]:"0%";return P("div",{style:{width:c},children:s},l)})})},bAe=Fe.p(t=>({overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":t.minified?`${t.linesToShow}`:"none","line-clamp":t.minified?`${t.linesToShow}`:"none","-webkit-box-orient":"vertical"}));function vAe(t,e){const[i,n]=$.exports.useState(!1);let r=0,o=0,a=0;t.forEach(d=>{[li.ABSENT_APPROVE,li.ABSTAIN_APPROVE,li.APPROVE].includes(d.decision)&&r++,[li.ABSENT_REJECT,li.ABSTAIN_REJECT,li.REJECT].includes(d.decision)&&o++,[li.ABSENT_NON_VOTING,li.ABSTAIN_NON_VOTING].includes(d.decision)&&a++});const s=Ae.number_approved.replace("{number}",`${r}`),l=Ae.number_rejected.replace("{number}",`${o}`),c=Ae.number_non_voting.replace("{number}",`${a}`);return P(ze.Fragment,{children:e?ue("div",{style:{display:"flex",flexDirection:"column"},children:[P("p",{children:s}),P("p",{children:l}),P("p",{children:c})]}):ue(Jr,{children:[P("p",{children:`${s} ${Ly} ${l} ${Ly} ${c}`}),t.map((d,f)=>{if(!i&&f>4)return;const h=`/people/${d.personId}`;return ue("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[P(yn,{style:{flex:1},to:h,children:d.name}),P(zs,{result:d.decision})]},`individual-vote-${f}-${d.id}`)}),t.length>5&&P("button",{className:"mzp-c-button mzp-t-product mzp-t-secondary mzp-t-sm",style:{marginTop:10},onClick:()=>{n(!i)},children:i?"Show Less":"Show All Votes for Matter "})]})})}const yAe=({index:t,legislationLink:e,legislationName:i,legislationDescription:n,councilDecision:r,votes:o,columnNames:a,columnDistribution:s})=>{const[l,c]=$.exports.useState(!0),d=Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`});return ue(QU,{index:t,columnNames:a,columnDistribution:s,children:[ue("div",{children:[P(yn,{to:e,children:P("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:i})}),!d&&P(bAe,{onClick:()=>{c(!l)},minified:l,linesToShow:3,children:n})]}),P(zs,{result:r}),vAe(o,d)]},`meeting-table-row-${t}`)},wAe=Fe.div({padding:8,fontSize:Sr.font_size_6,fontWeight:600}),AAe=({columnNames:t,columnDistribution:e})=>Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`})?null:P("div",{style:{display:"flex",flex:1,flexDirection:"row"},children:t==null?void 0:t.map((n,r)=>{const o=e[r]||0;return P("div",{style:{width:o},children:P(wAe,{children:n})},n)})});function xAe(t){return P(QA,{index:t},`empty-table-row-${t}`)}const qU=({data:t,renderRow:e,columnDistribution:i,columnNames:n})=>{const r=!t||!t.length||t.length===0;return ue(ze.Fragment,{children:[P(AAe,{columnDistribution:i,columnNames:n}),r&&xAe(0),t.map((o,a)=>e(o,a))]})};function kAe(t){return P(QA,{index:t},`empty-table-row-${t}`)}const _Ae=({votesPage:t})=>{const e=[Ae.legislation,Ae.council_decision,Ae.votes],i=["35%","25%","40%"];function n(r,o){if(!r.matter||!r.votes)return kAe(o);const a=r.matter.name,s=r.matter.description,l=r.council_decision,c=`/matters/${r.matter.id}`;return P(yAe,{index:o,legislationName:a,legislationDescription:s,councilDecision:l,legislationLink:c,votes:r.votes,columnDistribution:i,columnNames:e},`meeting-voting-table-row-${o}`)}return P(Jr,{children:P(qU,{data:t,columnDistribution:i,columnNames:e,renderRow:n})})},TAe=({currentInfoTab:t,setCurrentInfoTab:e,sentences:i,transcriptItemsRefs:n,eventMinutesItems:r,votes:o,jumpToVideoClip:a})=>{const{language:s}=jo(),l=(v,w)=>e(w.activeIndex),c=$.exports.useMemo(()=>r.map(({minutes_item:v,files:w})=>({name:v==null?void 0:v.name,description:v==null?void 0:v.description,matter_ref:v==null?void 0:v.matter_ref,documents:w&&w.length>0?w.map(({name:g,uri:A})=>({label:g,url:A})):void 0})),[r]),d=$.exports.useMemo(()=>o.reduce((v,w)=>(Object.keys(v).includes(w.event_minutes_item_ref)||(v[w.event_minutes_item_ref]=[]),v[w.event_minutes_item_ref].push(w),v),{}),[o]),f=$.exports.useMemo(()=>r.map(v=>d[v.id]||[]),[d,r]),h=$.exports.useMemo(()=>{const v=[];return r.forEach(({minutes_item:w,decision:g},A)=>{const x=f[A];x&&x.length>0&&v.push({matter:{name:w==null?void 0:w.name,description:w==null?void 0:w.description,id:w==null?void 0:w.matter_ref},council_decision:g,votes:x.map(({person:T,decision:E,id:z})=>({personId:T==null?void 0:T.id,name:T==null?void 0:T.name,decision:E,id:z}))})}),v},[r,f]),m=$.exports.useMemo(()=>[{menuItem:Ae.minutes,pane:{key:"agenda",content:P(fAe,{minutesItems:c})}},{menuItem:Ae.transcript,pane:{key:"transcript",content:P(Ng,{data:"transcript",isLoading:i.isLoading,error:i.error,notFound:!i.data||i.data.length===0,children:i.data&&P(sAe,{sentences:i.data,transcriptItemsRefs:n,jumpToVideoClip:a})})}},{menuItem:Ae.votes,pane:{key:"votes",content:P(_Ae,{votesPage:h})}}],[c,i,n,a,h,s]);return P(VU,{padding:"16px",menu:{secondary:!0,pointing:!0},panes:m,activeIndex:t,onTabChange:l,renderActiveOnly:!1})};var SAe=ze.memo(TAe);const CAe=Fe.div({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",rowGap:"32px","& > *":{width:"100%"}}),EAe=Fe.div({"& > h1":{margin:0}}),zAe=Fe.div({position:"sticky",top:0,zIndex:2,backgroundColor:"white",[`@media (min-width:${Mt.tablet})`]:{position:"static"},[`@media (min-aspect-ratio:5/4), (min-width:${Mt.desktop})`]:{width:"50%"}}),IAe=Fe.div({[`@media (min-aspect-ratio:5/4), (min-width:${Mt.desktop})`]:{width:"47%"}}),RAe=({event:t,sessions:e,sentences:i,eventMinutesItems:n,votes:r,initialSession:o,initialSeconds:a,searchQuery:s})=>{var E,z,L,B,O;const{municipality:l}=ji(),{language:c}=jo();Mf(`${(E=t.body)==null?void 0:E.name}${((z=t.body)==null?void 0:z.name)&&t.event_datetime&&" -- "}${(L=t.event_datetime)==null?void 0:L.toLocaleDateString(c,{timeZone:l.timeZone})}`);const[d,f]=$.exports.useState(o),[h,m]=$.exports.useState(0),v=$.exports.useRef(e.map(()=>$.exports.createRef())),w=$.exports.useCallback((F,H)=>{var X;f(de=>{var we;return de!==F&&((we=v.current[de].current)==null||we.pause()),F}),(X=v.current[F].current)==null||X.seekTo(H)},[v]),g=$.exports.useMemo(()=>(i.data||[]).map(()=>$.exports.createRef()),[i.data]),[A,x]=$.exports.useState(),T=$.exports.useCallback(F=>{var H;h!==1?(m(1),x(F)):(H=g[F].current)==null||H.scrollIntoView()},[g,h]);return $.exports.useEffect(()=>{var F;h===1&&A!==void 0&&((F=g[A].current)==null||F.scrollIntoView(),x(void 0))},[h,A,g]),ue(CAe,{children:[ue(EAe,{children:[P("h1",{className:"mzp-u-title-sm",children:(B=t.body)==null?void 0:B.name}),P("p",{className:"mzp-c-card-desc",children:(O=t.event_datetime)==null?void 0:O.toLocaleString(c,{timeZone:l.timeZone,timeZoneName:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})})]}),P(zAe,{children:P(oAe,{eventVideoRefs:v.current,sessions:e,currentSession:d,initialSeconds:a,setCurrentSession:f})}),P(IAe,{children:P(rme,{searchQuery:s||"",sentences:i,jumpToVideoClip:w,jumpToTranscript:T})}),P("div",{children:P(SAe,{currentInfoTab:h,setCurrentInfoTab:m,sentences:i,transcriptItemsRefs:g,eventMinutesItems:n,votes:r,jumpToVideoClip:w})})]})},PAe="Reproducir",LAe="Pausa",OAe="Duraci\xF3n total",DAe="DIRECTO",MAe="Cargado",BAe="Progreso",FAe="Pantalla completa",NAe="Silenciar",jAe="No silenciado",UAe="Subt\xEDtulos",GAe="Subt\xEDtulos especiales",HAe="Cap\xEDtulos",WAe="Volver a reproducir",YAe="Descripciones",VAe="Cerrar",$Ae="Texto",QAe="Blanco",qAe="Negro",KAe="Rojo",XAe="Verde",JAe="Azul",ZAe="Amarillo",exe="Magenta",txe="Cian",ixe="Fondo",nxe="Ventana",rxe="Transparente",oxe="Opaca",axe="Ninguno",sxe="En relieve",lxe="Hundido",cxe="Uniforme",uxe="Sombra paralela",dxe="Informal",fxe="Cursiva",pxe="Restablecer",hxe="Listo";var mxe={Play:PAe,"Play Video":"Reproducir V\xEDdeo",Pause:LAe,"Current Time":"Tiempo reproducido",Duration:OAe,"Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:DAe,Loaded:MAe,Progress:BAe,Fullscreen:FAe,"Non-Fullscreen":"Pantalla no completa",Mute:NAe,Unmute:jAe,"Playback Rate":"Velocidad de reproducci\xF3n",Subtitles:UAe,"subtitles off":"Subt\xEDtulos desactivados",Captions:GAe,"captions off":"Subt\xEDtulos especiales desactivados",Chapters:HAe,"You aborted the media playback":"Ha interrumpido la reproducci\xF3n del v\xEDdeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del v\xEDdeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el v\xEDdeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducci\xF3n de v\xEDdeo se ha interrumpido por un problema de corrupci\xF3n de datos o porque el v\xEDdeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este v\xEDdeo.","Audio Player":"Reproductor de audio","Video Player":"Reproductor de video",Replay:WAe,"Seek to live, currently behind live":"Buscar en vivo, actualmente demorado con respecto a la transmisi\xF3n en vivo","Seek to live, currently playing live":"Buscar en vivo, actualmente reproduciendo en vivo","Progress Bar":"Barra de progreso","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Descriptions:YAe,"descriptions off":"descripciones desactivadas","Audio Track":"Pista de audio","Volume Level":"Nivel de volumen","The media is encrypted and we do not have the keys to decrypt it.":"El material audiovisual est\xE1 cifrado y no tenemos las claves para descifrarlo.",Close:VAe,"Modal Window":"Ventana modal","This is a modal window":"Esta es una ventana modal","This modal can be closed by pressing the Escape key or activating the close button.":"Esta ventana modal puede cerrarse presionando la tecla Escape o activando el bot\xF3n de cierre.",", opens captions settings dialog":", abre el di\xE1logo de configuraci\xF3n de leyendas",", opens subtitles settings dialog":", abre el di\xE1logo de configuraci\xF3n de subt\xEDtulos",", selected":", seleccionado","Close Modal Dialog":"Cierra cuadro de di\xE1logo modal",", opens descriptions settings dialog":", abre el di\xE1logo de configuraci\xF3n de las descripciones","captions settings":"configuraci\xF3n de leyendas","subtitles settings":"configuraci\xF3n de subt\xEDtulos","descriptions settings":"configuraci\xF3n de descripciones",Text:$Ae,White:QAe,Black:qAe,Red:KAe,Green:XAe,Blue:JAe,Yellow:ZAe,Magenta:exe,Cyan:txe,Background:ixe,Window:nxe,Transparent:rxe,"Semi-Transparent":"Semitransparente",Opaque:oxe,"Font Size":"Tama\xF1o de fuente","Text Edge Style":"Estilo de borde del texto",None:axe,Raised:sxe,Depressed:lxe,Uniform:cxe,Dropshadow:uxe,"Font Family":"Familia de fuente","Proportional Sans-Serif":"Sans-Serif proporcional","Monospace Sans-Serif":"Sans-Serif monoespacio","Proportional Serif":"Serif proporcional","Monospace Serif":"Serif monoespacio",Casual:dxe,Script:fxe,"Small Caps":"Min\xFAsculas",Reset:pxe,"restore all settings to the default values":"restablece todas las configuraciones a los valores predeterminados",Done:hxe,"Caption Settings Dialog":"Di\xE1logo de configuraci\xF3n de leyendas","Beginning of dialog window. Escape will cancel and close the window.":"Comienzo de la ventana de di\xE1logo. La tecla Escape cancelar\xE1 la operaci\xF3n y cerrar\xE1 la ventana.","End of dialog window.":"Final de la ventana de di\xE1logo.","{1} is loading.":"{1} se est\xE1 cargando.","Exit Picture-in-Picture":"Salir de imagen sobre imagen","Picture-in-Picture":"Imagen sobre imagen"};const gxe="Wiedergabe",bxe="Pause",vxe="Erneut abspielen",yxe="Dauer",wxe="LIVE",Axe="Geladen",xxe="Status",kxe="Vollbild",_xe="Ton aus",Txe="Ton ein",Sxe="Untertitel",Cxe="Untertitel",Exe="Kapitel",zxe="Schlie\xDFen",Ixe="Beschreibungen",Rxe="Schrift",Pxe="Wei\xDF",Lxe="Schwarz",Oxe="Rot",Dxe="Gr\xFCn",Mxe="Blau",Bxe="Gelb",Fxe="Magenta",Nxe="T\xFCrkis",jxe="Hintergrund",Uxe="Fenster",Gxe="Durchsichtig",Hxe="Undurchsichtig",Wxe="Kein",Yxe="Erhoben",Vxe="Gedr\xFCckt",$xe="Uniform",Qxe="Schlagschatten",qxe="Zwanglos",Kxe="Schreibschrift",Xxe="Zur\xFCcksetzen",Jxe="Fertig";var Zxe={Play:gxe,Pause:bxe,Replay:vxe,"Current Time":"Aktueller Zeitpunkt",Duration:yxe,"Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:wxe,Loaded:Axe,Progress:xxe,Fullscreen:kxe,"Non-Fullscreen":"Vollbildmodus beenden",Mute:_xe,Unmute:Txe,"Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:Sxe,"subtitles off":"Untertitel aus",Captions:Cxe,"captions off":"Untertitel aus",Chapters:Exe,"You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterst\xFCtzt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem besch\xE4digten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterst\xFCtzt werden, abgebrochen.","No compatible source was found for this media.":"F\xFCr dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:zxe,"Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":'Durch Dr\xFCcken der Esc-Taste bzw. Bet\xE4tigung der Schaltfl\xE4che "Schlie\xDFen" wird dieses modale Fenster geschlossen.',", opens captions settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", opens subtitles settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", selected":", ausgew\xE4hlt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen f\xFCr Beschreibungen","Close Modal Dialog":"Modales Fenster schlie\xDFen",Descriptions:Ixe,"descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschl\xFCsselungsschl\xFCssel f\xFCr den verschl\xFCsselten Medieninhalt sind nicht verf\xFCgbar.",", opens descriptions settings dialog":", \xF6ffnet Einstellungen f\xFCr Beschreibungen","Audio Track":"Tonspur",Text:Rxe,White:Pxe,Black:Lxe,Red:Oxe,Green:Dxe,Blue:Mxe,Yellow:Bxe,Magenta:Fxe,Cyan:Nxe,Background:jxe,Window:Uxe,Transparent:Gxe,"Semi-Transparent":"Halbdurchsichtig",Opaque:Hxe,"Font Size":"Schriftgr\xF6\xDFe","Text Edge Style":"Textkantenstil",None:Wxe,Raised:Yxe,Depressed:Vxe,Uniform:$xe,Dropshadow:Qxe,"Font Family":"Schriftfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:qxe,Script:Kxe,"Small Caps":"Small-Caps",Reset:Xxe,"restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zur\xFCcksetzen",Done:Jxe,"Caption Settings Dialog":"Einstellungsdialog f\xFCr Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schlie\xDFt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Fortschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautst\xE4rke","{1} is loading.":"{1} wird geladen.","Seek to live, currently behind live":"Zur Live-\xDCbertragung wechseln. Aktuell wird es nicht live abgespielt.","Seek to live, currently playing live":"Zur Live-\xDCbertragung wechseln. Es wird aktuell live abgespielt.","Exit Picture-in-Picture":"Bild-im-Bild-Modus beenden","Picture-in-Picture":"Bild-im-Bild-Modus"};const e1e=()=>{ee.addLanguage("es",mxe),ee.addLanguage("de",Zxe)};e1e();const t1e=()=>{const{id:t}=kS(),{firebaseConfig:e}=ji(),i=Of(),n=$.exports.useMemo(()=>i.state?i.state.query:"",[i.state]),[r,o]=$.exports.useMemo(()=>{const{s:E,t:z}=Mw.parse(i.search);return[E,z].map(L=>{if(L!==null&&typeof L=="string"){const B=parseFloat(L);return isNaN(B)||B<0?0:Math.floor(B)}else return 0})},[i.search]),a=$.exports.useCallback(async()=>{const z=await new xA(e).getEventById(t);return Promise.resolve(z)},[e,t]),{state:s}=bn({...Io},a),l=$.exports.useCallback(async()=>{const z=await new xpe(e).getSessionsByEventId(t);return Promise.resolve(z)},[e,t]),{state:c}=bn({...Io},l),d=$.exports.useCallback(async()=>{const E=new Spe(e),z=new AN(e),L=await E.getEventMinutesItemsByEventId(t),B=await Promise.all(L.map(({id:O})=>z.getEventMinutesItemFilesByEventMinutesItemId(O)));return Promise.resolve(L.map((O,F)=>({...O,files:B[F]})))},[e,t]),{state:f}=bn({...Io},d),h=$.exports.useCallback(async()=>{const z=await new SA(e).getVotesByEventId(t);return Promise.resolve(z)},[e,t]),{state:m}=bn({...Io},h),v=$.exports.useCallback(async()=>{const E=new _pe(e),z=new zpe(e);if(c.data){const L=await Promise.all(c.data.map(({id:F})=>E.getTranscriptBySessionId(F))),B=await Promise.all(L.map(F=>{var H;return console.log("Transcript JSON Data",F[0]),z.download((H=F[0].file)==null?void 0:H.uri)})),O=[];return B.forEach((F,H)=>{var X;(X=F==null?void 0:F.sentences)==null||X.forEach(de=>{O.push({session_index:H,index:O.length,start_time:de.start_time,end_time:de.end_time,text:de.text,speaker_name:de.speaker_name,speaker_index:de.speaker_index,speaker_id:void 0,speaker_pictureSrc:void 0})})}),Promise.resolve(O)}return Promise.resolve([])},[e,c.data]),{state:w,dispatch:g}=bn({...Io,hasFetchRequest:!1},v);$.exports.useEffect(()=>{c.data&&g({type:Iy.FETCH})},[c.data,g]);const A=$.exports.useMemo(()=>s.isLoading||c.isLoading||f.isLoading||m.isLoading,[s.isLoading,c.isLoading,f.isLoading,m.isLoading]),x=$.exports.useMemo(()=>{if(!(!s.data||!c.data||!f.data||!m.data))return{event:s.data,sessions:c.data,eventMinutesItems:f.data,votes:m.data}},[s.data,c.data,f.data,m.data]),T=$.exports.useMemo(()=>{const E=[s.error,c.error,f.error,m.error].map(z=>(z==null?void 0:z.message)||"").filter(z=>z.length>0);return E.length>0?new Error(E.join(`
`)):null},[s.error,c.error,f.error,m.error]);return P($f,{isLoading:A,error:T,children:x&&P(RAe,{...x,sentences:w,searchQuery:n,initialSession:r>0&&r<x.sessions.length?r:0,initialSeconds:o})})};var ng=(t=>(t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.FETCH_MODELS="FETCH_MODELS",t))(ng||{});const i1e=()=>(t,e)=>{switch(e.type){case"SUCCESS":return{...t,models:t.fetchModels?e.payload:[...t.models,...e.payload],fetchModels:!1,showMoreModels:!1,hasMoreModels:e.payload.length===t.batchSize};case"FAILURE":return{...t,error:e.payload,fetchModels:!1,showMoreModels:!1};case"FETCH_MODELS":return{...t,error:null,fetchModels:e.payload,showMoreModels:!e.payload};default:return t}};function gz(t,e){const[i,n]=$.exports.useReducer(i1e(),t);return $.exports.useEffect(()=>{let r=!1;const o=async()=>{try{const a=await e(i)();r||n({type:"SUCCESS",payload:a})}catch(a){if(!r){const s=wa(a);n({type:"FAILURE",payload:s})}}};return(i.fetchModels||i.showMoreModels)&&o(),()=>{r=!0}},[i,i.batchSize,i.models,i.fetchModels,i.showMoreModels,e,n]),{state:i,dispatch:n}}const n1e=({bodies:t,initialSelectedBodies:e})=>{const{firebaseConfig:i,municipality:n}=ji(),{language:r}=jo(),o=Bc({name:Ae.date,initialState:{start:"",end:""},defaultDataValue:"",textRepFunction:pN(r,n.timeZone)}),a=Bc({name:Ae.committee,initialState:t.reduce((T,E)=>(T[E.id]=e[E.id]||!1,T),{}),defaultDataValue:!1,textRepFunction:r8,limit:LC}),s=Bc({name:"Sort",initialState:{by:"event_datetime",order:en.desc,label:Ae.newest_first},defaultDataValue:"",textRepFunction:hN}),l=$.exports.useCallback(T=>async()=>{const E=!T.fetchModels&&T.models.length>0?T.models[T.models.length-1].event_datetime:void 0,z=new xA(i),L=await z.getEvents(T.batchSize,IS(a.state),{start:mf(new Date(o.state.start),n.timeZone),end:mf(new Date(o.state.end),n.timeZone)},{by:s.state.by,order:s.state.order},E),B=await Promise.all(L.map(O=>z.getRenderableEvent(O)));return Promise.resolve(B)},[i,a.state,o.state,s.state,n.timeZone]),c=Go.exports.useMediaQuery({query:`(min-width: ${Mt.desktop})`}),{state:d,dispatch:f}=gz({batchSize:yN-(c?1:0),models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},l),h=xS(),[m,v]=$.exports.useState(""),w=()=>{const T=`?q=${m.trim().replace(/\s+/g,"+")}`;h.push({pathname:`/${Qr.EVENT}/search`,search:T,state:{query:m.trim(),committees:a.state,dateRange:o.state}})},g=$.exports.useCallback(()=>{f({type:ng.FETCH_MODELS,payload:!0})},[f]),A=$.exports.useCallback(()=>f({type:ng.FETCH_MODELS,payload:!1}),[f]),x=$.exports.useMemo(()=>{if(d.fetchModels)return P(_a,{active:!0,size:"massive"});if(d.error)return P($h,{children:d.error.toString()});if(d.models.length===0)return P($h,{children:Ae.no_results_found});{const T=d.models.map(({keyGrams:E,...z})=>({link:`/${Qr.EVENT}/${z.id}`,jsx:P(aN,{event:z,tags:E})}));return P(eE,{cards:T})}},[d.fetchModels,d.error,d.models]);return ue(gN,{children:[ue(vN,{children:[P("h1",{className:"mzp-u-title-sm",children:Ae.events}),P(bN,{placeholder:Ae.search_topic_placeholder,query:m,setQuery:v,handleSearch:w})]}),P(mN,{allBodies:t,filters:[a,o,s],sortOptions:[{by:"event_datetime",order:en.desc,label:Ae.newest_first},{by:"event_datetime",order:en.asc,label:Ae.oldest_first}],handlePopupClose:g}),x,P(kA,{isVisible:d.hasMoreModels&&!d.fetchModels,children:ue("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:A,children:[P("span",{children:Ae.show_more}),P(_a,{inline:!0,active:d.showMoreModels,size:"tiny"})]})})]})},r1e=()=>{const{firebaseConfig:t}=ji();Mf(Ae.events);const e=Of(),i=$.exports.useMemo(()=>{if(e.state)return e.state;const{body:o}=Mw.parse(e.search),a={};return o&&typeof o=="string"&&(a[o]=!0),{committees:a}},[e]),n=$.exports.useCallback(async()=>{const a=await new D6(t).getAllBodies();return Promise.resolve({bodies:a})},[t]),{state:r}=bn({isLoading:!1,error:null,hasFetchRequest:!0},n);return P($f,{isLoading:r.isLoading,error:r.error,children:r.data&&P(n1e,{...r.data,initialSelectedBodies:i.committees})})};class o1e extends Un{constructor(e){super(Te.Person,e)}async getPersonById(e){const i=new zi(Te.File,vt.PersonPictureRef),n=this.networkService.getDocument(e,Te.Person,new nn([i]));return this.createModel(n,TA,`getPersonById(${e})`)}}class KU{constructor(e){this.id=e.id,this.name=e.name,e.external_source_id&&(this.external_source_id=e.external_source_id),e.electoral_area&&(this.electoral_area=e.electoral_area),e.electoral_type&&(this.electoral_type=e.electoral_type),e.image_ref&&(e.image_ref instanceof _t?this.image_ref=e.image_ref.id:typeof e.image_ref=="object"&&(this.image=new hf(e.image_ref)))}}class J0{constructor(e){this.id=e.id,this.title=e.title,this.person_ref=e.person_ref.id,this.seat_ref=e.seat_ref.id,this.start_datetime=Aa(e.start_datetime),e.end_datetime&&(this.end_datetime=Aa(e.end_datetime)),typeof e.person_ref=="object"&&!(e.person_ref instanceof _t)&&(this.person=new TA(e.person_ref)),e.body_ref&&(e.body_ref instanceof _t?this.body_ref=e.body_ref.id:typeof e.body_ref=="object"&&(this.body=new xy(e.body_ref))),typeof e.seat_ref=="object"&&!(e.seat_ref instanceof _t)&&(this.seat=new KU(e.seat_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class dT extends Un{constructor(e){super(Te.Role,e)}async getPopulatedRolesByPersonId(e){const i=new zi(Te.Body,vt.RoleBodyRef),n=this.networkService.getDocuments(Te.Role,[xi(vt.RolePersonRef,gi.eq,$i(Xt.getDb(),Te.Person,e)),Dn("start_datetime",en.desc)],new nn([i]));return this.createModels(n,J0,`getPopulatedRolesByPersonId(${e})`)}async getCouncilMemberRolesByPersonId(e){const i=new zi(Te.Seat,vt.RoleSeatRef),n=this.networkService.getDocuments(Te.Role,[xi(vt.RolePersonRef,gi.eq,$i(Xt.getDb(),Te.Person,e)),xi("title",gi.eq,es.COUNCILMEMBER),Dn("start_datetime",en.desc)],new nn([i]));return this.createModels(n,J0,`getCouncilMemberRolesByPersonId(${e})`)}async getMostRecentCouncilMemberRoleBySeat(e){const i=new zi(Te.Person,vt.RolePersonRef),n=this.networkService.getDocuments(Te.Role,[xi(vt.RoleSeatRef,gi.eq,$i(Xt.getDb(),Te.Seat,e)),xi("end_datetime",gi.eq,null),ou(1),Dn("start_datetime",en.desc)],new nn([i])),r=await this.createModels(n,J0,"getMostRecentCouncilMemberRoleBySeatWithNullEndDates");if(r[0])return Promise.resolve(r[0]);const o=this.networkService.getDocuments(Te.Role,[xi(vt.RoleSeatRef,gi.eq,$i(Xt.getDb(),Te.Seat,e)),ou(1),Dn("end_datetime",en.desc)],new nn([i])),a=await this.createModels(o,J0,"getMostRecentCouncilMemberRoleBySeat");return a[0]?Promise.resolve(a[0]):Promise.resolve(null)}}var jl=Fe.h2(t=>({display:t.isInline?"inline":"block",paddingBottom:t.hasBorderBottom?8:0,borderBottom:t.hasBorderBottom?`1px solid ${Ro.grey}`:0}));const a1e=Fe.div({"& > address > a:nth-of-type(2)":{marginTop:8},"& a":{display:"flex",alignItems:"center",columnGap:8},"& svg":{width:Sr.font_size_5,height:Sr.font_size_5,color:Ro.black}}),s1e=({person:t})=>t.phone||t.email||t.website?ue(a1e,{children:[P(jl,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:Ae.contact}),(t.phone||t.email)&&ue("address",{children:[t.email&&ue("a",{className:"mzp-c-cta-link",href:`mailto:${t.email}`,children:[P("svg",{width:16,height:16,xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.email]}),t.phone&&ue("a",{className:"mzp-c-cta-link",href:`tel:${t.phone}`,children:[P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),t.phone]})]}),t.website&&ue(Jr,{children:[P("br",{}),P("a",{className:"mzp-c-cta-link",target:"_blank",rel:"noopener noreferrer",href:t.website,children:Ae.visit_persons_website.replace("{person_name}",t.name)})]})]}):null,l1e=Oy[Math.floor(Math.random()*Oy.length)],c1e=Fe.div({position:"relative",height:150,"& img":{objectFit:"cover"},[`@media (min-width:${Mt.tablet})`]:{height:400}}),u1e=Fe.img({width:"100%",height:"100%"}),d1e=Fe.img(t=>({visibility:t.isLoading?"hidden":"visible",position:"absolute",left:-5,bottom:-35,width:100,height:100,borderRadius:"50%",[`@media (min-width:${Mt.tablet})`]:{left:-25,width:200,height:200}})),f1e=({personName:t,personPictureSrc:e,seatPictureSrc:i,electoralArea:n})=>{const[r,o]=$.exports.useState(!0),[a,s]=$.exports.useState(!0);return $.exports.useEffect(()=>{e.data===null&&o(!1)},[e.data]),ue(c1e,{children:[P(ZC,{contentIsLoading:a||r,children:P(u1e,{className:"mzp-c-card-image",src:i.data===null?l1e:i.data,alt:`${n||""}`,onLoad:()=>s(!1)})}),e.data&&P(d1e,{isLoading:a||r,className:"mzp-c-card-image",src:e.data,alt:`Picture of ${t}`,onLoad:()=>o(!1)})]})};class oO{constructor(e){this.id=e.id,this.person_ref=e.person_ref.id,this.matter_ref=e.matter_ref.id,e.external_source_id&&(this.external_source_id=e.external_source_id),typeof e.person_ref=="object"&&!(e.person_ref instanceof _t)&&(this.person=new TA(e.person_ref)),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof _t)&&(this.matter=new Fg(e.matter_ref))}}class XU extends Un{constructor(e){super(Te.MatterSponsor,e)}async getMatterSponsorByMatterId(e){const i=new zi(Te.MatterSponsor,vt.MatterSponsorPersonRef),n=this.networkService.getDocuments(Te.MatterSponsor,[xi(vt.MatterSponsorMatterRef,gi.eq,$i(Xt.getDb(),Te.Matter,e))],new nn([i]));return this.createModels(n,oO,`getMatterSponsorByMatterId(${e})`)}async getMattersSponsoredByPersonId(e,i,n){const r=new zi(Te.Matter,vt.MatterSponsorMatterRef),o=[];if(o.push(xi(vt.MatterSponsorPersonRef,gi.eq,$i(Xt.getDb(),Te.Person,e))),o.push(Dn(vt.MatterSponsorMatterRef,en.asc)),n){const s=$i(Xt.getDb(),Te.MatterSponsor,n),l=await IC(s);o.push(zC(l))}o.push(ou(i));const a=this.networkService.getDocuments(Te.MatterSponsor,o,new nn([r]));return this.createModels(a,oO,`getMattersSponsoredByPersonId(${e})`)}}const p1e=25,h1e=25,m1e=Fe.summary(t=>({"&::before":{content:"none"},cursor:"pointer",paddingRight:0,paddingBottom:t.hasBorderBottom?8:0,borderBottom:t.hasBorderBottom?`1px solid ${Ro.grey}`:0})),xu=({summaryContent:t,hiddenContent:e,defaultOpen:i,hasBorderBottom:n})=>ue("details",{open:i,children:[P(m1e,{hasBorderBottom:n,children:t}),e]});var sw=Fe.ul(t=>({marginLeft:"1.25rem","& > li":{marginTop:t.gap}}));const g1e=({personId:t})=>{const{firebaseConfig:e}=ji(),i=$.exports.useCallback(s=>async()=>{const l=!s.fetchModels&&s.models.length>0?s.models[s.models.length-1].id:void 0,d=await new XU(e).getMattersSponsoredByPersonId(t,s.batchSize,l);return Promise.resolve(d)},[e,t]),{state:n,dispatch:r}=gz({batchSize:h1e,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},i),o=$.exports.useCallback(()=>r({type:ng.FETCH_MODELS,payload:!1}),[r]),a=$.exports.useMemo(()=>ue(Ng,{data:"legislations",isLoading:n.fetchModels,error:n.error,notFound:!n.fetchModels&&n.models.length===0,children:[P(sw,{gap:8,children:n.models.map(s=>{var l,c,d,f;return P("li",{children:ue("dl",{children:[P("dt",{children:P(yn,{to:`/matters/${(l=s.matter)==null?void 0:l.id}`,children:P("strong",{children:(c=s.matter)==null?void 0:c.name})},(d=s.matter)==null?void 0:d.id)}),P("dd",{children:(f=s.matter)==null?void 0:f.title})]})},s.id)})}),P("br",{}),P(kA,{isVisible:!n.fetchModels&&n.hasMoreModels,children:ue("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:o,children:[P("span",{children:Ae.show_more}),P(_a,{inline:!0,active:n.showMoreModels,size:"tiny"})]})})]}),[n,o]);return P("div",{style:{marginTop:16},children:P(xu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(jl,{className:"mzp-u-title-xs",isInline:!0,children:Ae.legislation_sponsored}),hiddenContent:a})})};function b1e(t){function e(n,r){return`${n.toISOString()}${r==null?void 0:r.toISOString()}`}return[...new Map(t.map(n=>[e(n.start_datetime,n.end_datetime),n])).values()].sort((n,r)=>r.start_datetime.getTime()-n.start_datetime.getTime())}function v1e(t,e){const i=t.filter(a=>a.title!==es.COUNCILMEMBER),n=[es.COUNCILPRESIDENT,es.CHAIR,es.VICE_CHAIR,es.SUPERVISOR,es.MEMBER,es.ALTERNATE];i.sort((a,s)=>n.indexOf(a.title)-n.indexOf(s.title));const r=e.reduce((a,s)=>(a[s.id]=[[],[]],a),{}),o=new Date;for(const a of i){const s=a.end_datetime||o;for(const l of e){const c=l.end_datetime||o;s>=l.start_datetime&&s<=c&&(s>o?r[l.id][0].push(a):r[l.id][1].push(a))}}return[r,i]}const Yk=({hasBorderBottom:t,roles:e,defaultOpen:i,title:n})=>P(xu,{hasBorderBottom:t,defaultOpen:i,summaryContent:n,hiddenContent:P(sw,{gap:4,children:e.map(r=>{var o,a,s;return ue("li",{children:[P("strong",{children:`${Ae[r.title.toLowerCase().replace(" ","_")]}: `}),P(yn,{to:{pathname:"/events",search:`?body=${(o=r.body)==null?void 0:o.id}`,state:{committees:{[(a=r.body)==null?void 0:a.id]:!0}}},children:P("strong",{children:`${(s=r.body)==null?void 0:s.name}`})})]},r.id)})})}),y1e=({councilMemberRoles:t,allRoles:e})=>{const{municipality:i}=ji(),{language:n}=jo(),[r,o,a]=$.exports.useMemo(()=>{const s=b1e(t),[l,c]=v1e(e,s);return[s,l,c]},[t,e]);return e.length===0?null:r.length===0&&a.length>0?P(Yk,{hasBorderBottom:!0,roles:a,defaultOpen:!1,title:P(jl,{isInline:!0,className:"mzp-u-title-xs",children:Ae.committees})}):ue("div",{children:[P(jl,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:Ae.terms}),P(sw,{gap:16,children:r.map(s=>{var c,d;const l=!s.end_datetime||s.end_datetime>new Date;return P("li",{children:P(xu,{defaultOpen:l,summaryContent:ue("span",{style:{fontSize:Sr.font_size_6},children:[P("strong",{children:`${Ae[s.title.toLowerCase().replace(" ","_")]}: `})," ",`${(c=s.seat)==null?void 0:c.name} // ${(d=s.seat)==null?void 0:d.electoral_area} (${s.start_datetime.toLocaleDateString(n,{timeZone:i.timeZone})} - ${s.end_datetime?s.end_datetime.toLocaleDateString(n,{timeZone:i.timeZone}):""})`]}),hiddenContent:ue(sw,{gap:8,children:[o[s.id][0].length>0&&P("li",{children:P(Yk,{hasBorderBottom:!1,roles:o[s.id][0],defaultOpen:l,title:Ae.committee_membership})}),o[s.id][1].length>0&&P("li",{children:P(Yk,{hasBorderBottom:!1,roles:o[s.id][1],defaultOpen:!l,title:Ae.former_committee_membership})})]})})},s.id)})})]})},w1e=({index:t,legislationLink:e,legislationName:i,legislationTags:n,voteDecision:r,councilDecision:o,meetingDate:a,meetingLink:s,committeeName:l,columnNames:c,columnDistribution:d})=>{const{municipality:f}=ji(),{language:h}=jo(),m=n&&n.length>0?n.join(Ly):"",v=a==null?void 0:a.toLocaleDateString(h,{timeZone:f.timeZone,month:"long",day:"numeric",year:"numeric"}),w=Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`});return ue(QU,{index:t,columnNames:c,columnDistribution:d,children:[ue(ze.Fragment,{children:[P(yn,{to:e,children:P("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:i})}),!w&&P("p",{className:"mzp-c-card-desc",children:m})]}),P(zs,{result:r}),P(zs,{result:o}),ue(ze.Fragment,{children:[P(yn,{to:s,children:v}),!w&&P("p",{className:"mzp-c-card-desc",children:l})]})]},`voting-table-row-${t}`)};function A1e(t){return P(QA,{index:t},`empty-table-row-${t}`)}const x1e=({name:t,votesPage:e})=>{const i=[Ae.legislation,Ae.persons_vote.replace("{name}",t),Ae.council_decision,Ae.meeting],n=["30%","15%","20%","35%"];function r(o,a){var w;if(!o.matter||!o.decision||!o.event)return A1e(a);const s=o.matter.name,l=o.decision,c=(w=o.event_minutes_item)==null?void 0:w.decision,d=`/matters/${o.matter.id}`,f=o.matter.keywords,h=o.event.event_datetime,m=`/events/${o.event.id}`,v=o.event.body.name;return P(w1e,{index:a,legislationName:s,voteDecision:l,councilDecision:c,legislationLink:d,legislationTags:f,meetingDate:h,meetingLink:m,committeeName:v,columnNames:i,columnDistribution:n},`voting-table-row-${a}`)}return P(qU,{data:e,columnDistribution:n,columnNames:i,renderRow:r})},k1e=({personId:t,personName:e})=>{const{firebaseConfig:i}=ji(),n=$.exports.useCallback(l=>async()=>{const c=!l.fetchModels&&l.models.length>0?l.models[l.models.length-1].id:void 0,f=await new SA(i).getFullyPopulatedVotesByPersonId(t,l.batchSize,c);return Promise.resolve(f)},[i,t]),{state:r,dispatch:o}=gz({batchSize:p1e,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},n),a=$.exports.useCallback(()=>o({type:ng.FETCH_MODELS,payload:!1}),[o]),s=$.exports.useMemo(()=>ue(Ng,{data:"votes",isLoading:r.fetchModels,error:r.error,notFound:!r.fetchModels&&r.models.length===0,children:[P(x1e,{name:e,votesPage:r.models}),P("br",{}),P(kA,{isVisible:!r.fetchModels&&r.hasMoreModels,children:ue("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:a,children:[P("span",{children:Ae.show_more}),P(_a,{inline:!0,active:r.showMoreModels,size:"tiny"})]})})]}),[e,r,a]);return P(xu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(jl,{className:"mzp-u-title-xs",isInline:!0,children:Ae.persons_voting_record.replace("{person_name}",e)}),hiddenContent:ue(Jr,{children:[P("br",{}),s]})})},_1e=Fe.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),T1e=Fe.h1({margin:0,"& > span:first-of-type":{fontSize:"inherit",fontWeight:"inherit"},"& > span:not(:first-of-type)":{fontSize:Sr.font_size_7},"& > span:nth-of-type(2)":{marginLeft:16,padding:"0px 8px",borderRadius:4,fontWeight:300},"& > span:nth-of-type(3)":{marginTop:16,display:"block",fontWeight:400}}),S1e=Fe.div(t=>({display:t.isVisible?"grid":"none",rowGap:64,gridTemplateColumns:"1fr",[`@media (min-width:${Mt.tablet})`]:{gridTemplateColumns:"auto 1fr",columnGap:128}})),C1e=({person:t,roles:e,councilMemberRoles:i,personPictureSrc:n,seatPictureSrc:r})=>{var c;const o=i.length>0?i[0]:void 0,a=!(o!=null&&o.end_datetime)||(o==null?void 0:o.end_datetime)>new Date,s=!!(t.phone||t.email||t.website),l=e.length>0;return Mf(t.name),ue(_1e,{children:[P(f1e,{personName:t.name,personPictureSrc:n,seatPictureSrc:r,electoralArea:(c=o==null?void 0:o.seat)==null?void 0:c.electoral_area}),ue(T1e,{className:"mzp-u-title-sm",children:[P("span",{children:t.name}),o&&P("span",{className:a?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:a?Ae.active:Ae.inactive}),(o==null?void 0:o.seat)&&P("span",{children:`${o==null?void 0:o.seat.name} // ${o.seat.electoral_area}`})]}),ue(S1e,{isVisible:s||l,children:[P(s1e,{person:t}),P(y1e,{councilMemberRoles:i,allRoles:e})]}),P(g1e,{personId:t.id}),P("div",{children:P(k1e,{personId:t.id,personName:t.name})})]})},E1e=()=>{const{id:t}=kS(),{firebaseConfig:e}=ji(),i=$.exports.useCallback(async()=>{const x=await new o1e(e).getPersonById(t);return Promise.resolve(x)},[t,e]),{state:n}=bn({...Io},i),r=$.exports.useCallback(async()=>{var T;const A=new Py(e),{networkService:x}=A;if((T=n.data)!=null&&T.picture){const E=await x.getDownloadUrl(n.data.picture.uri);return Promise.resolve(E)}return Promise.resolve(null)},[n.data,e]),{state:o,dispatch:a}=bn({...Io,hasFetchRequest:!1},r);$.exports.useEffect(()=>{n.data&&a({type:Iy.FETCH})},[n.data,a]);const s=$.exports.useCallback(async()=>{const x=await new dT(e).getCouncilMemberRolesByPersonId(t);return Promise.resolve(x)},[t,e]),{state:l}=bn({...Io},s),c=$.exports.useCallback(async()=>{const A=new Py(e),{networkService:x}=A;if(l.data&&l.data.length>0&&l.data[0].seat&&l.data[0].seat.image_ref){const T=await A.getFileById(l.data[0].seat.image_ref),E=await x.getDownloadUrl(T.uri);return Promise.resolve(E)}return Promise.resolve(null)},[l.data,e]),{state:d,dispatch:f}=bn({...Io,hasFetchRequest:!1},c);$.exports.useEffect(()=>{l.data&&f({type:Iy.FETCH})},[l.data,f]);const h=$.exports.useCallback(async()=>{const x=await new dT(e).getPopulatedRolesByPersonId(t);return Promise.resolve(x)},[t,e]),{state:m}=bn({...Io},h),v=$.exports.useMemo(()=>n.isLoading||l.isLoading||m.isLoading,[n.isLoading,l.isLoading,m.isLoading]),w=$.exports.useMemo(()=>{if(!(!n.data||!l.data||!m.data))return{person:n.data,councilMemberRoles:l.data,roles:m.data}},[n.data,l.data,m.data]),g=$.exports.useMemo(()=>{const A=[n.error,l.error,m.error].map(x=>(x==null?void 0:x.message)||"").filter(x=>x.length>0);return A.length>0?new Error(A.join(`
`)):null},[n.error,l.error,m.error]);return P($f,{isLoading:v,error:g,children:w&&P(C1e,{...w,personPictureSrc:o,seatPictureSrc:d})})},z1e=Oy[Math.floor(Math.random()*Oy.length)],I1e=Fe.div({float:"right",marginRight:8,marginBottom:8,borderRadius:"10%",padding:"0 4px"}),aO=Fe.img(t=>({objectFit:"cover",left:`${t.left} !important`,width:`${t.width} !important`,height:"100%"})),R1e=({person:t,seat:e})=>{var c,d,f,h,m,v;const{firebaseConfig:i}=ji(),n=$.exports.useCallback(async()=>{const w=new Py(i),{networkService:g}=w,A=[Promise.resolve(void 0),Promise.resolve(void 0)];e.image_ref&&(A[0]=w.getFileById(e.image_ref).then(E=>g.getDownloadUrl(E.uri)).catch(()=>Promise.resolve(void 0))),t.picture_ref&&(A[1]=w.getFileById(t.picture_ref).then(E=>g.getDownloadUrl(E.uri)).catch(()=>Promise.resolve(void 0)));const[x,T]=await Promise.all(A);return Promise.resolve({seatPictureSrc:x,personPictureSrc:T})},[t.picture_ref,e.image_ref,i]),{state:r}=bn({isLoading:!1,error:null,hasFetchRequest:!0},n),[o,a]=$.exports.useState(!0),[s,l]=$.exports.useState(!0);return $.exports.useEffect(()=>{var w;!r.isLoading&&((w=r.data)==null?void 0:w.personPictureSrc)===void 0&&a(!1)},[r]),P("section",{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:ue("div",{className:"mzp-c-card-block-link",children:[P("div",{className:"mzp-c-card-media-wrapper",children:P(oN,{children:ue(ZC,{contentIsLoading:o||s,children:[((c=r.data)==null?void 0:c.personPictureSrc)&&P(aO,{className:"mzp-c-card-image",src:r.data.personPictureSrc,width:(d=r.data)!=null&&d.seatPictureSrc?"40%":"100%",left:"0",alt:t.name,onLoad:()=>a(!1)}),P(aO,{className:"mzp-c-card-image",src:!r.isLoading&&((f=r.data)==null?void 0:f.seatPictureSrc)===void 0?z1e:(h=r.data)==null?void 0:h.seatPictureSrc,width:(m=r.data)!=null&&m.personPictureSrc?"60%":"100%",left:(v=r.data)!=null&&v.personPictureSrc?"40%":"0",alt:`${e.name} - ${e.electoral_area}`,onLoad:()=>l(!1)})]})})}),ue("div",{className:"mzp-c-card-content",children:[P("h2",{className:"mzp-c-card-title",children:t.name}),P(I1e,{className:t.is_active?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:t.is_active?Ae.active:Ae.inactive}),ue("p",{className:"mzp-c-card-desc",children:[e.name," \u2022 ",e.electoral_area]})]})]})})},P1e=({roles:t,seats:e})=>{const i=t.reduce((n,r,o)=>(r.person&&n.push({link:`/people/${r.person.id}`,jsx:P(R1e,{person:r.person,seat:e[o]},`person-card-${r.person.name}`)}),n),[]);return ue("div",{children:[P("h1",{className:"mzp-u-title-sm",children:"Current Councilmembers"}),P(eE,{cards:i})]})};class L1e extends Un{constructor(e){super(Te.Seat,e)}async getAllSeats(){const e=this.networkService.getDocuments(Te.Seat,[Dn("name")]);return this.createModels(e,KU,"getAllSeats")}}const O1e=()=>{const{firebaseConfig:t}=ji(),e=$.exports.useCallback(async()=>{const n=new L1e(t),r=new dT(t),o=await n.getAllSeats(),a=o.map(d=>r.getMostRecentCouncilMemberRoleBySeat(d.id)),s=await Promise.all(a),l=s.reduce((d,f,h)=>(f===null&&d.push(h),d),[]),c=s.reduce((d,f)=>(f!==null&&d.push(f),d),[]);for(let d=l.length-1;d>=0;d--)o.splice(l[d],1);return{seats:o,roles:c}},[t]),{state:i}=bn({isLoading:!1,error:null,hasFetchRequest:!0},e);return P($f,{isLoading:i.isLoading,error:i.error,children:i.data&&P(P1e,{roles:i.data.roles,seats:i.data.seats})})},D1e=Fe.b(t=>({overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":t.minified?`${t.linesToShow}`:"none","line-clamp":t.minified?`${t.linesToShow}`:"none","-webkit-box-orient":"vertical"})),M1e=({matterStatus:t,indexedMatterGrams:e})=>{var a,s;const[i,n]=$.exports.useState(!0),o=Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`})?4:2;return ue("div",{children:[P("h1",{className:"mzp-u-title-sm",children:(a=t.matter)==null?void 0:a.name}),P(D1e,{onClick:()=>{n(!i)},minified:i,linesToShow:o,children:(s=t.matter)==null?void 0:s.title}),ue("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:12,marginBottom:12},children:[P(zs,{result:t.status,style:{display:"flex",alignItems:"center",flex:0,whiteSpace:"nowrap"}}),P("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",alignItems:"center",flex:1},children:e&&e.map(l=>ue("div",{children:[P("p",{style:{display:"inline",paddingLeft:11,paddingRight:11},children:"\u2022"}),P("p",{style:{display:"inline"},children:l.unstemmed_gram})]},l.id))})]})]})},rg=20,fT=6,wc=Fe.div({width:rg,height:rg,borderRadius:"50%",zIndex:1}),JU=29,B1e=`calc(50% + ${rg/2}px + ${fT+2}px)`,F1e=Fe.div({height:JU,position:"relative"}),sO=Fe.div(t=>({position:"absolute",top:0,left:0,height:JU,width:t.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:t.zIndex,"& > div:first-of-type":{marginLeft:fT},"& > div:last-of-type":{marginRight:fT}})),N1e=Fe.div({display:"flex",justifyContent:"space-between","& > div":{fontWeight:500}}),j1e={[Oo.ADOPTED]:["cdp-bg-acceptance-green","cdp-bg-light-acceptance_green"],[Oo.REJECTED]:["cdp-bg-rejected-red","cdp-bg-light-rejected_red"],[Oo.IN_PROGRESS]:["cdp-bg-in-progress_orange","cdp-bg-light-in_progress_orange"]},U1e=({status:t})=>{const e=j1e[t],i=t===Oo.IN_PROGRESS;return ue("div",{children:[ue(F1e,{children:[ue(sO,{className:e[1],width:i?B1e:"100%",zIndex:2,children:[P(wc,{className:e[0]}),P(wc,{className:e[0]}),!i&&P(wc,{className:e[0]})]}),ue(sO,{className:"cdp-bg-light-neutral_grey",width:"100%",zIndex:1,children:[P(wc,{className:"cdp-bg-neutral-grey"}),P(wc,{className:"cdp-bg-neutral-grey"}),P(wc,{className:"cdp-bg-neutral-grey"})]})]}),ue(N1e,{children:[P("div",{children:"Introduced"}),P("div",{children:Oo.IN_PROGRESS}),P("div",{style:{opacity:i?"0.75":"1"},children:i?Oo.ADOPTED:t})]})]})},G1e=Fe(jl)({display:"flex",justifyContent:"space-between",alignItems:"flex-end","& > em":{fontSize:Sr.font_size_6,fontWeight:400}}),H1e=Fe.div({display:"flex",flexWrap:"wrap"}),W1e=Fe.dl({fontSize:Sr.font_size_6,display:"flex",flexDirection:"column",rowGap:16,"& > div:not(:nth-of-type(2))":{display:"flex",columnGap:4,flexWrap:"wrap"},"& > div:nth-of-type(2)":{margin:"16px 0"},"& > div:nth-of-type(2) > dt":{width:0,height:0,overflow:"hidden"},"& dt":{fontWeight:600},"& dd":{fontWeight:400}}),Y1e=({matterStatus:t,event:e,sponsors:i,document:n})=>{const{municipality:r}=ji(),{language:o}=jo();return ue("div",{children:[ue(G1e,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:[P("span",{children:"Legislation Overview"}),P("em",{children:`Last Updated ${t.update_datetime.toLocaleDateString(o,{timeZone:r.timeZone,month:"long",day:"numeric",year:"numeric"})}`})]}),ue(W1e,{children:[ue("div",{children:[P("dt",{children:"Legislation Status:"}),P("dd",{children:P(zs,{result:t.status})})]}),ue("div",{children:[P("dt",{children:"Progress bar"}),P("dd",{children:P(U1e,{status:t.status})})]}),e&&ue("div",{children:[P("dt",{children:"Latest Meeting:"}),P("dd",{children:P(yn,{to:`/events/${e.id}`,children:e.event_datetime.toLocaleDateString(o,{timeZone:r.timeZone,month:"short",day:"numeric",year:"numeric"})})})]}),n&&ue("div",{children:[P("dt",{children:"Latest Document:"}),P("dd",{children:P("a",{target:"_blank",rel:"noopener noreferrer",href:n.url,children:n.name})})]}),ue("div",{children:[P("dt",{children:"Sponsored by:"}),P("dd",{children:P(H1e,{children:i.map((a,s)=>[s>0&&P("span",{style:{whiteSpace:"pre-wrap"},children:",  "}),P(yn,{to:`/people/${a.id}`,children:a.name},a.id)])})})]})]})]})},V1e=Fe.div({flex:4}),lO=Fe.div(t=>({position:"absolute",top:0,left:0,height:t.height,width:t.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",zIndex:t.zIndex})),Vk=({statusColor:t,percentage:e,height:i,votes:n,label:r})=>{const[o,a]=$.exports.useState(!1),s=Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`}),l=n.map((h,m)=>{var v,w;return ue("div",{style:{marginTop:4,display:"flex"},children:[P(yn,{to:`/people/${(v=h.person)==null?void 0:v.id}`,style:{marginLeft:12,flex:1},children:(w=h.person)==null?void 0:w.name}),P(zs,{result:h.decision}),!s&&P(V1e,{style:{flex:4}})]},`${m}_${h.id}_vote`)}),c=s?"column":"row",d=s?"100%":"80%",f=s?"100%":"20%";return ue("div",{style:{display:"flex",flexDirection:"column",marginTop:16},children:[ue("div",{style:{display:"flex",flexDirection:c,flex:1,alignItems:"center"},children:[ue("div",{style:{height:i,position:"relative",width:d,cursor:"pointer"},onClick:()=>{a(!o)},children:[P(lO,{className:t,width:`${e}%`,height:i,zIndex:2}),P(lO,{className:"cdp-bg-neutral-grey",width:"100%",height:i,zIndex:1})]}),P("b",{style:{marginLeft:16,width:f},children:r})]}),o&&l]})};function $1e(t){const e=[],i=[],n=[];return t.forEach(r=>{[li.ABSENT_APPROVE,li.ABSTAIN_APPROVE,li.APPROVE].includes(r.decision)&&e.push(r),[li.ABSENT_REJECT,li.ABSTAIN_REJECT,li.REJECT].includes(r.decision)&&i.push(r),[li.ABSENT_NON_VOTING,li.ABSTAIN_NON_VOTING].includes(r.decision)&&n.push(r)}),{inFavor:e,against:i,abstained:n}}const $k=16,ZU=({votes:t})=>{const{inFavor:e,against:i,abstained:n}=$1e(t),r=Ae.number_approved.replace("{number}",`${e.length}`),o=Ae.number_rejected.replace("{number}",`${i.length}`),a=Ae.number_non_voting.replace("{number}",`${n.length}`),s=[P(Vk,{statusColor:"cdp-bg-acceptance-green",votes:e,percentage:e.length/t.length*100,height:$k,label:r},"inFavorVoteBar"),P(Vk,{statusColor:"cdp-bg-rejected-red",votes:i,percentage:i.length/t.length*100,height:$k,label:o},"againstVoteBar"),P(Vk,{statusColor:"cdp-bg-light-purple",votes:n,percentage:n.length/t.length*100,height:$k,label:a},"abstainedVoteBar")];return P("div",{style:{display:"flex",flexDirection:"column"},children:s})},Q1e=({votes:t})=>P("div",{style:{marginTop:16},children:P(xu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(jl,{className:"mzp-u-title-xs",isInline:!0,children:Ae.latest_vote}),hiddenContent:P(ZU,{votes:t})})}),q1e=({eventMinutesItem:t,isLastIndex:e})=>{var g,A,x,T,E,z,L,B;const{municipality:i}=ji(),n=Go.exports.useMediaQuery({query:`(max-width: ${Mt.tablet})`}),r=n?4:12,o=Fe.div({position:"relative"}),a=Fe.div({margin:r,display:"flex",flexDirection:"row",gap:r*3}),s=Fe.div({flex:1}),l=Fe.div({display:"flex",flexDirection:"row"}),c=Fe.div(()=>({flex:1,marginTop:r,marginLeft:n?0:r*2})),d=Fe.div({position:"absolute",top:r+rg,left:rg/2+r,height:"100%",width:2,zIndex:0,backgroundColor:"grey"}),{firebaseConfig:f}=ji(),{language:h}=jo(),m=(g=t.event)==null?void 0:g.event_datetime.toLocaleDateString(h,{timeZone:i.timeZone,month:"long",day:"numeric",year:"numeric"}),v=$.exports.useCallback(async()=>{const O={votes:[],files:[]},H=await new AN(f).getEventMinutesItemFilesByEventMinutesItemId(t.id);if(O.files=H.map(({name:X,uri:de})=>({label:X,url:de})),t.decision){const X=new SA(f);O.votes=await X.getVotesByEventMinutesItemId(t.id)}return Promise.resolve(O)},[t.id,t.decision,f]),{state:w}=bn({...Io},v);return ue(o,{children:[ue(a,{children:[P(wc,{className:"cdp-bg-neutral-grey"}),ue(s,{children:[ue(l,{children:[P(yn,{to:`/events/${(A=t.event)==null?void 0:A.id}`,children:m}),t.decision&&P(zs,{result:t.decision,style:{marginLeft:r,display:"flex",flex:1,alignItems:"center"}})]}),ue(Ng,{data:"votes and documents associated with this event",isLoading:w.isLoading,error:w.error,notFound:!w.data,children:[((x=w.data)==null?void 0:x.votes)&&((T=w.data)==null?void 0:T.votes.length)>0&&P(xu,{summaryContent:Ae.votes,hiddenContent:P(c,{children:P(ZU,{votes:(E=w.data)==null?void 0:E.votes})}),defaultOpen:!1,hasBorderBottom:!1}),((z=w.data)==null?void 0:z.files)&&((L=w.data)==null?void 0:L.files.length)>0&&P($U,{documents:(B=w.data)==null?void 0:B.files})]})]})]}),!e&&P(d,{})]})},K1e=Fe.div({marginTop:16}),X1e=Fe.div({display:"flex",flexDirection:"column"}),J1e=({eventMinutesItems:t})=>P(K1e,{children:P(xu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(jl,{className:"mzp-u-title-xs",isInline:!0,children:Ae.history}),hiddenContent:P(X1e,{children:t.map((e,i)=>P(q1e,{isLastIndex:i===t.length-1,eventMinutesItem:e},`leg_hist_node_${e.id}_${i}`))})})}),Z1e=Fe.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),eke=({matterStatus:t,indexedMatterGrams:e,event:i,sponsors:n,votes:r,legislationHistory:o})=>ue(Z1e,{children:[P(M1e,{matterStatus:t,indexedMatterGrams:e}),P(Y1e,{matterStatus:t,event:i,sponsors:n}),r&&P(Q1e,{votes:r}),o&&P(J1e,{eventMinutesItems:o})]});class tke extends Un{constructor(e){super(Te.Matter,e)}async getMatterById(e){const i=this.networkService.getDocument(e,Te.Matter);return this.createModel(i,Fg,`getMatterById(${e})`)}}class ike{constructor(e){this.id=e.id,this.matter_ref=e.matter_ref.id,this.status=e.status,this.update_datetime=Aa(e.update_datetime),e.event_minutes_item_ref&&(e.event_minutes_item_ref instanceof _t?this.event_minutes_item_ref=e.event_minutes_item_ref.id:typeof e.event_minutes_item_ref=="object"&&(this.event_minutes_item=new _A(e.event_minutes_item_ref))),e.external_source_id&&(this.external_source_id=e.external_source_id),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof _t)&&(this.matter=new Fg(e.matter_ref))}}class nke extends Un{constructor(e){super(Te.MatterStatus,e)}async getMatterStatusesByMatterId(e){const i=new zi(Te.EventMinutesItem,vt.EventMinutesItemEventRef),n=new zi(Te.MatterStatus,vt.MatterStatusEventMinutesItemRef,new nn([i])),r=this.networkService.getDocuments(Te.MatterStatus,[xi(vt.MatterStatusMatterRef,gi.eq,$i(Xt.getDb(),Te.Matter,e)),Dn("update_datetime",en.desc)],new nn([n]));return this.createModels(r,ike,`getMatterStatusByMatterId(${e})`)}}const rke=()=>{const{firebaseConfig:t}=ji(),{id:e}=kS(),i=$.exports.useCallback(async()=>{const r=new tke(t),o=new nke(t),a=new XU(t),s=new xA(t),l=r.getMatterById(e),c=a.getMatterSponsorByMatterId(e),d=o.getMatterStatusesByMatterId(e),f=await Promise.all([l,c,d]),[h,m,v]=f,w=m.filter(E=>E.person).map(E=>E.person),g=v.reduce((E,z)=>(z.event_minutes_item&&E.push(z.event_minutes_item),E),[]),A=v[0];A.matter=h;const x={matterStatus:A,indexedMatterGrams:[],sponsors:w,legislationHistory:g};let T;for(const E of v)if(E.event_minutes_item){T=E.event_minutes_item;break}if(T){const E=new SA(t),z=await Promise.all([E.getVotesByEventMinutesItemId(T.id),s.getEventById(T.event_ref)]);x.votes=z[0],x.event=z[1]}return x},[t,e]),{state:n}=bn({isLoading:!1,error:null,hasFetchRequest:!0},i);return P($f,{isLoading:n.isLoading,error:n.error,children:n.data&&P(eke,{indexedMatterGrams:n.data.indexedMatterGrams,matterStatus:n.data.matterStatus,sponsors:n.data.sponsors,event:n.data.event,votes:n.data.votes,legislationHistory:n.data.legislationHistory})})},oke=Fe.div({minHeight:"100vh",display:"flex",flexDirection:"column"}),ake=Fe.main({boxSizing:"border-box",width:"100%",padding:"16px",flex:1,alignSelf:"center",display:"flex",flexDirection:"column",[`@media (min-width:${Mt.tablet})`]:{padding:"32px",maxWidth:"1280px"}});function ske(){Mf(Ae.council_data_project);const{municipality:t}=ji(),[e,i]=$.exports.useState(ype[0]);return P(Jr,{children:P(xq,{languageConfig:{language:e,setLanguage:i},children:ue(gK,{basename:"/",children:[P(iX,{styles:JM`
              html,
              body {
                font-size: 100%;
              }

              body {
                font-family: Inter, X-LocaleSpecific, sans-serif;
              }
            `}),ue(oke,{children:[P(RX,{municipalityName:t.name}),P(ake,{children:ue(mK,{children:[P(Ks,{exact:!0,path:"/",children:P(QX,{})}),P(Ks,{exact:!0,path:`/${Qr.EVENT}`,children:P(r1e,{})}),P(Ks,{exact:!0,path:`/${Qr.EVENT}/search`,children:P(Ape,{})}),P(Ks,{exact:!0,path:`/${Qr.EVENT}/:id`,children:P(t1e,{})}),P(Ks,{exact:!0,path:"/people",children:P(O1e,{})}),P(Ks,{exact:!0,path:"/people/:id",children:P(E1e,{})}),P(Ks,{exact:!0,path:"/matters/:id",children:P(rke,{})}),P(Ks,{path:"*",component:JF})]})}),P(LX,{footerLinksSections:t.footerLinksSections})]})]})})})}gq.render(P(ze.StrictMode,{children:P(Aq,{appConfig:{firebaseConfig:{options:{projectId:"cdp-seattle-21723dcf"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}},children:P(ske,{})})}),document.getElementById("root"))});export default lke();
